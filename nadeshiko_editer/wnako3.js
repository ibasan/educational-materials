/*! For license information please see wnako3.js.LICENSE.txt */
(function(){var __webpack_modules__={"./node_modules/hotkeys-js/dist/hotkeys.common.js":function(e){"use strict";const t="undefined"!=typeof navigator&&navigator.userAgent.toLowerCase().indexOf("firefox")>0;function n(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r):e.attachEvent&&e.attachEvent("on".concat(t),n)}function r(e,t,n,r){e.removeEventListener?e.removeEventListener(t,n,r):e.detachEvent&&e.detachEvent("on".concat(t),n)}function s(e,t){const n=t.slice(0,t.length-1);for(let t=0;t<n.length;t++)n[t]=e[n[t].toLowerCase()];return n}function o(e){"string"!=typeof e&&(e="");const t=(e=e.replace(/\s/g,"")).split(",");let n=t.lastIndexOf("");for(;n>=0;)t[n-1]+=",",t.splice(n,1),n=t.lastIndexOf("");return t}const i={backspace:8,"‚å´":8,tab:9,clear:12,enter:13,"‚Ü©":13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"‚á™":20,",":188,".":190,"/":191,"`":192,"-":t?173:189,"=":t?61:187,";":t?59:186,"'":222,"[":219,"]":221,"\\":220},u={"‚áß":16,shift:16,"‚å•":18,alt:18,option:18,"‚åÉ":17,ctrl:17,control:17,"‚åò":91,cmd:91,command:91},c={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},a={16:!1,18:!1,17:!1,91:!1},f={};for(let e=1;e<20;e++)i["f".concat(e)]=111+e;let l=[],p=null,h="all";const d=new Map,_=e=>i[e.toLowerCase()]||u[e.toLowerCase()]||e.toUpperCase().charCodeAt(0);function y(e){h=e||"all"}function m(){return h||"all"}function g(e){if(void 0===e)Object.keys(f).forEach((e=>{Array.isArray(f[e])&&f[e].forEach((e=>k(e))),delete f[e]})),j(null);else if(Array.isArray(e))e.forEach((e=>{e.key&&k(e)}));else if("object"==typeof e)e.key&&k(e);else if("string"==typeof e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];let[s,o]=n;"function"==typeof s&&(o=s,s=""),k({key:e,scope:s,method:o,splitKey:"+"})}}const k=e=>{let{key:t,scope:n,method:r,splitKey:i="+"}=e;o(t).forEach((e=>{const t=e.split(i),o=t.length,c=t[o-1],a="*"===c?"*":_(c);if(!f[a])return;n||(n=m());const l=o>1?s(u,t):[],p=[];f[a]=f[a].filter((e=>{const t=(!r||e.method===r)&&e.scope===n&&function(e,t){const n=e.length>=t.length?e:t,r=e.length>=t.length?t:e;let s=!0;for(let e=0;e<n.length;e++)-1===r.indexOf(n[e])&&(s=!1);return s}(e.mods,l);return t&&p.push(e.element),!t})),p.forEach((e=>j(e)))}))};function v(e,t,n,r){if(t.element!==r)return;let s;if(t.scope===n||"all"===t.scope){s=t.mods.length>0;for(const e in a)Object.prototype.hasOwnProperty.call(a,e)&&(!a[e]&&t.mods.indexOf(+e)>-1||a[e]&&-1===t.mods.indexOf(+e))&&(s=!1);(0!==t.mods.length||a[16]||a[18]||a[17]||a[91])&&!s&&"*"!==t.shortcut||(t.keys=[],t.keys=t.keys.concat(l),!1===t.method(e,t)&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0)))}}function b(e,t){const n=f["*"];let r=e.keyCode||e.which||e.charCode;if(!w.filter.call(this,e))return;if(93!==r&&224!==r||(r=91),-1===l.indexOf(r)&&229!==r&&l.push(r),["ctrlKey","altKey","shiftKey","metaKey"].forEach((t=>{const n=c[t];e[t]&&-1===l.indexOf(n)?l.push(n):!e[t]&&l.indexOf(n)>-1?l.splice(l.indexOf(n),1):"metaKey"===t&&e[t]&&3===l.length&&(e.ctrlKey||e.shiftKey||e.altKey||(l=l.slice(l.indexOf(n))))})),r in a){a[r]=!0;for(const e in u)u[e]===r&&(w[e]=!0);if(!n)return}for(const t in a)Object.prototype.hasOwnProperty.call(a,t)&&(a[t]=e[c[t]]);e.getModifierState&&(!e.altKey||e.ctrlKey)&&e.getModifierState("AltGraph")&&(-1===l.indexOf(17)&&l.push(17),-1===l.indexOf(18)&&l.push(18),a[17]=!0,a[18]=!0);const s=m();if(n)for(let r=0;r<n.length;r++)n[r].scope===s&&("keydown"===e.type&&n[r].keydown||"keyup"===e.type&&n[r].keyup)&&v(e,n[r],s,t);if(!(r in f))return;const o=f[r],i=o.length;for(let n=0;n<i;n++)if(("keydown"===e.type&&o[n].keydown||"keyup"===e.type&&o[n].keyup)&&o[n].key){const r=o[n],{splitKey:i}=r,u=r.key.split(i),c=[];for(let e=0;e<u.length;e++)c.push(_(u[e]));c.sort().join("")===l.sort().join("")&&v(e,r,s,t)}}function w(e,t,r){l=[];const i=o(e);let c=[],h="all",y=document,m=0,k=!1,v=!0,j="+",S=!1,x=!1;for(void 0===r&&"function"==typeof t&&(r=t),"[object Object]"===Object.prototype.toString.call(t)&&(t.scope&&(h=t.scope),t.element&&(y=t.element),t.keyup&&(k=t.keyup),void 0!==t.keydown&&(v=t.keydown),void 0!==t.capture&&(S=t.capture),"string"==typeof t.splitKey&&(j=t.splitKey),!0===t.single&&(x=!0)),"string"==typeof t&&(h=t),x&&g(e,h);m<i.length;m++)c=[],(e=i[m].split(j)).length>1&&(c=s(u,e)),(e="*"===(e=e[e.length-1])?"*":_(e))in f||(f[e]=[]),f[e].push({keyup:k,keydown:v,scope:h,mods:c,shortcut:i[m],method:r,key:i[m],splitKey:j,element:y});if(void 0!==y&&window){if(!d.has(y)){const e=function(){return b(arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.event,y)},t=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.event;b(e,y),function(e){let t=e.keyCode||e.which||e.charCode;const n=l.indexOf(t);if(n>=0&&l.splice(n,1),e.key&&"meta"===e.key.toLowerCase()&&l.splice(0,l.length),93!==t&&224!==t||(t=91),t in a){a[t]=!1;for(const e in u)u[e]===t&&(w[e]=!1)}}(e)};d.set(y,{keydownListener:e,keyupListenr:t,capture:S}),n(y,"keydown",e,S),n(y,"keyup",t,S)}if(!p){const e=()=>{l=[]};p={listener:e,capture:S},n(window,"focus",e,S)}}}function j(e){const t=Object.values(f).flat();if(t.findIndex((t=>{let{element:n}=t;return n===e}))<0){const{keydownListener:t,keyupListenr:n,capture:s}=d.get(e)||{};t&&n&&(r(e,"keyup",n,s),r(e,"keydown",t,s),d.delete(e))}if(t.length<=0||d.size<=0){if(Object.keys(d).forEach((e=>{const{keydownListener:t,keyupListenr:n,capture:s}=d.get(e)||{};t&&n&&(r(e,"keyup",n,s),r(e,"keydown",t,s),d.delete(e))})),d.clear(),Object.keys(f).forEach((e=>delete f[e])),p){const{listener:e,capture:t}=p;r(window,"focus",e,t),p=null}}}const S={getPressedKeyString:function(){return l.map((e=>{return t=e,Object.keys(i).find((e=>i[e]===t))||(e=>Object.keys(u).find((t=>u[t]===e)))(e)||String.fromCharCode(e);var t}))},setScope:y,getScope:m,deleteScope:function(e,t){let n,r;e||(e=m());for(const t in f)if(Object.prototype.hasOwnProperty.call(f,t))for(n=f[t],r=0;r<n.length;)if(n[r].scope===e){n.splice(r,1).forEach((e=>{let{element:t}=e;return j(t)}))}else r++;m()===e&&y(t||"all")},getPressedKeyCodes:function(){return l.slice(0)},getAllKeyCodes:function(){const e=[];return Object.keys(f).forEach((t=>{f[t].forEach((t=>{let{key:n,scope:r,mods:s,shortcut:o}=t;e.push({scope:r,shortcut:o,mods:s,keys:n.split("+").map((e=>_(e)))})}))})),e},isPressed:function(e){return"string"==typeof e&&(e=_(e)),-1!==l.indexOf(e)},filter:function(e){const t=e.target||e.srcElement,{tagName:n}=t;let r=!0;const s="INPUT"===n&&!["checkbox","radio","range","button","file","reset","submit","color"].includes(t.type);return(t.isContentEditable||(s||"TEXTAREA"===n||"SELECT"===n)&&!t.readOnly)&&(r=!1),r},trigger:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all";Object.keys(f).forEach((n=>{f[n].filter((n=>n.scope===t&&n.shortcut===e)).forEach((e=>{e&&e.method&&e.method()}))}))},unbind:g,keyMap:i,modifier:u,modifierMap:c};for(const e in S)Object.prototype.hasOwnProperty.call(S,e)&&(w[e]=S[e]);if("undefined"!=typeof window){const e=window.hotkeys;w.noConflict=t=>(t&&window.hotkeys===w&&(window.hotkeys=e),w),window.hotkeys=w}e.exports=w},"./node_modules/hotkeys-js/index.js":function(e,t,n){e.exports=n("./node_modules/hotkeys-js/dist/hotkeys.common.js")},"./core/src/nako3.mjs":function(e,t,n){"use strict";n.r(t),n.d(t,{NakoCompiler:function(){return w},newCompilerOptions:function(){return b}});var r=n("./core/src/nako_parser3.mjs"),s=n("./core/src/nako_lexer.mjs"),o=n("./core/src/nako_prepare.mjs"),i=n("./core/src/nako_gen.mjs"),u=n("./core/src/nako_indent_inline.mjs"),c=n("./core/src/nako_from_dncl.mjs"),a=n("./core/src/nako_from_dncl2.mjs"),f=n("./core/src/nako_source_mapping.mjs"),l=n("./core/src/nako_errors.mjs"),p=n("./core/src/nako_logger.mjs"),h=n("./core/src/nako_global.mjs"),d=n("./core/src/nako_core_version.mjs"),_=n("./core/src/plugin_system.mjs"),y=n("./core/src/plugin_math.mjs"),m=n("./core/src/plugin_csv.mjs"),g=n("./core/src/plugin_promise.mjs"),k=n("./core/src/plugin_test.mjs");const v=e=>JSON.parse(JSON.stringify(e));function b(e={}){return"object"!=typeof e&&(e={}),e.testOnly=e.testOnly||!1,e.resetEnv=e.resetEnv||!1,e.resetAll=e.resetAll||!1,e.preCode=e.preCode||"",e.nakoGlobal=e.nakoGlobal||null,e}class w{nakoFuncList;funclist;moduleExport;pluginFunclist;pluginfiles;commandlist;prepare;parser;lexer;dependencies;usedFuncs;codeGenerateor;logger;eventList;__varslist;__locals;__self;__vars;__v0;__v1;__globals;__globalObj;__module;numFailures;version;coreVersion;filename;debugOption;constructor(e=void 0){void 0===e&&(e={useBasicPlugin:!0}),this.__varslist=[new Map,new Map,new Map],this.__locals=new Map,this.__self=this,this.__vars=this.__varslist[2],this.__v1=this.__varslist[1],this.__v0=this.__varslist[0],this.version=d.default.version,this.coreVersion=d.default.version,this.__globals=[],this.__globalObj=null,this.__module={},this.pluginFunclist={},this.funclist=new Map,this.moduleExport=new Map,this.pluginfiles={},this.commandlist=new Set,this.nakoFuncList=new Map,this.eventList=[],this.codeGenerateor={},this.debugOption={useDebug:!1,waitTime:0},this.logger=new p.NakoLogger,this.filename="main.nako3",this.dependencies={},this.usedFuncs=new Set,this.numFailures=0,e.useBasicPlugin&&this.addBasicPlugins(),this.prepare=o.NakoPrepare.getInstance(),this.parser=new r.NakoParser(this.logger),this.lexer=new s.NakoLexer(this.logger),this.lexer.setFuncList(this.funclist),this.lexer.setModuleExport(this.moduleExport)}getModList(){return this.lexer.modList}getLogger(){return this.logger}getNakoFuncList(){return this.nakoFuncList}getNakoFunc(e){return this.nakoFuncList.get(e)}getPluginfiles(){return this.pluginfiles}addBasicPlugins(){this.addPluginObject("PluginSystem",_.default),this.addPluginObject("PluginMath",y.default),this.addPluginObject("PluginPromise",g.default),this.addPluginObject("PluginAssert",k.default),this.addPluginObject("PluginCSV",m.default)}replaceLogger(){return this.lexer.logger=this.parser.logger=this.logger=new p.NakoLogger}static listRequireStatements(e){const t=[];for(let n=0;n+2<e.length;n++){if("not"!==e[n].type||"string"!==e[n+1].type&&"string_ex"!==e[n+1].type||"ÂèñËæº"!==e[n+2].value)continue;let r=e[n+1].value+"";if(r.startsWith("Ë≤ØËîµÂ∫´:")&&(r=`https://n3s.nadesi.com/plain/${r.substring(4)}`),r.startsWith("Êã°Âºµ„Éó„É©„Ç∞„Ç§„É≥:")){const t=r.split(":")[1].match(/^([a-zA-Z0-9_-]+)\.(js|mjs|nako3)(@[0-9.]+)?$/);if(!t)throw new l.NakoImportError("„ÄéÂèñËæº„Äè„ÅÆÊåáÂÆö„Ç®„É©„Éº„ÄÇ„ÄéÊã°Âºµ„Éó„É©„Ç∞„Ç§„É≥:(„Éï„Ç°„Ç§„É´Âêç).(js|nako3)(@ver)„Äè„ÅÆÊõ∏Âºè„ÅßÊåáÂÆö„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ",e[n].file,e[n].line);{let e=t[1];const n=t[2],s=t[3]||"@latest";"js"===n||"mjs"===n?(e.startsWith("nadesiko3-")||(e=`nadesiko3-${e}`),r=`https://cdn.jsdelivr.net/npm/${e}${s}/${e}.${n}`):r=`https://n3s.nadesi.com/plain/${e}.${n}`}}t.push({...e[n],start:n,end:n+3,value:r,firstToken:e[n],lastToken:e[n+2]}),n+=2}return t}_loadDependencies(e,t,n,r){const o={},i=new w({useBasicPlugin:!0}),u=(e,t)=>{const n=r.readJs(e.filePath,e.firstToken);t.push(n.task.then((t=>{const n=t();this.addPluginFile(e.value,e.filePath,n,!1),o[e.filePath].funclist=n,o[e.filePath].moduleExport={},o[e.filePath].addPluginFile=()=>{this.addPluginFile(e.value,e.filePath,n,!1)}})))},c=(e,t)=>{const n=r.readNako3(e.filePath,e.firstToken),i=t=>{const n=s.NakoLexer.filenameToModName(e.filePath);t=`„Äé${n}„Äè„Å´ÂêçÂâçÁ©∫ÈñìË®≠ÂÆö;„Äé${n}„Äè„Å´„Éó„É©„Ç∞„Ç§„É≥ÂêçË®≠ÂÆö;`+t+";ÂêçÂâçÁ©∫Èñì„Éù„ÉÉ„Éó;";const r=this.rawtokenize(t,0,e.filePath);o[e.filePath].tokens=r;const i=new Map,u=new Map;return s.NakoLexer.preDefineFunc(v(r),this.logger,i,u),o[e.filePath].funclist=i,o[e.filePath].moduleExport=u,a(t,e.filePath,"")};t.push(n.task.then((e=>i(e))))},a=(e,t,n)=>{const s=[],a=w.listRequireStatements(i.rawtokenize(e,0,t,n)).map((e=>({...e,...r.resolvePath(e.value,e.firstToken,t)})));for(const e of a)if(o.hasOwnProperty(e.filePath))o[e.filePath].alias.add(e.value);else if(o[e.filePath]={tokens:[],alias:new Set([e.value]),addPluginFile:()=>{},funclist:{},moduleExport:{}},"js"===e.type||"mjs"===e.type)u(e,s);else{if("nako3"!==e.type)throw new l.NakoImportError(`„Éï„Ç°„Ç§„É´„Äé${e.value}„Äè„ÇíË™≠„ÅøËæº„ÇÅ„Åæ„Åõ„Çì„ÄÇ„Éï„Ç°„Ç§„É´„ÅåÂ≠òÂú®„Åó„Å™„ÅÑ„ÅãÊú™ÂØæÂøú„ÅÆÊã°ÂºµÂ≠ê„Åß„Åô„ÄÇ`,e.firstToken.file,e.firstToken.line);c(e,s)}if(s.length>0)return Promise.all(s)};try{const r=a(e,t,n);return void 0!==r&&r.catch((e=>{this.logger.error(e.msg),this.numFailures++})),this.dependencies=o,r}catch(e){throw this.logger.error(""+e),e}}rawtokenize(e,t,n,r=""){if(!e.startsWith(r))throw new Error("code„ÅÆÂÖàÈ†≠„Å´„ÅØpreCode„ÇíÂê´„ÇÅ„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ");const o=s.NakoLexer.filenameToModName(n),i=this.getModList();i.indexOf(o)<0&&i.unshift(o);const p=this.prepare.convert(e),h=new f.SourceMappingOfTokenization(e.length,p),d=new f.SourceMappingOfIndentSyntax(e,[],[]),_=new f.OffsetToLineColumn(e);let y;try{y=this.lexer.tokenize(p.map((e=>e.text)).join(""),t,n)}catch(e){if(!(e instanceof l.InternalLexerError))throw e;const t=d.map(h.map(e.preprocessedCodeStartOffset),h.map(e.preprocessedCodeEndOffset)),s=null===t.startOffset?e.line:_.map(t.startOffset,!1).line,o=(0,f.subtractSourceMapByPreCodeLength)({...t,line:s},r);throw new l.NakoLexerError(e.msg,o.startOffset,o.endOffset,o.line,n)}return y=(0,a.convertDNCL2)(y),y=(0,c.convertDNCL)(y),y=(0,u.convertIndentSyntax)(y),y=(0,u.convertInlineIndent)(y),y=y.map((e=>{const t=d.map(h.map(e.preprocessedCodeOffset||0),h.map((e.preprocessedCodeOffset||0)+(e.preprocessedCodeLength||0)));let n=e.line,s=0;if("eol"===e.type&&null!==t.endOffset){const e=_.map(t.endOffset,!1);n=e.line,s=e.column}else if(null!==t.startOffset){const e=_.map(t.startOffset,!1);n=e.line,s=e.column}return{...e,...(0,f.subtractSourceMapByPreCodeLength)({line:n,column:s,startOffset:t.startOffset,endOffset:t.endOffset},r),rawJosi:e.josi}})),y}converttoken(e,t,n){return this.lexer.replaceTokens(e,t,n)}reset(e=void 0){e&&!e.needToClearPlugin||this.clearPlugins(),this.__varslist=[this.__varslist[0],new Map,new Map],this.__v0=this.__varslist[0],this.__v1=this.__varslist[1],this.__vars=this.__varslist[2],this.__locals=new Map,this.funclist=new Map;for(const e of this.__v0.keys()){const t=this.pluginFunclist[e];t&&this.funclist.set(e,JSON.parse(JSON.stringify(t)))}this.lexer.setFuncList(this.funclist),this.moduleExport=new Map,this.lexer.setModuleExport(this.moduleExport),this.logger.clear()}lexCodeToken(e,t,n,r){let s=this.rawtokenize(e,t,n,"");if(null===r)for(const e of s)e.startOffset=void 0,e.endOffset=void 0;else for(const e of s)void 0!==e.startOffset&&(e.startOffset+=r),void 0!==e.endOffset&&(e.endOffset+=r);const o=s.filter((e=>"line_comment"===e.type||"range_comment"===e.type)).map((e=>({...e})));return s=this.converttoken(s,!1,n),{tokens:s,commentTokens:o}}replaceRequireStatements(e,t=new Set){const n=[];for(const r of w.listRequireStatements(e).reverse()){if(t.has(r.value)){n.push(...e.splice(r.start||0,(r.end||0)-(r.start||0)));continue}const s=Object.keys(this.dependencies).find((e=>this.dependencies[e].alias.has(r.value)));if(void 0===s){if(!r.firstToken)throw new Error(`„Éï„Ç°„Ç§„É´„Äé${r.value}„Äè„ÅåË™≠„ÅøËæº„Åæ„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì„ÄÇ`);throw new l.NakoLexerError(`„Éï„Ç°„Ç§„É´„Äé${r.value}„Äè„ÅåË™≠„ÅøËæº„Åæ„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì„ÄÇ`,r.firstToken.startOffset||0,r.firstToken.endOffset||0,r.firstToken.line,r.firstToken.file)}this.dependencies[s].addPluginFile();const o=v(this.dependencies[s].tokens);t.add(r.value),n.push(...this.replaceRequireStatements(o,t)),n.push(...e.splice(r.start||0,(r.end||0)-(r.start||0),...o))}return n}removeRequireStatements(e){const t=[];for(const n of w.listRequireStatements(e).reverse()){const r=Object.keys(this.dependencies).find((e=>this.dependencies[e].alias.has(n.value)));void 0!==r&&this.dependencies[r].addPluginFile(),t.push(...e.splice(n.start||0,(n.end||0)-(n.start||0)))}return t}lex(e,t="main.nako3",n="",r=!1){let o=this.rawtokenize(e,0,t,n);const i=r?this.removeRequireStatements(o):this.replaceRequireStatements(o,void 0);for(const e of i)"word"!==e.type&&"not"!==e.type||(e.type="require");if(i.length>=3)for(let e=0;e<i.length;e+=3){let t=i[e+1].value;t=s.NakoLexer.filenameToModName(t),this.lexer.modList.indexOf(t)<0&&this.lexer.modList.push(t)}const u=o.filter((e=>"line_comment"===e.type||"range_comment"===e.type)).map((e=>({...e})));o=this.converttoken(o,!0,t);for(let e=0;e<o.length;e++)if(o[e]&&"code"===o[e].type){const n=this.lexCodeToken(o[e].value,o[e].line,t,o[e].startOffset||0);u.push(...n.commentTokens),o.splice(e,1,...n.tokens),e--}return this.logger.trace("--- lex ---\n"+JSON.stringify(o,null,2)),{commentTokens:u,tokens:o,requireTokens:i}}parse(e,t,n=""){this.lexer.setFuncList(this.funclist),this.parser.setFuncList(this.funclist),this.lexer.setModuleExport(this.moduleExport),this.parser.setModuleExport(this.moduleExport);const r=this.lex(e,t,n);let s;try{this.parser.genMode="sync",s=this.parser.parse(r.tokens,t)}catch(e){if("number"!=typeof e.startOffset)throw l.NakoSyntaxError.fromNode(e.message,r.tokens[this.parser.getIndex()]);throw e}return this.usedFuncs=this.parser.usedFuncs,this.deleteUnNakoFuncs(),this.logger.trace("--- ast ---\n"+JSON.stringify(s,null,2)),s}getUsedFuncs(e){const t=[e];for(this.usedFuncs=new Set;t.length>0;){const e=t.pop();null!=e&&null!==e.block&&void 0!==e.block&&this.getUsedAndDefFuncs(t,JSON.parse(JSON.stringify(e.block)))}return this.deleteUnNakoFuncs()}getUsedAndDefFuncs(e,t){for(;t.length>0;){const n=t.pop();null!=n&&this.getUsedAndDefFunc(n,e,t)}}getUsedAndDefFunc(e,t,n){["func","func_pointer"].includes(e.type)&&null!==e.name&&void 0!==e.name&&this.usedFuncs.add(e.name),t.push([e,e.block]),n.push.apply(n,[e.value].concat(e.args))}deleteUnNakoFuncs(){for(const e of this.usedFuncs)this.commandlist.has(e)||this.usedFuncs.delete(e);return this.usedFuncs}compile(e,t,n=!1,r=""){const s=b();s.testOnly=n,s.preCode=r;return this.compileFromCode(e,t,s).runtimeEnv}compileFromCode(e,t,n=void 0){""===t&&(t="main.nako3"),void 0===n&&(n=b());try{n.resetEnv&&this.reset(),n.resetAll&&this.clearPlugins(),this.eventList.filter((e=>"beforeParse"===e.eventName)).map((t=>t.callback(e)));const r=this.parse(e,t,n.preCode);this.eventList.filter((e=>"beforeGenerate"===e.eventName)).map((e=>e.callback(r)));const s=this.generateCode(r,new i.NakoGenOptions(n.testOnly));return this.eventList.filter((e=>"afterGenerate"===e.eventName)).map((e=>e.callback(s))),s}catch(e){throw this.logger.error(e),e}}generateCode(e,t){const n=e.genMode||"";if("sync"===n)return(0,i.generateJS)(this,e,t);"ÈùûÂêåÊúü„É¢„Éº„Éâ"===n&&this.logger.error("„Äé!ÈùûÂêåÊúü„É¢„Éº„Éâ„Äè„ÅØÂªÉÊ≠¢„Åï„Çå„Åæ„Åó„Åü„ÄÇ[Ë©≥Á¥∞](https://github.com/kujirahand/nadesiko3/issues/1164)");const r=this.codeGenerateor[n];if(!r)throw new Error(`„Ç≥„Éº„Éâ„Ç∏„Çß„Éç„É¨„Éº„Çø„ÅÆ„Äå${n}„Äç„ÅØ„Çµ„Éù„Éº„Éà„Åï„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì„ÄÇ`);return r.generate(this,e,t.isTest)}addCodeGenerator(e,t){this.codeGenerateor[e]=t}async _run(e,t,n,r,s=""){const o=b({resetEnv:n,resetAll:n,testOnly:r,preCode:s});return this._runEx(e,t,o)}clearPlugins(){this.__globals.forEach((e=>{e.__setSysVar("forceClose",!0),e.reset()})),this.__globals=[]}evalJS(e,t){this.__globalObj=t,this.__globalObj.lastJSCode=e,this.eventList.filter((e=>"beforeRun"===e.eventName)).map((e=>e.callback(t)));try{new Function(t.lastJSCode).apply(t)}catch(e){throw t.numFailures++,this.getLogger().error(e),e}this.eventList.filter((e=>"finish"===e.eventName)).map((e=>e.callback(t)))}runSync(e,t,n=void 0){n=b(n);const r=this.compileFromCode(e,t,n),s=this.getNakoGlobal(n,r.gen,t);return this.evalJS(r.runtimeEnv,s),s}async runAsync(e,t,n=void 0){n=b(n);const r=this.compileFromCode(e,t,n),s=this.getNakoGlobal(n,r.gen,t);return this.evalJS(r.runtimeEnv,s),s}getNakoGlobal(e,t,n){let r=e.nakoGlobal;return r||(r=this.__globals.length>0&&!1===e.resetAll&&!1===e.resetEnv?this.__globals[this.__globals.length-1]:new h.NakoGlobal(this,t,this.__globals.length+1),r.__varslist[0].set("ÂêçÂâçÁ©∫Èñì",s.NakoLexer.filenameToModName(n))),this.__globals.indexOf(r)<0&&this.__globals.push(r),r}addListener(e,t){this.eventList.push({eventName:e,callback:t})}test(e,t,n="",r=!1){const s=b();return s.preCode=n,s.testOnly=r,this.runSync(e,t,s)}run(e,t="main.nako3",n=""){const r=b();return r.preCode=n,this.runSync(e,t,r)}compileStandalone(e,t,n=null){null===n&&(n=new i.NakoGenOptions);const r=this.parse(e,t);return this.generateCode(r,n).standalone}addPlugin(e,t=!0){const n=this.__varslist[0];let r=n.get("__pluginInfo");if(r||(r={},n.set("__pluginInfo",r)),e.meta){if(e.meta.value&&"object"==typeof e.meta){const t=e.meta.value||{pluginName:"unknown",nakoVersion:"0.0.0"},n=t.pluginName||"unknown",s=((t.nakoVersion||"0.0.0")+".0.0").split(".").map((e=>parseInt(e))),o=100*s[1]+s[2];if(600>o){const e=`„Å™„Åß„Åó„Åì„Éó„É©„Ç∞„Ç§„É≥„Äé${n}„Äè„ÅØÂè§„ÅÑÂΩ¢Âºè„Å™„ÅÆ„ÅßÊ≠£„Åó„ÅèÂãï‰Ωú„Åó„Å™„ÅÑÂèØËÉΩÊÄß„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ(„É©„É≥„Çø„Ç§„É†„ÅÆË¶ÅÊ±Ç: 600/„Éó„É©„Ç∞„Ç§„É≥: ${o})`;console.warn(e,"see","https://github.com/kujirahand/nadesiko3/issues/1647"),this.logger.warn(e),t.nakoVersionResult=!1}else t.nakoVersionResult=!0;r[n]=t}delete e.meta}for(const r in e){const s=e[r];if(this.funclist.set(r,s),t&&(this.pluginFunclist[r]=JSON.parse(JSON.stringify(s))),"func"===s.type)n.set(r,s.fn),s.asyncFn&&(s.pure=!0);else{if("const"!==s.type&&"var"!==s.type)throw console.error("[„Éó„É©„Ç∞„Ç§„É≥ËøΩÂä†„Ç®„É©„Éº]",s),new Error("„Éó„É©„Ç∞„Ç§„É≥„ÅÆËøΩÂä†„Åß„Ç®„É©„Éº„ÄÇ");n.set(r,s.value)}"ÂàùÊúüÂåñ"!==r&&"!"!==r.substring(0,1)&&this.commandlist.add(r)}}addPluginObject(e,t,n=!0){if(this.__module[e]=t,this.pluginfiles[e]="*","object"==typeof t["ÂàùÊúüÂåñ"]){const n=t["ÂàùÊúüÂåñ"];delete t["ÂàùÊúüÂåñ"];t[`!${e}:ÂàùÊúüÂåñ`]=n}this.addPlugin(t,n)}addPluginFile(e,t,n,r=!0){e.indexOf("\\")>=0&&(e=e.replace(/\\/g,"/")),this.addPluginObject(e,n,r),void 0===this.pluginfiles[e]&&(this.pluginfiles[e]=t)}addFunc(e,t,n,r=!0,s=!1){const o={josi:t,fn:n,type:"func",return_none:r,asyncFn:s,pure:!0};this.funclist.set(e,o),this.pluginFunclist[e]=v(o),this.__varslist[0].set(e,n)}setFunc(e,t,n,r=!0,s=!1){this.addFunc(e,t,n,r,s)}getFunc(e){return this.funclist.get(e)}_runEx(e,t,n,r="",s=void 0){return n.preCode=r,s&&(n.nakoGlobal=s),this.runSync(e,t,n)}runEx(e,t,n,r=""){return this._runEx(e,t,n,r)}async runReset(e,t="main.nako3",n=""){const r=b({resetAll:!0,resetEnv:!0});return this._runEx(e,t,r,n)}}},"./core/src/nako_colors.mjs":function(e,t,n){"use strict";n.r(t),n.d(t,{NakoColors:function(){return s}});const r=["black","red","green","yellow","blue","magenta","cyan","white"],s={convertColorTextFormat:e=>{const t=e.replace(/\x1b\[\d+m/g,""),n=[];let s="inherit",o="inherit";const i=e===t?t:e.replace(/\x1b\[(\d+)m/g,((e,t)=>{const i=+t;return 0===i&&(s="inherit",o="inherit"),1===i&&(o="bold"),i>=30&&i<=37&&(s=r[i-30]),n.push(`color: ${s}; font-weight: ${o};`),"%c"}));let u="inherit",c="inherit";var a;return{noColor:t,nodeConsole:e===t?t:e+"[0m",html:e===t?t:"<span>"+(a=e,a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")).replace(/\x1b\[(\d+)m/g,((e,t)=>{const n=+t;return 0===n&&(u="inherit",c="inherit"),1===n&&(c="bold"),n>=30&&n<=37&&(u=r[n-30]),`</span><span style="color: ${u}; font-weight: ${c};">`}))+"</span>",browserConsole:[i,...n]}},colorNames:r,color:{reset:"[0m",bold:"[1m",black:"[30m",red:"[31m",green:"[32m",yellow:"[33m",blue:"[34m",magenta:"[35m",cyan:"[36m",white:"[37m"}}},"./core/src/nako_core_version.mjs":function(e,t,n){"use strict";n.r(t);t.default={version:"3.6.2",major:3,minor:6,patch:2}},"./core/src/nako_csv.mjs":function(e,t,n){"use strict";n.r(t),n.d(t,{options:function(){return r},parse:function(){return o},replaceEolMark:function(){return u},resetEnv:function(){return s},stringify:function(){return i}});const r={delimiter:",",eol:"\r\n"};function s(){r.delimiter=",",r.eol="\r\n"}function o(e,t=void 0){void 0===t&&(t=r.delimiter),e=(e=(e+="\n").replace(/(\r\n|\r)/g,"\n")).replace(/\s+$/,"")+"\n";const n=new RegExp("^(.*?)([\\"+t+"\\n])"),s=function(e){return"string"==typeof e&&e.search(/^[0-9.]+$/)>=0&&(e=parseFloat(e)),e},o=[];let i=[],u="";for(;""!==e;){if(u=e.charAt(0),u===t){e=e.substring(1),i.push("");continue}if("\n"===u){i.push(""),o.push(i),i=[],e=e.substring(1);continue}if(u=(e=e.replace(/^\s+/,"")).charAt(0),u===t){console.log("delimiter"),i.push(""),e=e.substring(t.length);continue}if("="===u&&'"'===e.charAt(1)){e=e.substring(1);continue}if('"'!==u){const r=n.exec(e);if(!r){i.push(s(e)),o.push(i),i=[];break}"\n"===r[2]?(i.push(s(r[1])),o.push(i),i=[]):r[2]===t&&i.push(s(r[1])),e=e.substring(r[0].length);continue}if('""'===e.substring(0,2)){i.push(""),e=e.substring(2);continue}let r=1,c="";for(;r<e.length;){const n=e.charAt(r),u=e.charAt(r+1);if('"'!==n||'"'!==u)if('"'!==n)c+=n,r++;else{if(r++,u===t){r++,i.push(s(c)),c="";break}if("\n"===u){r++,i.push(s(c)),o.push(i),i=[];break}r++}else r+=2,c+='"'}e=e.substr(r)}return i.length>0&&o.push(i),o}function i(e,t=void 0,n=void 0){void 0===t&&(t=r.delimiter),void 0===n&&(n=r.eol);const s=function(e){return function(t){let n=!1;return((t=""+t).indexOf("\n")>=0||t.indexOf("\r")>=0)&&(n=!0),t.indexOf(e)>=0&&(n=!0),t.indexOf('"')>=0&&(n=!0,t=t.replace(/"/g,'""')),n&&(t='"'+t+'"'),t}}(t);if(void 0===e)return"";let o="";for(let r=0;r<e.length;r++){const i=e[r];if(void 0!==i){for(let e=0;e<i.length;e++)i[e]=s(i[e]);o+=i.join(t)+n}else o+=n}return o=o.replace(/(\r\n|\r|\n)/g,n),o}function u(e){return e=(e=(e=e.replace(/\n\r/g,"[CRLF]")).replace(/\r/g,"[CR]")).replace(/\n/g,"[LF]")}},"./core/src/nako_errors.mjs":function(e,t,n){"use strict";n.r(t),n.d(t,{InternalLexerError:function(){return o},NakoError:function(){return r},NakoImportError:function(){return a},NakoIndentError:function(){return s},NakoLexerError:function(){return i},NakoRuntimeError:function(){return c},NakoSyntaxError:function(){return u}});class r extends Error{type;tag;msg;file;line;positionJa;constructor(e,t,n=void 0,r=void 0){const s=`${n||""}${void 0===r?"":`(${r+1}Ë°åÁõÆ): `}`;super(`[${e}]${s}${t=t.replace(/„Äémain__(.+?)„Äè/g,"„Äé$1„Äè")}`),this.name="NakoError",this.type="NakoError",this.tag="["+e+"]",this.positionJa=s,this.msg=t}}class s extends r{constructor(e,t,n){super("„Ç§„É≥„Éá„É≥„Éà„Ç®„É©„Éº",e,n,t),this.type="NakoIndentError",this.line=t,this.file=n}}class o extends r{preprocessedCodeStartOffset;preprocessedCodeEndOffset;constructor(e,t,n,r,s){super("Â≠óÂè•Ëß£Êûê„Ç®„É©„ÉºÔºàÂÜÖÈÉ®„Ç®„É©„ÉºÔºâ",e,s,r),this.type="InternalLexerError",this.preprocessedCodeStartOffset=t,this.preprocessedCodeEndOffset=n,this.line=r,this.file=s}}class i extends r{startOffset;endOffset;constructor(e,t,n,r,s){super("Â≠óÂè•Ëß£Êûê„Ç®„É©„Éº",e,s,r),this.type="NakoLexerError",this.startOffset=t,this.endOffset=n,this.line=r,this.file=s}}class u extends r{startOffset;endOffset;static fromNode(e,t,n=void 0){if(!t)return new u(e,void 0,void 0,void 0,void 0);const r="number"==typeof t.startOffset?t.startOffset:void 0,s=n&&"number"==typeof n.endOffset?n.endOffset:"number"==typeof t.endOffset?t.endOffset:void 0;return new u(e,t.line,r,s,t.file)}constructor(e,t,n,r,s){super("ÊñáÊ≥ï„Ç®„É©„Éº",e,s,t),this.type="NakoSyntaxError",this.file=s,this.line=t,this.startOffset=n,this.endOffset=r}}class c extends r{lineNo;constructor(e,t){let n,s,o,i="unknown";"string"==typeof e?i=e:e instanceof c||e instanceof r?i=e.msg:e instanceof Error&&(i="Error"===e.name?e.message:`${e.name}: ${e.message}`),void 0===t?(n=void 0,s=void 0):(o=/^l(-?\d+):(.*)$/.exec(t))?(n=parseInt(o[1]),s=o[2]):(o=/^l(-?\d+)$/.exec(t))?(n=parseInt(o[1]),s="main.nako3"):(n=0,s=t),super("ÂÆüË°åÊôÇ„Ç®„É©„Éº",i,s,n),this.type="NakoRuntimeError",this.lineNo=t,this.line=n,this.file=s}}class a extends r{constructor(e,t,n){super("Âèñ„ÇäËæº„Åø„Ç®„É©„Éº",e,t,n),this.file=t,this.line=n}}},"./core/src/nako_from_dncl.mjs":function(e,t,n){"use strict";n.r(t),n.d(t,{NakoDncl:function(){return l},convertDNCL:function(){return u}});var r=n("./core/src/nako_types.mjs"),s=n("./core/src/nako_indent_inline.mjs");const o=["!DNCL„É¢„Éº„Éâ","üí°DNCL„É¢„Éº„Éâ"],i={"‚Üê:‚Üê":["eq","="],"√∑:√∑":["√∑√∑","√∑√∑"],"{:{":["[","["],"}:}":["]","]"],"word:„ÇíÂÆüË°å":["„Åì„Åì„Åæ„Åß","„Åì„Åì„Åæ„Åß"],"word:‰π±Êï∞":["word","‰π±Êï∞ÁØÑÂõ≤"],"word:Ë°®Á§∫":["word","ÈÄ£Á∂öË°®Á§∫"]};function u(e){if(!function(e){for(let t=0;t<e.length&&!(t>100);t++){const n=e[t];if("line_comment"===n.type&&o.indexOf(n.value)>=0)return n.type="DNCL„É¢„Éº„Éâ",!0}return!1}(e))return e;const t=(0,s.splitTokens)(e,"eol");for(let e=0;e<t.length;e++){const n=t[e];if(n.length<=1)continue;for(let e=0;e<n.length&&"|"===n[e].type;e++)n[e].type="range_comment";const s=n[0];"word"===s.type&&"Áπ∞Ëøî"===s.value&&n.splice(0,n.length,(0,r.NewEmptyToken)("word","ÂæåÂà§ÂÆö",s.indent,s.line,s.file),(0,r.NewEmptyToken)("word","Áπ∞Ëøî",s.indent,s.line,s.file));const o=f(n,["word:„Å™„Çã","word:Áπ∞Ëøî"]);o>0&&a(n,o);const i=f(n,["word:„Å™„Çã","word:ÂÆüË°å"]);i>0&&a(n,i);const u=f(n,["word:„Å™„ÅÑ"]);if(u>=1){"„Å™„Çâ„Å∞"===n[u].josi&&(n[u-1].josi="„Åß„Å™„Åë„Çå„Å∞",n.splice(u,1))}for(;;){const e=f(n,["word:‰∫åÈÄ≤","word:Ë°®Á§∫"]);if(e<0)break;n[e].value="‰∫åÈÄ≤Ë°®Á§∫",n[e].josi="",n.splice(e+1,1)}for(;;){const e=f(n,["word:ÊîπË°å","word:Ë°®Á§∫"]);if(e<0)break;const t=n[e];t.value="ÈÄ£Á∂öÁÑ°ÊîπË°åË°®Á§∫",t.josi="",n.splice(e+1,1)}for(;;){const e=f(n,["word:„ÇíÂÆüË°å","comma:,","word:„Åù„ÅÜ"]);if(e<0)break;const t=n[e+2];if("„Åß„Å™„Åë„Çå„Å∞"!==t.josi){if("„Åß"===t.josi){const s=n[e+3];if("„Å™„Åè„ÇÇ„Åó"===s.value.substring(0,4)){if(t.type="ÈÅï„Åà„Å∞",t.value="ÈÅï„Åà„Å∞",t.josi="",n.splice(e,3,t),s.value.length>4){const t=s.value.substring(4),o=(0,r.NewEmptyToken)("word",t,s.indent,s.line,s.file);t.match(/^\d/)&&(o.type="number"),n.splice(e+2,0,o),s.value=s.value.substring(0,4)}s.type="„ÇÇ„Åó",s.value="„ÇÇ„Åó",s.josi="";continue}}break}t.type="ÈÅï„Åà„Å∞",t.value="ÈÅï„Åà„Å∞",t.josi="",n.splice(e,3,t)}for(;;){const e=f(n,["word:Â¢ó","word:„Çâ"]);if(e<0)break;const t=n[e];t.type="word",t.value="Â¢óÁπ∞Ëøî",t.josi="",n.splice(e,2,t)}for(;;){const e=f(n,["word:Ê∏õ","word:„Çâ"]);if(e<0)break;const t=n[e];t.type="word",t.value="Ê∏õÁπ∞Ëøî",t.josi="",n.splice(e,2,t)}for(;;){const e=f(n,["word:„ÇíÁπ∞„ÇäËøî"]);if(e<0)break;const t=n[e];t.type="„Åì„Åì„Åæ„Åß",t.value="„Åì„Åì„Åæ„Åß",t.josi=""}for(;;){const e=f(n,["word:„Åô„Åπ„Å¶","word:Ë¶ÅÁ¥†"]);if(!(e>=1))break;c(n,e)}for(;;){const e=f(n,["word:„Åô„Åπ„Å¶","word:ÂÄ§"]);if(!(e>=1))break;c(n,e)}let l=0;for(;l<n.length;){const e=n[l];if("word"===e.type&&e.value.length>=2){const t=e.value.charAt(e.value.length-1);"Ê∏õ"!==t&&"Â¢ó"!==t||(e.value=e.value.substring(0,e.value.length-1),e.josi="„Å†„Åë",n.splice(l+1,0,(0,r.NewEmptyToken)("word",t,e.indent,e.line,e.file))),l++}else l++}}for(let t=0;t<e.length;t++){const n=e[t],r=i[n.type+":"+n.value];void 0!==r&&(n.type=r[0],n.value=r[1])}return e=(0,s.joinTokenLines)(t)}function c(e,t){const n=e[t];e[t-1].josi="";const s=(0,r.NewEmptyToken)("eq","=",n.indent,n.line,n.file),o=(0,r.NewEmptyToken)("[","[",n.indent,n.line,n.file),i=(0,r.NewEmptyToken)("]","]",n.indent,n.line,n.file);i.josi="„Å´";const u=e[t+2];u.josi="";const c=(0,r.NewEmptyToken)("number",100,n.indent,n.line,n.file);c.josi="„Çí";const a=(0,r.NewEmptyToken)("word","Êéõ",n.indent,n.line,n.file);e.splice(t,4,s,o,u,i,c,a)}function a(e,t){const n=f(e,["word:„Çí"]);n>=0&&(e[n].type="„Åì„Åì„Åæ„Åß",e[n].value="„Åì„Åì„Åæ„Åß");const r=f(e,["word:„Åå"]);r>=0&&(e[r].type="„Åì„Åì„Åæ„Åß",e[r].value="„Åì„Åì„Åæ„Åß"),e[t+1].value="Èñì"}function f(e,t){const n=t.map((e=>e.split(":")));for(let t=0;t<e.length;t++){let r=!0;for(let s=0;s<n.length;s++){const o=n[s],i=t+s;if(i>=e.length)return-1;if(e[i].type!==o[0]||e[i].value!==o[1]){r=!1;break}}if(r)return t}return-1}const l={convert:u}},"./core/src/nako_from_dncl2.mjs":function(e,t,n){"use strict";n.r(t),n.d(t,{convertDNCL2:function(){return f}});var r=n("./core/src/nako_types.mjs"),s=n("./core/src/nako_indent_inline.mjs"),o=n("./core/src/nako_tools.mjs");const i=!1,u=30,c=["!DNCL2„É¢„Éº„Éâ","üí°DNCL2„É¢„Éº„Éâ","!DNCL2","üí°DNCL2"],a={"‚Üê:‚Üê":["eq","="],"√∑:√∑":["√∑√∑","√∑√∑"],"{:{":["[","["],"}:}":["]","]"],"word:not":["not","!"],"word:‰π±Êï∞":["word","‰π±Êï∞ÁØÑÂõ≤"],"word:Ë°®Á§∫":["word","ÈÄ£Á∂öË°®Á§∫"],"word:„Å®ÂÆöÁæ©":["„Åì„Åì„Åæ„Åß","„Åì„Åì„Åæ„Åß"]};function f(e){if(!function(e){for(let t=0;t<e.length&&!(t>100);t++){const n=e[t];if("line_comment"===n.type&&c.indexOf(n.value)>=0)return n.type="DNCL2„É¢„Éº„Éâ",!0}return!1}(e))return e;const t=(0,s.splitTokens)(e,"eol");for(let e=0;e<t.length;e++){const n=t[e];if(n.length<=1)continue;const s=p(n,["word:„Å™„ÅÑ"]);if(s>=1){"„Å™„Çâ„Å∞"===n[s].josi&&(n[s-1].josi="„Åß„Å™„Åë„Çå„Å∞",n.splice(s,1))}for(let e=0;e<n.length;e++){const t=n[e];"„Åù„ÅÜ"!==t.value&&"„Åù„Çå"!==t.value||"„Åß„Å™„Åë„Çå„Å∞"!==t.josi&&"„Åß„Å™„Åè"!==t.josi||(t.type="ÈÅï„Åà„Å∞",t.value="ÈÅï„Åà„Å∞",t.josi="")}for(;;){const e=p(n,["word:„ÇíÂÆüË°å","comma:,","word:„Åù„ÅÜ"]);if(e<0)break;const t=n[e+2];if("„Åß„Å™„Åë„Çå„Å∞"!==t.josi){if("„Åß"===t.josi){const s=n[e+3];if("„Å™„Åè„ÇÇ„Åó"===s.value.substring(0,4)){if(t.type="ÈÅï„Åà„Å∞",t.value="ÈÅï„Åà„Å∞",t.josi="",n.splice(e,3,t),s.value.length>4){const t=s.value.substring(4),o=(0,r.NewEmptyToken)("word",t,s.indent,s.line,s.file);t.match(/^\d/)&&(o.type="number"),n.splice(e+2,0,o),s.value=s.value.substring(0,4)}s.type="„ÇÇ„Åó",s.value="„ÇÇ„Åó",s.josi="";continue}}break}t.type="ÈÅï„Åà„Å∞",t.value="ÈÅï„Åà„Å∞",t.josi="",n.splice(e,3,t)}for(;;){const e=p(n,["word:„Åù„ÅÜ","word:„Å™„Åè"]);if(e<0)break;const t=n[e];if("„Åß"!==t.josi)break;t.type="ÈÅï„Åà„Å∞",t.value="ÈÅï„Åà„Å∞",t.josi="",n.splice(e+1,1)}for(;;){const e=p(n,["word:„Åù„ÅÜ","word:„Å™„Åè„ÇÇ„Åó"]);if(e<0)break;const t=n[e],r=n[e+1];t.type="ÈÅï„Åà„Å∞",t.value="ÈÅï„Åà„Å∞",t.josi="",r.type="„ÇÇ„Åó",r.value="„ÇÇ„Åó",r.josi=""}for(;;){const e=p(n,["word:Â¢ó","word:„Çâ"]);if(e<0)break;const t=n[e];t.type="word",t.value="Â¢óÁπ∞Ëøî",t.josi="",n.splice(e,2,t)}for(;;){const e=p(n,["word:Ê∏õ","word:„Çâ"]);if(e<0)break;const t=n[e];t.type="word",t.value="Ê∏õÁπ∞Ëøî",t.josi="",n.splice(e,2,t)}for(;;){const e=p(n,["word:Â¢ó","word:„ÇâÁπ∞„ÇäËøî"]);if(e<0)break;const t=n[e];t.type="word",t.value="Â¢óÁπ∞Ëøî",t.josi="",n.splice(e,2,t)}for(;;){const e=p(n,["word:Ê∏õ","word:„ÇâÁπ∞„ÇäËøî"]);if(e<0)break;const t=n[e];t.type="word",t.value="Ê∏õÁπ∞Ëøî",t.josi="",n.splice(e,2,t)}for(let e=0;e<n.length;e++){if(l([["word:ÈÖçÂàó","word:ÈÖçÂàóÂ§âÊï∞"],"word","word:„Åô„Åπ„Å¶",["word:Ë¶ÅÁ¥†","word:ÂÄ§"],"*","word:‰ª£ÂÖ•"],n,e)){const t=n[e+1];t.josi="";const r=n[e+4];r.josi="",n.splice(e,6,t,(0,o.newToken)("eq","=",t),(0,o.newToken)("word","Êéõ"),(0,o.newToken)("(","("),(0,o.newToken)("[","["),r,(0,o.newToken)("]","]"),(0,o.newToken)("comma",","),(0,o.newToken)("number",u),(0,o.newToken)(")",")")),e+=6}if(l(["word","word:„Åô„Åπ„Å¶",["word:Ë¶ÅÁ¥†","word:ÂÄ§"],["number","string","word"],"word:„Åô„Çã"],n,e)){const t=n[e];t.josi="";const r=n[e+3];r.josi="",n.splice(e,5,t,(0,o.newToken)("eq","=",t),(0,o.newToken)("word","Êéõ"),(0,o.newToken)("(","("),(0,o.newToken)("[","["),r,(0,o.newToken)("]","]"),(0,o.newToken)("comma",","),(0,o.newToken)("number",u),(0,o.newToken)(")",")"))}if(l([["word:ÈÖçÂàóÂ§âÊï∞","word:ÈÖçÂàó"],"word","word:ÂàùÊúüÂåñ"],n,e)){const t=n[e+1];t.josi="",n.splice(e,3,t,(0,o.newToken)("eq","=",t),(0,o.newToken)("word","Êéõ"),(0,o.newToken)("(","("),(0,o.newToken)("[","["),(0,o.newToken)("number",0),(0,o.newToken)("]","]"),(0,o.newToken)("comma",","),(0,o.newToken)("number",u),(0,o.newToken)(")",")"))}}for(;;){const e=p(n,["word:‰∫åÈÄ≤","word:Ë°®Á§∫"]);if(e<0)break;n[e].value="‰∫åÈÄ≤Ë°®Á§∫",n[e].josi="",n.splice(e+1,1)}for(;;){const e=p(n,["word:ÊîπË°å","word:Ë°®Á§∫"]);if(e<0)break;const t=n[e];t.value="ÈÄ£Á∂öÁÑ°ÊîπË°åË°®Á§∫",t.josi="",n.splice(e+1,1)}let i=0;for(;i<n.length;){const e=n[i];if("word"===e.type&&e.value.length>=2){const t=e.value.charAt(e.value.length-1);"Ê∏õ"!==t&&"Â¢ó"!==t||(e.value=e.value.substring(0,e.value.length-1),e.josi="„Å†„Åë",n.splice(i+1,0,(0,r.NewEmptyToken)("word",t,e.indent,e.line,e.file))),i++}else i++}}for(let t=0;t<e.length;t++){const n=e[t],r=a[n.type+":"+n.value];void 0!==r&&(n.type=r[0],n.value=r[1])}return e=(0,s.joinTokenLines)(t),i&&(console.log("// DEBUG---DNCL:tokens---BEGIN"),console.log((0,o.debugTokens)(e)),console.log("// DEBUG---DNCL:tokens---END")),e}function l(e,t,n){const r=(e,t)=>{if(e instanceof Array){for(let n=0;n<e.length;n++)if(r(e[n],t))return!0;return!1}if("*"===e)return!0;if(e.indexOf(":")<0)return e===t.type;return e===`${t.type}:${t.value}`};for(let s=0;s<e.length;s++){const o=s+n;if(o>=t.length)return!1;const i=e[s],u=t[o];if(!r(i,u))return!1}return!0}function p(e,t){const n=t.map((e=>e.split(":")));for(let t=0;t<e.length;t++){let r=!0;for(let s=0;s<n.length;s++){const o=n[s],i=t+s;if(i>=e.length)return-1;if(e[i].type!==o[0]||e[i].value!==o[1]){r=!1;break}}if(r)return t}return-1}},"./core/src/nako_gen.mjs":function(e,t,n){"use strict";n.r(t),n.d(t,{NakoGen:function(){return o},NakoGenOptions:function(){return s},generateJS:function(){return u}});var r=n("./core/src/nako_errors.mjs");class s{isTest;importFiles;codeStandalone;codeEnv;constructor(e=!1,t=[],n="",r=""){this.isTest=e,this.codeStandalone=n,this.codeEnv=r,this.importFiles=["plugin_system.mjs","plugin_math.mjs","plugin_csv.mjs","plugin_promise.mjs","plugin_test.mjs"];for(const e of t)this.importFiles.push(e)}}class o{nakoFuncList;nakoTestFuncs;usedFuncSet;usedAsyncFn;loopId;flagLoop;constPools;constPoolsTemplate;speedMode;performanceMonitor;warnUndefinedVar;warnUndefinedReturnUserFunc;warnUndefinedCallingUserFunc;warnUndefinedCallingSystemFunc;warnUndefinedCalledUserFuncArgs;varslistSet;varsSet;debugOption;numAsyncFn;__self;genMode;lastLineNo;constructor(e){this.nakoFuncList=new Map(e.getNakoFuncList()),this.nakoTestFuncs=new Map,this.usedFuncSet=new Set,this.loopId=1,this.numAsyncFn=0,this.usedAsyncFn=!1,this.flagLoop=!1,this.__self=e,this.genMode="sync",this.lastLineNo=null,this.varslistSet=this.setVarslistSet(e.__varslist),this.varsSet={isFunction:!1,names:new Set,readonly:new Set},this.varslistSet[2]=this.varsSet,this.speedMode={lineNumbers:0,implicitTypeCasting:0,invalidSore:0,forcePure:0},this.performanceMonitor={userFunction:0,systemFunction:0,systemFunctionBody:0,mumeiId:0},this.warnUndefinedVar=!0,this.constPools=[],this.constPoolsTemplate=[],this.warnUndefinedReturnUserFunc=1,this.warnUndefinedCallingUserFunc=1,this.warnUndefinedCallingSystemFunc=1,this.warnUndefinedCalledUserFuncArgs=1,this.debugOption=e.debugOption}static isValidIdentifier(e){return/^(?!(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$)[$A-Z_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc][$A-Z_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc0-9\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u0669\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7\u06e8\u06ea-\u06ed\u06f0-\u06f9\u0711\u0730-\u074a\u07a6-\u07b0\u07c0-\u07c9\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e4-\u08fe\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09cb-\u09cd\u09d7\u09e2\u09e3\u09e6-\u09ef\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0ce6-\u0cef\u0d02\u0d03\u0d3e-\u0d44\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d62\u0d63\u0d66-\u0d6f\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0e50-\u0e59\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e\u0f3f\u0f71-\u0f84\u0f86\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102b-\u103e\u1040-\u1049\u1056-\u1059\u105e-\u1060\u1062-\u1064\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b4-\u17d3\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u18a9\u1920-\u192b\u1930-\u193b\u1946-\u194f\u19b0-\u19c0\u19c8\u19c9\u19d0-\u19d9\u1a17-\u1a1b\u1a55-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1b00-\u1b04\u1b34-\u1b44\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1b82\u1ba1-\u1bad\u1bb0-\u1bb9\u1be6-\u1bf3\u1c24-\u1c37\u1c40-\u1c49\u1c50-\u1c59\u1cd0-\u1cd2\u1cd4-\u1ce8\u1ced\u1cf2-\u1cf4\u1dc0-\u1de6\u1dfc-\u1dff\u200c\u200d\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua620-\ua629\ua66f\ua674-\ua67d\ua69f\ua6f0\ua6f1\ua802\ua806\ua80b\ua823-\ua827\ua880\ua881\ua8b4-\ua8c4\ua8d0-\ua8d9\ua8e0-\ua8f1\ua900-\ua909\ua926-\ua92d\ua947-\ua953\ua980-\ua983\ua9b3-\ua9c0\ua9d0-\ua9d9\uaa29-\uaa36\uaa43\uaa4c\uaa4d\uaa50-\uaa59\uaa7b\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uaaeb-\uaaef\uaaf5\uaaf6\uabe3-\uabea\uabec\uabed\uabf0-\uabf9\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f]*$/.test(e)}setVarslistSet(e){const t=[];for(let n=0;n<=1;n++){const r=e[n],s=new Set(r.keys());s.delete("meta"),t[n]={isFunction:!1,names:s,readonly:new Set}}return t}convLineno(e,t=!1,n=0){if(this.speedMode.lineNumbers>0)return"";const r=e.line+n;let s;if(s="number"!=typeof e.line?"unknown":"string"!=typeof e.file?`l${r}`:`l${r}:${e.file}`,!t){if(s===this.lastLineNo)return"";this.lastLineNo=s}const o=JSON.stringify(s);let i="";return this.debugOption.useDebug&&(this.debugOption.messageAction&&(i+=`window.postMessage({action:'${this.debugOption.messageAction}',line: ${o}});`),r>=1&&(this.debugOption.waitTime>0&&(i+=`await __v0.get('ÁßíÂæÖ')(${this.debugOption.waitTime},__self);`),this.numAsyncFn+=1,this.usedAsyncFn=!0,i+=`await __v0.get('__DEBUG_BP_WAIT')(${r}, __self);`),i+="if (__v0.get('forceClose')) { return - 1 };"),`__v0.set('__line', ${o});`+i}varname_get(e){return 3===this.varslistSet.length?`__self.__varslist[2].get(${JSON.stringify(e)})`:`__self.__vars.get(${JSON.stringify(e)})`}varname_set(e,t){return 3===this.varslistSet.length?`__self.__varslist[2].set(${JSON.stringify(e)}, ${t})`:`__self.__vars.set(${JSON.stringify(e)}, ${t})`}static getFuncName(e){if(e.indexOf("__")>=0){const t=e.split("__");return`${t[0]}__${o.getFuncName(t[1])}`}let t=e.replace(/[„ÅÅ-„Çì]+$/,"");return""===t&&(t=e),t}static convPrint(e){return`__print(${e});`}convRequire(e){const t=e.value;return this.convLineno(e,!1)+`__module['${t}'] = require('${t}');\n`}getDefFuncCode(e,t){let n="";n+=`const nakoVersion = { version: ${JSON.stringify(e.version)} }\n`,n+="const __self = self;\n",n+="__self.__self = __self;\n",n+="const __varslist = __self.__varslist;\n",n+="const __module = __self.__module;\n",n+="const __v0 = __self.__v0 = __self.__varslist[0];\n",n+="const __v1 = __self.__v1 = __self.__varslist[1];\n",n+="const __vars = __self.__vars = __self.__varslist[2];\n",n+=`const __modList = __self.__modList = ${JSON.stringify(e.getModList())}\n`,n+="__v0.set('__line', 'l0:__getDefFuncCode');\n",n+="__v0.set('forceClose', false);\n",n+=`__v0.set('useDebug', ${this.debugOption.useDebug});\n`,n+="__self.constPools = "+JSON.stringify(this.constPools)+";\n",n+="__self.constPoolsTemplate = "+JSON.stringify(this.constPoolsTemplate)+";\n";let r="";if(this.nakoFuncList.forEach(((e,t)=>{const n=f(a(String(e.fn),1)),s=e.asyncFn?"true":"false";r+=`//[DEF_FUNC name='${t}' asyncFn=${s}]\n__self.__varslist[1].set("${t}", ${n});\n//[/DEF_FUNC name='${t}']\n`})),""!==r&&(n+="__v0.set('__line', 'Èñ¢Êï∞„ÅÆÂÆöÁæ©');\n"+r),t.isTest){let e="const __tests = [];\n";this.nakoTestFuncs.forEach((t=>{const n=t.fn;e+=`${n};\n`})),""!==e&&(n+="__v0.set('__line', '„ÉÜ„Çπ„Éà„ÅÆÂÆöÁæ©');\n",n+=e+"\n")}return n}addPlugin(e){return this.__self.addPlugin(e)}addPluginObject(e,t){this.__self.addPluginObject(e,t)}addPluginFile(e,t,n){this.__self.addPluginFile(e,t,n)}addFunc(e,t,n){this.__self.addFunc(e,t,n)}getFunc(e){return this.__self.getFunc(e)}registerFunction(e){if("block"!==e.type)throw r.NakoSyntaxError.fromNode("ÊßãÊñáËß£Êûê„Å´Â§±Êïó„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇÊßãÊñá„ÅØÂøÖ„Åöblock„ÅåÂÖàÈ†≠„Å´„Å™„Çä„Åæ„Åô",e);const t=[],n=e=>{if(!e.block)return;const r=e.block instanceof Array?e.block:[e.block];for(let e=0;e<r.length;e++){const s=r[e];if("def_func"===s.type){if(!s.name)throw new Error("[System Error] Èñ¢Êï∞„ÅÆÂÆöÁæ©„ÅßÈñ¢Êï∞Âêç„ÅåÊåáÂÆö„Åï„Çå„Å¶„ÅÑ„Å™„ÅÑ");const e=s.name.value;this.usedFuncSet.add(e),this.__self.__varslist[1].set(e,(()=>{})),this.varslistSet[1].names.add(e);const n=s.name.meta;this.nakoFuncList.set(e,{josi:n.josi,fn:()=>{},type:"func",asyncFn:s.asyncFn,isExport:s.isExport}),t.push({name:e,node:s})}else if("speed_mode"===s.type){if(!s.block)continue;"block"===s.block.type?n(s.block):n(s)}else if("performance_monitor"===s.type){if(!s.block)continue;"block"===s.block.type?n(s.block):n(s)}}};n(e);const s=new Set;0===this.speedMode.invalidSore&&s.add("„Åù„Çå"),this.varsSet={isFunction:!1,names:s,readonly:new Set},this.varslistSet=this.setVarslistSet(this.__self.__varslist),this.varslistSet[2]=this.varsSet}convGen(e,t){const n=this.convLineno(e,!1)+this._convGen(e,!0);return t.isTest?"":n}_convGen(e,t){if(!e)return"";let n="";if(e instanceof Array){for(let r=0;r<e.length;r++){const s=e[r];n+=this._convGen(s,t)}return n}if(null===e)return"null";if(void 0===e)return"undefined";if("object"!=typeof e)return""+e;switch(e.type){case"nop":break;case"block":if(!e.block)return n;const r=e.block instanceof Array?e.block:[e.block];for(let e=0;e<r.length;e++){const t=r[e];n+=this._convGen(t,!1)}break;case"comment":case"eol":n+=this.convComment(e);break;case"break":n+=this.convCheckLoop(e,"break");break;case"continue":n+=this.convCheckLoop(e,"continue");break;case"end":n+="__v0.get('ÁµÇ')(__self);";break;case"number":case"bigint":n+=e.value;break;case"string":n+=this.convString(e);break;case"def_local_var":n+=this.convDefLocalVar(e);break;case"def_local_varlist":n+=this.convDefLocalVarlist(e);break;case"let":n+=this.convLet(e);break;case"inc":n+=this.convInc(e);break;case"word":case"variable":n+=this.convGetVar(e);break;case"op":case"calc":n+=this.convOp(e);break;case"renbun":n+=this.convRenbun(e);break;case"not":n+="(("+this._convGen(e.value,!0)+")?false:true)";break;case"func":case"func_pointer":case"calc_func":n+=this.convCallFunc(e,t);break;case"if":n+=this.convIf(e);break;case"for":n+=this.convFor(e);break;case"foreach":n+=this.convForeach(e);break;case"repeat_times":n+=this.convRepeatTimes(e);break;case"speed_mode":n+=this.convSpeedMode(e,t);break;case"performance_monitor":n+=this.convPerformanceMonitor(e,t);break;case"while":n+=this.convWhile(e);break;case"atohantei":n+=this.convAtohantei(e);break;case"switch":n+=this.convSwitch(e);break;case"let_array":n+=this.convLetArray(e);break;case"ÈÖçÂàóÂèÇÁÖß":n+=this.convRefArray(e);break;case"json_array":n+=this.convJsonArray(e);break;case"json_obj":n+=this.convJsonObj(e);break;case"func_obj":n+=this.convFuncObj(e);break;case"bool":n+=e.value?"true":"false";break;case"null":n+="null";break;case"def_test":n+=this.convDefTest(e);break;case"def_func":n+=this.convDefFunc(e);break;case"return":n+=this.convReturn(e);break;case"try_except":n+=this.convTryExcept(e);break;case"require":n+=this.convRequire(e);break;default:throw new Error("System Error: unknown_type="+e.type)}return n}findVar(e,t=null){if(this.varslistSet.length>3&&this.varsSet.names.has(e))return{i:this.varslistSet.length-1,name:e,isTop:!0,js:this.varname_get(e),js_set:this.varname_set(e,String(t))};for(let n=2;n>=0;n--)if(this.varslistSet[n].names.has(e))return{i:n,name:e,isTop:!1,js:`__self.__varslist[${n}].get(${JSON.stringify(e)})`,js_set:`__self.__varslist[${n}].set(${JSON.stringify(e)}, ${t})`};return null}genVar(e,t){const n=this.findVar(e),s=t.line;if(null===n){if("ÂºïÊï∞"===e||"„Åù„Çå"===e||"ÂØæË±°"===e||"ÂØæË±°„Ç≠„Éº"===e);else if(this.warnUndefinedVar){const n=e.replace(/^main__(.+)$/,"$1");this.__self.getLogger().warn(`Â§âÊï∞„Äé${n}„Äè„ÅØÂÆöÁæ©„Åï„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì„ÄÇ`,t)}return this.varsSet.names.add(e),this.varname_get(e)}if(0===n.i){const o=this.__self.getNakoFunc(e);if(!o)return`${n.js}/*err:${s}*/`;if("const"===o.type||"var"===o.type)return n.js;if("func"===o.type){if(!o.josi||0===o.josi.length)return`(${n.js}())`;throw r.NakoSyntaxError.fromNode(`„Äé${e}„Äè„ÅåË§áÊñá„Åß‰Ωø„Çè„Çå„Åæ„Åó„Åü„ÄÇÂçòÊñá„ÅßË®òËø∞„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ(v1Èùû‰∫íÊèõ)`,t)}throw r.NakoSyntaxError.fromNode(`„Äé${e}„Äè„ÅØÈñ¢Êï∞„Åß„ÅÇ„ÇäÂèÇÁÖß„Åß„Åç„Åæ„Åõ„Çì„ÄÇ`,t)}return n.js}convGetVar(e){const t=e.value;return this.genVar(t,e)}convComment(e){let t=String(e.value);t=t.replace(/\n/g,"¬∂");const n=this.convLineno(e,!1);return""===t&&""===n?";":""===t?";"+n+"\n":";"+n+"//"+t+"\n"}convReturn(e){if(this.varsSet.names.has("!Èñ¢Êï∞"))throw r.NakoSyntaxError.fromNode("„ÄéÊàª„Çã„Äè„Åå„ÅÇ„Çä„Åæ„Åô„Åå„ÄÅÈñ¢Êï∞ÂÆöÁæ©ÂÜÖ„ÅÆ„Åø„Åß‰ΩøÁî®ÂèØËÉΩ„Åß„Åô„ÄÇ",e);const t=this.convLineno(e,!1);let n;if(e.value)n=this._convGen(e.value,!0);else{if(0!==this.speedMode.invalidSore)return t+"return;";n=this.varname_get("„Åù„Çå")}if(0===this.warnUndefinedReturnUserFunc)return t+`return ${n};`;return t+`return (__self.chk(${n}, ${this.addConstPool("„É¶„Éº„Ç∂Èñ¢Êï∞„Åã„Çâundefined„ÅåËøî„Åï„Çå„Å¶„ÅÑ„Åæ„Åô",[],e.file,e.line)}));`}getConstPoolsTemplateId(e){let t=this.constPoolsTemplate.indexOf(e);return t<0&&(t=this.constPoolsTemplate.length,this.constPoolsTemplate[t]=e),t}addConstPool(e,t,n,r){n=""+n;const s=this.getConstPoolsTemplateId(n),o=this.getConstPoolsTemplateId(e),i=[];for(const e in t){const n=""+t[e],r=this.getConstPoolsTemplateId(n);i.push(r)}const u=this.constPools.length;return this.constPools.push([o,i,s,r]),u}convCheckLoop(e,t){if(!this.flagLoop){const n="continue"===t?"Á∂ö„Åë„Çã":"Êäú„Åë„Çã";throw r.NakoSyntaxError.fromNode(`„Äé${n}„ÄèÊñá„Åå„ÅÇ„Çä„Åæ„Åô„Åå„ÄÅ„Åù„Çå„ÅØÁπ∞„ÇäËøî„Åó„ÅÆ‰∏≠„ÅßÂà©Áî®„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ`,e)}return this.convLineno(e)+t+";"}convDefFuncCommon(e,t){let n="",r="";if(0!==this.performanceMonitor.userFunction){let e=t;e||(void 0===this.performanceMonitor.mumeiId&&(this.performanceMonitor.mumeiId=0),this.performanceMonitor.mumeiId++,e=`anous_${this.performanceMonitor.mumeiId}`),n=`const performanceMonitorEnd = (function (key, type) {\nconst uf_start = performance.now() * 1000;\nreturn function () {\nconst el_time = performance.now() * 1000 - uf_start;\nif (!__self.__performance_monitor) {\n__self.__performance_monitor={};\n__self.__performance_monitor[key] = { called:1, totel_usec: el_time, min_usec: el_time, max_usec: el_time, type: type };\n} else if (!__self.__performance_monitor[key]) {\n__self.__performance_monitor[key] = { called:1, totel_usec: el_time, min_usec: el_time, max_usec: el_time, type: type };\n} else {\n__self.__performance_monitor[key].called++;\n__self.__performance_monitor[key].totel_usec+=el_time;\nif(__self.__performance_monitor[key].min_usec>el_time){__self.__performance_monitor[key].min_usec=el_time;}\nif(__self.__performance_monitor[key].max_usec<el_time){__self.__performance_monitor[key].max_usec=el_time;}\n}};})('${e}', 'user');try {\n`,r="} finally { performanceMonitorEnd(); }\n"}let s="";const i="    ",u=new Set;0===this.speedMode.invalidSore&&u.add("„Åù„Çå"),this.varsSet={isFunction:!0,names:u,readonly:new Set},this.varslistSet.push(this.varsSet),s+=i+"const ÂºïÊï∞ = arguments;\n",s+=i+"const __vars = new Map();\n";const c=Array.from(this.varsSet.names.values());let a="";const f=t?e.name.meta:e.meta;for(let n=0;n<f.varnames.length;n++){const r=f.varnames[n];if(0===this.warnUndefinedCalledUserFuncArgs)a+=i+this.varname_set(r,`arguments[${n}]`)+";\n";else{let s=`ÂåøÂêçÈñ¢Êï∞„ÅÆÂºïÊï∞„Äé${r}„Äè„Å´undefined„ÅåÊ∏°„Åï„Çå„Åæ„Åó„Åü`;t&&(s=`„É¶„Éº„Ç∂Èñ¢Êï∞„Äé${t}„Äè„ÅÆÂºïÊï∞„Äé${r}„Äè„Å´undefined„ÅåÊ∏°„Åï„Çå„Åæ„Åó„Åü`);const o=`${`((a) => { if (a === undefined) { ${`__self.logger.warn('${s}', {line: ${e.line}, file: ${JSON.stringify(e.file)}});`} }; return a; })`}(arguments[${n}])`;a+=i+this.varname_set(r,o)+";\n"}this.varsSet.names.add(r)}t&&(this.usedFuncSet.add(t),this.varslistSet[1].names.add(t),void 0===this.nakoFuncList.get(t)&&(this.nakoFuncList.set(t,{josi:e.name.meta.josi,fn:()=>{},type:"func",asyncFn:!1,isExport:null}),this.__self.getLogger().warn(`generate„ÅßÊú™ÂÆöÁæ©„ÅÆÁä∂ÊÖã„ÅÆÈñ¢Êï∞„Äé${t}„Äè„ÅåÂãïÁöÑ„Å´ÁôªÈå≤„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ`)));const l=this.usedAsyncFn;this.usedAsyncFn=this.debugOption.useDebug;if(a+=this._convGen(e.block,!1).split("\n").map((e=>"  "+e)).join("\n")+"\n",0===this.speedMode.invalidSore&&(a+=`  return (${this.varname_get("„Åù„Çå")});\n`),a+=r,t&&this.usedAsyncFn){const e=this.nakoFuncList.get(t);e&&(e.asyncFn=!0)}for(const e of Array.from(this.varsSet.names.values()))c.includes(e)||o.isValidIdentifier(e)&&(s+=`  var ${e};\n`);0===this.speedMode.invalidSore&&(o.isValidIdentifier("„Åù„Çå")?s+="  var „Åù„Çå = '';\n":s+=`  ${this.varname_get("„Åù„Çå")} = '';`);if(a=(this.usedAsyncFn?"(async function(){\n":"(function(){\n")+n+s+("  "+this.convLineno(e,!0,1)+"\n")+a+"",a+="})",t){const e=this.nakoFuncList.get(t);e&&(e.fn=a,e.asyncFn=this.usedAsyncFn,f.asyncFn=this.usedAsyncFn)}return this.usedAsyncFn=l,this.varslistSet.pop(),this.varsSet=this.varslistSet[this.varslistSet.length-1],t&&this.__self.__varslist[1].set(t,a),a}convDefTest(e){const t=e.name.value;let n=`__tests.push({ name: '${t}', f: () => {\n`;return n+=`   ${this._convGen(e.block,!1)}\n}});`,this.nakoTestFuncs.set(t,{josi:e.name.meta.josi,fn:n,type:"test_func"}),""}convDefFunc(e){if(!e.name)return"";const t=o.getFuncName(e.name.value);return this.convDefFuncCommon(e,t),""}convFuncObj(e){return"/*convFuncObj*/"+this.convDefFuncCommon(e,"")}convJsonObj(e){return"{"+e.value.map((e=>`${this._convGen(e.key,!0)}:${this._convGen(e.value,!0)}`)).join(",")+"}"}convJsonArray(e){return"["+e.value.map((e=>this._convGen(e,!0))).join(",")+"]"}convRefArray(e){const t=this._convGen(e.name,!0),n=e.index;let r=t;if(!n)return r;for(let e=0;e<n.length;e++){r+="["+this._convGen(n[e],!0)+"]"}return r}convLetArray(e){const t=this.loopId++,n=this._convGen(e.name,!0),s=e.index||[];let o="",i=n,u="";if(e.checkInit){const r="[0,0,0,0,0,0,0,0,0,0, 0,0,0,0,0,0,0,0,0,0, 0,0,0,0,0,0,0,0,0,0]",i=e.name;if(i&&"word"===i.type){const e=i.value,c=`$nako_tmp_a${t}`;o+=`\n/*ÈÖçÂàóÂàùÊúüÂåñ*/if (!(${n} instanceof Array)) { ${this.varname_set(e,r)} };\n`,o+=`${c} = ${n};\n`;for(let e=0;e<s.length-1;e++){u+=`[${this._convGen(s[e],!0)}]`,o+=`\n/*ÈÖçÂàóÂàùÊúüÂåñ${e}*/if (!(${c}${u} instanceof Array)) { ${c}${u} = ${r}; };`}o+="\n"}}for(let e=0;e<s.length;e++){i+="["+this._convGen(s[e],!0)+"]"}let c=null;if(0===this.speedMode.invalidSore&&(c=this.varname_get("„Åù„Çå")),e.value&&(c=this._convGen(e.value,!0)),null==c)throw r.NakoSyntaxError.fromNode("‰ª£ÂÖ•„Åô„ÇãÂÖà„ÅÆÂ§âÊï∞Âêç„Åå„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ",e);i+=" = "+c+";\n";return this.convLineno(e,!1)+o+i}convGenLoop(e){const t=this.flagLoop;this.flagLoop=!0;try{return this._convGen(e,!1)}finally{this.flagLoop=t}}convFor(e){const t=this.loopId++,n=`$nako_i${t}`;let r="";if(null!==e.word){const t=e.word.value;this.varsSet.names.add(t),r=this.varname_set(t,n)}const s=this._convGen(e.from,!0),o=this._convGen(e.to,!0),i=e.flagDown;let u="1";e.inc&&"null"!==e.inc&&(u=this._convGen(e.inc,!0));const c=this.convGenLoop(e.block),a=`$nako_from${t}`,f=`$nako_to${t}`;let l="";0===this.speedMode.invalidSore&&(l=this.varname_set("„Åù„Çå",n));return this.convLineno(e,!1)+"\n"+`/*[convFor id=${t}]*/\n`+`const ${a} = ${s};\n`+`const ${f} = ${o};\n`+`if (${a} <= ${f}) { // up\n`+`  for (let ${n} = ${a}; ${n} <= ${f}; ${n}+= ${u}) {\n`+`    ${l};${r}\n    // for block begin\n`+`    ${c}\n    // for block end\n  };\n} else { // down\n`+`  if (${i}) {`+`    for (let ${n} = ${a}; ${n} >= ${f}; ${n}-= ${u}) {\n`+`      ${l};${r}\n      // for block begin\n`+`      ${c}\n      // for block end\n    }\n  };\n};\n`+`//[/convFor id=${t}]\n`}convForeach(e){const t=this.loopId++,n=`$nako_i${t}`,s=`$nako_foreach_value${t}`,o=`$nako_foreach_data${t}`;let i="ÂØæË±°";e.name&&(i=""+e.name.value),this.varsSet.names.add(i);const u="ÂØæË±°„Ç≠„Éº";this.varsSet.names.add(u);const c=this.varname_set(u,n);let l="";0===this.speedMode.invalidSore&&(l=this.varname_set("„Åù„Çå",s));let p="";if(null===e.target){if(0!==this.speedMode.invalidSore)throw r.NakoSyntaxError.fromNode("„ÄéÂèçÂæ©„Äè„ÅÆÂØæË±°„Åå„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ",e);p=this.varname_get("„Åù„Çå")}else p=this._convGen(e.target,!0);const h=f(a(this.convGenLoop(e.block),1));return this.convLineno(e,!1)+"\n"+`/*[convForeach id=${t}]*/\n`+`let ${o} = ${p};\n// foreach Map?\n`+`if (${o} instanceof Map) { // Object„Å´Âº∑Âà∂Â§âÊèõ\n`+`  let tmp = {}; for (let tmpKey of ${o}.keys()) { tmp[tmpKey] = ${o}.get(tmpKey); }; \n`+`  ${o} = tmp;\n}\n`+`for (let ${n} in ${o}) {\n`+`  if (!${o}.hasOwnProperty(${n})) { continue }\n  // ÂØæË±°„Ç≠„Éº„ÅÆË®≠ÂÆö\n`+`  ${c}\n  // ÂØæË±°„ÅÆË®≠ÂÆö\n`+`  let ${s} = $nako_foreach_data${t}[${n}]\n`+`  ${l};\n`+`  ${this.varname_set(i,s)}\n  // [convForeach::block]\n`+`  ${h}\n  // [/convForeach::block]\n}\n`+`/*[/convForeach id=${t}]*/\n`}convRepeatTimes(e){const t=this.loopId++,n=`$nako_i${t}`,r=`$nako_times_data${t}`,s=this._convGen(e.value,!0);this.varsSet.names.add("ÂõûÊï∞");const o=this.varname_set("ÂõûÊï∞",n),i=f(a(this.convGenLoop(e.block),1));let u="";0===this.speedMode.invalidSore&&(u=this.varname_set("„Åù„Çå",n));return this.convLineno(e,!1)+"\n"+`// [convRepeatTimes id=${t}] // „ÄénÂõû„ÄèÊßãÊñá\n`+`let ${r} = ${s};\n`+`for (let ${n} = 1; ${n} <= ${r}; ${n}++) {\n`+`  ${u};${o}\n`+`  ${i}\n}\n`+`// [/convRepeatTimes id=${t}]\n`}convSpeedMode(e,t){if(!e.options)return"";const n={...this.speedMode};e.options["Ë°åÁï™Âè∑ÁÑ°„Åó"]&&this.speedMode.lineNumbers++,e.options["ÊöóÈªô„ÅÆÂûãÂ§âÊèõÁÑ°„Åó"]&&this.speedMode.implicitTypeCasting++,e.options["Âº∑Âà∂„Éî„É•„Ç¢"]&&this.speedMode.forcePure++,e.options["„Åù„ÇåÁÑ°Âäπ"]&&this.speedMode.invalidSore++;try{return this._convGen(e.block,t)}finally{this.speedMode=n}}convPerformanceMonitor(e,t){const n={...this.performanceMonitor};if(!e.options)return"";e.options["„É¶„Éº„Ç∂Èñ¢Êï∞"]&&this.performanceMonitor.userFunction++,e.options["„Ç∑„Çπ„ÉÜ„É†Èñ¢Êï∞Êú¨‰Ωì"]&&this.performanceMonitor.systemFunctionBody++,e.options["„Ç∑„Çπ„ÉÜ„É†Èñ¢Êï∞"]&&this.performanceMonitor.systemFunction++;try{return this._convGen(e.block,t)}finally{this.performanceMonitor=n}}convWhile(e){const t=`while (${this._convGen(e.cond,!0)}){\n  ${this.convGenLoop(e.block)}\n}\n`;return this.convLineno(e,!1)+t}convAtohantei(e){const t=`$nako_i${this.loopId++}`,n=this._convGen(e.cond,!0),r=`while (true) {\n  ${this.convGenLoop(e.block)}\n  let ${t} = ${n};\n  if (${t}) { continue } else { break }\n}\n\n`;return this.convLineno(e,!1)+r}convSwitch(e){const t=this._convGen(e.value,!0),n=e.cases||[];let r="";for(let e=0;e<n.length;e++){const t=n[e][0],s=this.convGenLoop(n[e][1]);if("ÈÅï„Åà„Å∞"===t.type)r+="  default:\n";else{r+=`  case ${this._convGen(t,!0)}:\n`}r+=`    ${s}\n    break\n`}const s=`switch (${t}){\n${r}\n}\n`;return this.convLineno(e,!1)+s}convIf(e){const t=this._convGen(e.expr,!0),n=this._convGen(e.block,!1),r=null===e.false_block?"":"else {"+this._convGen(e.false_block,!1)+"};\n";return this.convLineno(e,!1)+`if (${t}) {\n  ${n}\n}`+r+";\n"}convFuncGetArgsCalcType(e,t,n){const r=[],s={},o=n.args?n.args:[];for(let e=0;e<o.length;e++){const t=o[e];if(0===e&&null===t&&0===this.speedMode.invalidSore)r.push(this.varname_get("„Åù„Çå")),s.sore=!0;else{const n=this._convGen(t,!0);r.push(`/*arg${e}*/${n}`)}}return[r,s]}getPluginList(){const e=[];for(const t in this.__self.__module)e.push(t);return e}convCallFunc(e,t){const n=o.getFuncName(e.name),s=this.findVar(n);if(null===s)throw r.NakoSyntaxError.fromNode(`Èñ¢Êï∞„Äé${n}„Äè„ÅåË¶ãÂΩì„Åü„Çä„Åæ„Åõ„Çì„ÄÇÊúâÂäπ„Éó„É©„Ç∞„Ç§„É≥=[`+this.getPluginList().join(", ")+"]",e);let i;if(0===s.i){if(i=this.__self.getFunc(n),!i)throw new Error(`[System Error] Èñ¢Êï∞„Äå${n}„ÄçNakoCompiler.nakoFuncList „ÅÆ‰∏çÊï¥Âêà„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ`);if("func"!==i.type)throw r.NakoSyntaxError.fromNode(`„Äé${n}„Äè„ÅØÈñ¢Êï∞„Åß„ÅØ„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ`,e)}else i=this.nakoFuncList.get(n),void 0===i&&(i={return_none:!1});if("func_pointer"===e.type)return s.js;const u=this.convFuncGetArgsCalcType(n,i,e),c=u[0],a=u[1];if(this.usedFuncSet.add(n),"ÂêçÂâçÁ©∫ÈñìË®≠ÂÆö"===n)return`\n// --- ÂêçÂâçÁ©∫Èñì(${c[0]}) ---\n__self.__varslist[0].get('ÂêçÂâçÁ©∫ÈñìË®≠ÂÆö')(${c[0]}, __self);__self.__modName=${c[0]};\n`;if("„Éó„É©„Ç∞„Ç§„É≥ÂêçË®≠ÂÆö"===n)return`\n__self.__varslist[0].get('„Éó„É©„Ç∞„Ç§„É≥ÂêçË®≠ÂÆö')(${c[0]}, __self);\n`;c.push("__self");let f="function",l="",p="";if(e.setter&&(l+=";__self.isSetter = true;\n",p+=";__self.isSetter = false;\n"),0===s.i&&this.varslistSet.length>3&&!0!==i.pure&&0===this.speedMode.forcePure){const e=[];for(const t of Array.from(this.varsSet.names.values()))o.isValidIdentifier(t)&&e.push({str:JSON.stringify(t),js:this.varname_get(t)});if(l+="__self.__locals = __vars;\n",e.length>0){l+="/* ÂÖ®„Å¶„ÅÆÂ±ïÈñã„Åï„Çå„Åü„É≠„Éº„Ç´„É´Â§âÊï∞„Çí __self.__locals „Å´‰øùÂ≠ò */\n";for(const t of e)l+=`__self.__locals.set(${t.str}, ${t.js});\n`}if(e.length>0){p+="/* ÂÖ®„Å¶„ÅÆÂ±ïÈñã„Åï„Çå„Åü„É≠„Éº„Ç´„É´Â§âÊï∞„Çí __self.__locals „Åã„ÇâÂèó„ÅëÂèñ„Çã */\n";for(const t of e)"„Åù„Çå"!==t.js&&(p+=`${t.js} = __self.__locals[${t.str}];\n`)}}a.sore&&(l+="/*[sore]*/");const h=(e,t)=>{let n="";for(const r of e.split("\n"))""!==r&&(n+="  ".repeat(t)+r+"\n");return n},d={TYPEOF:!0,"Â§âÊï∞ÂûãÁ¢∫Ë™ç":!0};let _;if(0===this.warnUndefinedCallingUserFunc&&0!==s.i||0===this.warnUndefinedCallingSystemFunc&&0===s.i)_=c.join(",");else{const t=[];c.forEach((r=>{if("__self"===r||!0===d[n])t.push(`${r}`);else{const o=0===s.i?"ÂëΩ‰ª§„Äé$0„Äè„ÅÆÂºïÊï∞„Å´undefined„ÇíÊ∏°„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ":"„É¶„Éº„Ç∂ÂëΩ‰ª§„Äé$0„Äè„ÅÆÂºïÊï∞„Å´undefined„ÇíÊ∏°„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ",i=this.addConstPool(o,[n],e.file,e.line),u=""===r?'""':r;t.push(`(__self.chk(${u}, ${i}))`)}})),_=t.join(", ")}let y=`${s.js}(${_})`;if(i.asyncFn&&(f=`async ${f}`,y=`await ${y}`,this.numAsyncFn++,this.usedAsyncFn=!0),0===s.i&&0!==this.performanceMonitor.systemFunctionBody){let e=n;e||(void 0===this.performanceMonitor.mumeiId&&(this.performanceMonitor.mumeiId=0),this.performanceMonitor.mumeiId++,e=`anous_${this.performanceMonitor.mumeiId}`),y=`(${f} (key, type) {\nconst sbf_start = performance.now() * 1000;\ntry {\nreturn `+y+";\n} finally {\nconst sbl_time = performance.now() * 1000 - sbf_start;\nif (!__self.__performance_monitor) {\n__self.__performance_monitor={};\n__self.__performance_monitor[key] = { called:1, totel_usec: sbl_time, min_usec: sbl_time, max_usec: sbl_time, type: type };\n} else if (!__self.__performance_monitor[key]) {\n__self.__performance_monitor[key] = { called:1, totel_usec: sbl_time, min_usec: sbl_time, max_usec: sbl_time, type: type };\n} else {\n__self.__performance_monitor[key].called++;\n__self.__performance_monitor[key].totel_usec+=sbl_time;\nif(__self.__performance_monitor[key].min_usec>sbl_time){__self.__performance_monitor[key].min_usec=sbl_time;}\nif(__self.__performance_monitor[key].max_usec<sbl_time){__self.__performance_monitor[key].max_usec=sbl_time;}\n"+`}}})('${n}_body', 'sysbody')\n`}let m="";if(i.return_none)m=""===p?`/*ÊàªÂÄ§„ÅÆ„Å™„ÅÑÈñ¢Êï∞ÂëºÂá∫1*/${l}${y};\n`:`/*ÊàªÂÄ§„ÅÆ„Å™„ÅÑÈñ¢Êï∞ÂëºÂá∫2*/${l}try {\n${h(y,1)};\n} finally {\n${h(p,1)}}\n`;else{let n="",r="";if(0===this.speedMode.invalidSore&&(n="__self.__setSore(",r=")"),""===l&&""===p)m=`${n}${y}${r}`;else if(""===p){m=`/* funcCallThis1 */${`(${`${f}(){ return ${`${n}${y}${r}`} }`}).call(this)`}`}else m=`/* funcCallThis2 */(${f}(){\n${h(`${l}try {\n${h(`return ${n}${y}${r};`,1)}\n} finally {\n${h(p,1)}}`,1)}}).call(this)`;("„Åó„Å¶"===e.josi||""===e.josi&&!t)&&(m+=";\n")}return 0===s.i&&0!==this.performanceMonitor.systemFunction&&(m="(function (key, type) {\nconst sf_start = performance.now() * 1000;\ntry {\nreturn "+m+";\n} finally {\nconst sl_time = performance.now() * 1000 - sf_start;\nif (!__self.__performance_monitor) {\n__self.__performance_monitor={};\n__self.__performance_monitor[key] = { called:1, totel_usec: sl_time, min_usec: sl_time, max_usec: sl_time, type: type };\n} else if (!__self.__performance_monitor[key]) {\n__self.__performance_monitor[key] = { called:1, totel_usec: sl_time, min_usec: sl_time, max_usec: sl_time, type: type };\n} else {\n__self.__performance_monitor[key].called++;\n__self.__performance_monitor[key].totel_usec+=sl_time;\nif(__self.__performance_monitor[key].min_usec>sl_time){__self.__performance_monitor[key].min_usec=sl_time;}\nif(__self.__performance_monitor[key].max_usec<sl_time){__self.__performance_monitor[key].max_usec=sl_time;}\n"+`}}})('${n}_sys', 'system')\n`),m}convRenbun(e){const t=this._convGen(e.right,!0),n=this._convGen(e.left,!1);return this.numAsyncFn++,this.usedAsyncFn=!0,`/*ÈÄ£Êñá*/await (async function(){ ${n}; return ${t} }).call(this)`}convOp(e){const t={"&":'+""+',eq:"==",noteq:"!=","===":"===","!==":"!==",gt:">",lt:"<",gteq:">=",lteq:"<=",and:"&&",or:"||",shift_l:"<<",shift_r:">>",shift_r0:">>>","√∑":"/"};let n=e.operator||"",r=this._convGen(e.right,!0),s=this._convGen(e.left,!0);return"+"===n&&0===this.speedMode.implicitTypeCasting&&(e.left&&"number"!==e.left.type&&"bigint"!==e.left.type&&(s=`self.__parseFloatOrBigint(${s})`),e.right&&"number"!==e.right.type&&"bigint"!==e.right.type&&(r=`self.__parseFloatOrBigint(${r})`)),"^"===n||"**"===n?`((${s}) ** (${r}))`:"√∑√∑"===n?`(Math.floor(${s} / ${r}))`:(t[n]&&(n=t[n]),`(${s} ${n} ${r})`)}convInc(e){const t=`$nako_v${this.loopId++}`;let n=null;if(0===this.speedMode.invalidSore&&(n=this.varname_get("„Åù„Çå")),e.value&&(n=this._convGen(e.value,!0)),null==n)throw r.NakoSyntaxError.fromNode("Âä†ÁÆó„Åô„ÇãÂÖà„ÅÆÂ§âÊï∞Âêç„Åå„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ",e);let s="",o="",i="",u="";const c=e.name;if("ÈÖçÂàóÂèÇÁÖß"===c.type)o=this.convRefArray(c),i=`${o} = ${t}`,u=`${o} = 0`;else{const e=c.value;let n=this.findVar(e,t);if(null===n&&(this.varsSet.names.add(e),n=this.findVar(e,t),!n))throw new Error("„ÄéÂ¢ó„Äè„Åæ„Åü„ÅØ„ÄéÊ∏õ„Äè„ÅßÂ§âÊï∞„ÅåË¶ãÂΩì„Åü„Çä„Åæ„Åõ„Çì„ÄÇ");o=n.js,i=n.js_set,n=this.findVar(e,"0"),null!==n&&(u=n.js_set)}return s+="\n/*[convInc]*/\n",s+=this.convLineno(e,!1)+"\n",s+=`let ${t} = ${o}\n`,s+=`if (typeof ${t} === 'undefined') { ${u}; }\n`,s+=`${t} = ${o} + ${n};\n`,s+=`${i}\n`,s+="/*[/convInc]*/\n",s}convLet(e){let t=null;if(0===this.speedMode.invalidSore&&(t=this.varname_get("„Åù„Çå")),e.value&&(t=this._convGen(e.value,!0)),null==t)throw r.NakoSyntaxError.fromNode("‰ª£ÂÖ•„Åô„ÇãÂÖà„ÅÆÂ§âÊï∞Âêç„Åå„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ",e);const n=e.name.value,s=this.findVar(n,t);let o="";if(null===s)this.varsSet.names.add(n),o=`${this.varname_set(n,t)};`;else{if(this.varslistSet[s.i].readonly.has(n))throw r.NakoSyntaxError.fromNode(`ÂÆöÊï∞„Äé${n}„Äè„ÅØÊó¢„Å´ÂÆöÁæ©Ê∏à„Åø„Å™„ÅÆ„Åß„ÄÅÂÄ§„Çí‰ª£ÂÖ•„Åô„Çã„Åì„Å®„ÅØ„Åß„Åç„Åæ„Åõ„Çì„ÄÇ`,e);o=`${s.js_set};`}return";"+this.convLineno(e,!1)+o+"\n"}convDefLocalVar(e){const t=null===e.value?"null":this._convGen(e.value,!0),n=e.name.value,s=e.vartype;if(this.varsSet.names.has(n))throw r.NakoSyntaxError.fromNode(`${s}„Äé${n}„Äè„ÅÆ‰∫åÈáçÂÆöÁæ©„ÅØ„Åß„Åç„Åæ„Åõ„Çì„ÄÇ`,e);this.varsSet.names.add(n),"ÂÆöÊï∞"===s&&this.varsSet.readonly.add(n);const o=`${this.varname_set(n,t)};\n`;return this.convLineno(e,!1)+o}convDefLocalVarlist(e){let t="";const n=e.vartype,r=null===e.value?"null":this._convGen(e.value,!0),s=`$nako_i${this.loopId++}`;t+=`let ${s} = ${r}\n`,t+=`if (!(${s} instanceof Array)) { ${s}=[${s}] }\n`;const o=e.names?e.names:[];for(let e=0;e<o.length;e++){const r=o[e].value;this.varsSet.names.has(r),this.varsSet.names.add(r),"ÂÆöÊï∞"===n&&this.varsSet.readonly.add(r),t+=this.varname_set(r,`${s}[${e}]`)+";\n"}return this.convLineno(e,!1)+"/*[convDefLocalVarlist]*/\n"+t+"/*[/convDefLocalVarlist]*/\n"}convString(e){let t=""+e.value;const n=e.mode;if(t=t.replace(/\\/g,"\\\\"),t=t.replace(/"/g,'\\"'),t=t.replace(/\r/g,"\\r"),t=t.replace(/\n/g,"\\n"),"ex"===n){const n=(t,n)=>'"+'+this.genVar(n,e)+'+"';t=t.replace(/\{(.+?)\}/g,n),t=t.replace(/ÔΩõ(.+?)ÔΩù/g,n)}return'"'+t+'"'}convTryExcept(e){const t=this._convGen(e.block,!1),n=this._convGen(e.errBlock,!1);return this.convLineno(e,!1)+`try {\n${t}\n} catch (e) {\n  __self.__setSysVar("„Ç®„É©„Éº„É°„ÉÉ„Çª„Éº„Ç∏", e.message);\n;\n`+`${n}}\n`}getUsedFuncSet(){return this.usedFuncSet}getPluginInitCode(){let e="",t="";for(const e in this.__self.__module){const n=`!${e}:ÂàùÊúüÂåñ`;this.varslistSet[0].names.has(n)&&(this.usedFuncSet.add(`!${e}:ÂàùÊúüÂåñ`),t+=`__v0.get('!${e}:ÂàùÊúüÂåñ')(__self);\n`)}return""!==t&&(e+="__v0.set('__line', 'l0:„Éó„É©„Ç∞„Ç§„É≥„ÅÆÂàùÊúüÂåñ');\n"+t),e}}const i="\n// === generated by nadesiko3 v__version__(core:__coreVersion__) ===\n// -----------------------------------------------------------------\n// <nadesiko3standalone>\n// -----------------------------------------------------------------\n// --- import\nimport path from 'path'\nimport { NakoRuntimeError } from './nako3runtime/nako_errors.mjs'\n__codeImportFiles__\n// --- init global self\nconst self = {}\nself.coreVersion = '__coreVersion__'\nself.version = '__version__'\nself.logger = {\n  error: (message) => { console.error(message) },\n  warn: (message) => { console.warn(message) },\n  send: (level, message) => { console.log(message) },\n  runtimeError: (message, lineInfo) => { console.error(message, lineInfo) }\n};\nself.__varslist = [new Map(), new Map(), new Map()]\nself.__v0 = self.__varslist[0]\nself.initFuncList = []\nself.clearFuncList = []\n// --- jsInit ---\n__jsInit__\n// --- Copy module functions ---\nfor (const mod of __importNames__) {\n  for (const funcName in mod) {\n    // „Éó„É©„Ç∞„Ç§„É≥„ÅÆÂàùÊúüÂåñ„Å®„ÇØ„É™„Ç¢Èñ¢Êï∞„ÇíÁôªÈå≤\n    if (funcName === 'ÂàùÊúüÂåñ') {\n      __self.initFuncList.push(mod[funcName].fn)\n      continue\n    }\n    if (funcName === '!„ÇØ„É™„Ç¢') {\n      __self.clearFuncList.push(mod[funcName].fn)\n      continue\n    }\n    // Èñ¢Êï∞„ÇÑÂÆöÊï∞„ÇíÁôªÈå≤\n    const f = mod[funcName]\n    if (f.type === 'func') { // Èñ¢Êï∞\n      __self.__varslist[0].set(funcName, f.fn)\n    } else { // ÂÆöÊï∞\n      __self.__varslist[0].set(funcName, f.value)\n    }\n  }\n}\n__self.__vars = __self.__varslist[2];\n__self.__module = {};\n__self.__locals = new Map();\n__self.__genMode = 'sync';\n// „Éó„É©„Ç∞„Ç§„É≥„ÅÆÂàùÊúüÂåñ„Ç≥„Éº„Éâ„ÇíÂÆüË°å\n__self.initFuncList.map(f => f(self))\n// standalone\n__self.__v0.set('__standalone', true)\n// -----------------------------------------------------------------\ntry {\n  try {\n// -----------------------------------------------------------------\n// <prepareMainCode>\n__codeStandalone__\n// </prepareMainCode>\n// -----------------------------------------------------------------\n// <mainCode>\n// -----------------------------------------------------------------\n__codeJS__\n// -----------------------------------------------------------------\n// </mainCode>\n// -----------------------------------------------------------------\n  } catch (err) {\n    __self.logger.error(err);\n    throw err;\n  }\n} finally {\n  // standaloneCode„Åß„ÅØ„ÄÅÂç≥ÊôÇ„Éó„É©„Ç∞„Ç§„É≥„ÅÆ„ÇØ„É™„Ç¢„Ç≥„Éº„Éâ„ÇíÂÆüË°å\n  __self.clearFuncList.map(f => f(__self))\n}\n// -----------------------------------------------------------------\n// </nadesiko3standalone>\n// -----------------------------------------------------------------\n";function u(e,t,n){const r=new o(e);r.registerFunction(t);let s=f(a(r.convGen(t,n),1));const u=r.getDefFuncCode(e,n),l=(new Date).getTime()+"_"+Math.floor(4294967295*Math.random());if(s&&n.isTest&&(s+="\n__self._runTests(__tests);\n"),r.numAsyncFn>0||r.debugOption.useDebug){const e="__eval_nako3async_"+l+"__";s=`\n// ------------------------------------------------------------------\n// <nadesiko3::gen::async id="${l}" times="${r.numAsyncFn}">\n// ------------------------------------------------------------------\nasync function ${e}(__self) {\n  // --- code_begin ---\n  ${s}\n  // --- code_end ---\n  // __Âá¶ÁêÜÊú´Â∞æ__ // ‚Üê „ÉÜ„Çπ„Éà„Å™„Å©„ÅßÂøÖË¶Å„Å™„ÅÆ„ÅßÊ∂à„Åï„Å™„ÅÑ\n} // end of ${e}\n// ------------------------------------------------------------------\n// call ${e}\n(async () => {\n  if (__self.__v0.get('__standalone')) {\n    await ${e}(self);\n  } else {\n    ${e}.call(self, self)\n    .then(() => { /* __async_ok__ */ })\n    .catch(err => {\n      if (err.message === '__ÁµÇ„Çè„Çã__') { return }\n      __self.numFailures++\n      // send errors to logger\n      let rterr = __self.logger.runtimeError(err, __self.__v0.get('__line'))\n      __self.logger.error(rterr)\n    })\n  }\n})();\n// ------------------------------------------------------------------\n// </nadesiko3::gen::async id="${l}">\n// ------------------------------------------------------------------\n`}else{const e="__eval_nako3sync_"+l+"__";s=`\n// ------------------------------------------------------------------\n// <nadesiko3::gen::syncMode>\n// ------------------------------------------------------------------\nfunction ${e}(__self) {\ntry {\n  ${s}\n  // __Âá¶ÁêÜÊú´Â∞æ__ // ‚Üê „ÉÜ„Çπ„Éà„Å™„Å©„ÅßÂøÖË¶Å„Å™„ÅÆ„ÅßÊ∂à„Åï„Å™„ÅÑ\n} catch (err) {\n  if (err.message === '__ÁµÇ„Çè„Çã__') { return }\n  __self.numFailures++\n  throw __self.logger.runtimeError(err, __self.__v0.get('__line'))\n}\n} // end of ${e}\n${e}(__self)\n// ------------------------------------------------------------------\n// </nadesiko3::gen::syncMode>\n// ------------------------------------------------------------------\n`}s=a(s),e.getLogger().trace("--- generate ---\n"+s);let p="";const h=[];for(const e of n.importFiles){if("nako_errors.mjs"===e)continue;const t="nako3runtime_"+e.replace(/\.(js|mjs)$/,"").replace(/[^a-zA-Z0-9_]/g,"_");h.push(t),p+=`import ${t} from './nako3runtime/${e}'\n`}const d=r.getPluginInitCode();return{runtimeEnv:`\n// <runtimeEnvCode>\nconst self = this\n${n.codeEnv}\n${u}\n${d}\n${s}\n// </runtimeEnvCode>\n`,standalone:c(i,{codeImportFiles:p,coreVersion:e.coreVersion,version:e.version,importNames:"["+h.join(", ")+"]",codeStandalone:n.codeStandalone,codeJS:s,jsInit:u}),gen:r}}function c(e,t){for(const n in t){const r=`__${n}__`,s=t[n];e=e.split(r).join(s)}return e}function a(e,t=0){e=(e=e.replace(/;{2,}/g,";")).replace(/\n{2,}/g,"\n");let n="";for(let e=0;e<t;e++)n+="  ";const r=[],s=e.split("\n");for(let e=0;e<s.length;e++){let t=s[e];t=t.replace(/^(\s*);/,"$1"),""!==f(t)&&r.push(n+t)}return e=r.join("\n")}function f(e){return(e=String(e)).replace(/^\s+|\s+$/g,"")}},"./core/src/nako_global.mjs":function(e,t,n){"use strict";n.r(t),n.d(t,{NakoGlobal:function(){return s}});var r=n("./core/src/nako_colors.mjs");class s{guid;version;coreVersion;__locals;__varslist;__code;__callstack;__stack;__labels;__genMode;__module;pluginfiles;index;nextIndex;numFailures;gen;logger;compiler;lastJSCode;constructor(e,t,n=0){this.guid=n,this.lastJSCode="",this.__locals=new Map,this.__varslist=[new Map(e.__varslist[0]),new Map(e.__varslist[1]),new Map(e.__varslist[2])],this.numFailures=0,this.index=0,this.nextIndex=-1,this.__code=[],this.__callstack=[],this.__stack=[],this.__labels=[],this.__genMode=t.genMode,this.version=e.version,this.coreVersion=e.coreVersion,this.__module={...e.__module},this.pluginfiles={...e.getPluginfiles()},this.gen=t,this.logger=e.getLogger(),this.compiler=e}clearLog(){this.__varslist[0].set("Ë°®Á§∫„É≠„Ç∞","")}get log(){let e=this.__varslist[0].get("Ë°®Á§∫„É≠„Ç∞");return e=e.replace(/\s+$/,""),e}__setSysVar(e,t){this.__varslist[0].set(e,t)}__getSysVar(e){return this.__varslist[0].get(e)}runEx(e,t,n,r=""){return n.preCode=r,n.nakoGlobal=this,this.compiler.runSync(e,t,n)}async runAsync(e,t,n,r=""){return n.preCode=r,n.nakoGlobal=this,await this.compiler.runAsync(e,t,n)}_runTests(e){let t=`${r.NakoColors.color.bold}„ÉÜ„Çπ„Éà„ÅÆÂÆüË°åÁµêÊûú${r.NakoColors.color.reset}\n`,n=0,s=0;for(const o of e)try{o.f(),t+=`${r.NakoColors.color.green}‚úî${r.NakoColors.color.reset} ${o.name}\n`,n++}catch(e){t+=`${r.NakoColors.color.red}‚òì${r.NakoColors.color.reset} ${o.name}: ${e.message}\n`,s++}t+=s>0?`${r.NakoColors.color.green}ÊàêÂäü ${n}‰ª∂ ${r.NakoColors.color.red}Â§±Êïó ${s}‰ª∂`:`${r.NakoColors.color.green}ÊàêÂäü ${n}‰ª∂`,this.numFailures=s,this.logger.stdout(t)}clearPlugins(){const e="!„ÇØ„É™„Ç¢";for(const t in this.pluginfiles){const n=this.__module[t];n[e]&&n[e].fn&&n[e].fn(this)}}reset(){this.clearPlugins()}destroy(){this.reset()}}},"./core/src/nako_indent.mjs":function(e,t,n){"use strict";n.r(t),n.d(t,{checkSpecialRetMark:function(){return c},countIndent:function(){return p},getBlockStructure:function(){return d},getIndent:function(){return l},removeCommentsFromLine:function(){return a},replaceRetMark:function(){return h}});var r=n("./core/src/nako_errors.mjs"),s=n("./core/src/nako_prepare.mjs");const o=["!„Ç§„É≥„Éá„É≥„ÉàÊßãÊñá","!„Åì„Åì„Åæ„Åß„Å†„Çã„ÅÑ"];const i="üç∑üç∑ÊîπË°åüçπÈªêÈªëÈºòÈº∂ÈΩà‚ñ®üç∫üç∫üç∂üç∂";let u=i;function c(e){for(u=i;e.indexOf(u)>=0;){const e=String.fromCodePoint(Math.floor(40952*Math.random())+19968);u+=e+e}return u}function a(e){const t=s.NakoPrepare.getInstance(),n=e.length;let r="",o="",i=0,u=!1;for(;i<n;){const n=e.charAt(i),s=e.substring(i,2),c=t.convert1ch(n),a=s.split("").map((e=>t.convert1ch(e))).join("");if(""===o){switch(c){case'"':case"'":o=n,r+=n,i++;continue;case"„Äå":o="„Äç",r+=n,i++;continue;case"„Äé":o="„Äè",r+=n,i++;continue;case"‚Äú":o="‚Äù",r+=n,i++;continue;case"{":o="}",r+=n,i++;continue;case"[":o="]",r+=n,i++;continue}switch(s){case"üå¥":o="üå¥",r+=s,i+=2;continue;case"üåø":o="üåø",r+=s,i+=2;continue}"#"!==c?"//"!==a?"/*"!==a?(r+=n,i++):(o="*/",u=!0,i+=2):(o="\n",u=!0,i+=2):(o="\n",u=!0,i++)}else o===(1===o.length?c:a)?(u||(r+=e.substr(i,o.length)),i+=o.length,u=!1,o=""):(u||(r+=n),i++)}return r}function f(e){let t="";for(let n=0;n<e;n++)t+=" ";return t}function l(e){const t=/^([ „ÄÄ„Éª\t]*)/.exec(a(e));return t?t[1]:""}function p(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charAt(n);if(" "!==r)if("„ÄÄ"!==r)if("„Éª"!==r){if("\t"!==r)break;t+=4}else t+=2;else t+=2;else t++}return t}function h(e){const t=s.NakoPrepare.getInstance(),n=e.length;let r="",o="",i=0;for(;i<n;){const n=e.charAt(i),s=e.substr(i,2),c=t.convert1ch(n),a=s.split("").map((e=>t.convert1ch(e))).join("");if(""===o){switch(c){case'"':case"'":o=n,r+=n,i++;continue;case"„Äå":o="„Äç",r+=n,i++;continue;case"„Äé":o="„Äè",r+=n,i++;continue;case"‚Äú":o="‚Äù",r+=n,i++;continue;case"{":o="}",r+=n,i++;continue;case"[":o="]",r+=n,i++;continue}switch(s){case"üå¥":o="üå¥",r+=s,i+=2;continue;case"üåø":o="üåø",r+=s,i+=2;continue}"#"!==c?"//"!==a?"/*"!==a?(r+=n,i++):(o="*/",r+=s,i+=2):(o="\n",r+=s,i+=2):(o="\n",r+=n,i++)}else o===(1===o.length?c:a)?(r+=e.substr(i,o.length),i+=o.length,o=""):(r+="\n"===n?u:n,i++)}return r}function d(e){const t={lines:[],pairs:[],parents:[],spaces:[]},n=h(e).split("\n"),r=[];let s=0,o=p(n[0]);for(const e of n){const n=e.split(u).length,i=a(e),c=""===i.replace(/^[ „ÄÄ„Éª\t]+/,"")?o:p(i);if(t.lines.push(...Array(n).fill(c)),t.spaces.push(...Array(n).fill(l(i))),o<c)r.push(s-1);else if(o>c){const e=r.pop();void 0!==e&&t.pairs.push([e,s])}const f=void 0!==r[r.length-1]?r[r.length-1]:null;t.parents.push(...Array(n).fill(f)),o=c,s+=n}for(const e of r)t.pairs.push([e,s]);return t}t.default={convert:function(e,t="main.nako3"){return(0,s.checkNakoMode)(e,o)?function(e,t){const n=[],s=[],o="„Åì„Åì„Åæ„Åß‚Ä∞",i=h(e),l=i.split("\n"),d=[],_=[];let y=0;c(e);let m=-1;l.forEach((e=>{if(m+=e.split(u).length,/^[ „ÄÄ„Éª\t]*$/.test(e))return void s.push({lineNumber:d.length,len:e.length});const i=a(e).replace(/^[ „ÄÄ„Éª\t]+/,"").replace(/\s+$/,"");if(""===i)return void d.push(e);if("„Åì„Åì„Åæ„Åß"===i)throw new r.NakoIndentError("„Ç§„É≥„Éá„É≥„ÉàÊßãÊñá„ÅåÊúâÂäπÂåñ„Åï„Çå„Å¶„ÅÑ„Çã„Å®„Åç„Å´„Äé„Åì„Åì„Åæ„Åß„Äè„Çí‰Ωø„ÅÜ„Åì„Å®„ÅØ„Åß„Åç„Åæ„Åõ„Çì„ÄÇ",m,t);const c=p(e);if(y!==c){if(y<c)return _.push(y),y=c,void d.push(e);if(y>c)for(y=c;_.length>0;){const t=_.pop()||0;if(t===c)return"ÈÅï„Åà„Å∞"!==i.substring(0,3)&&(n.push(d.length),d.push(f(t)+o)),void d.push(e);c<t&&(n.push(d.length),d.push(f(t)+o))}}else d.push(e)}));for(;_.length>0;){const e=_.pop()||0;n.push(d.length),d.push(f(e)+o)}const g=[];for(let e=0;e<d.length;e++)if(d[e].includes(u)){const t=d[e].split(u);for(let e=0;e<n.length;e++)g.length<n[e]&&(n[e]+=t.length-1);for(let e=0;e<s.length;e++)g.length<s[e].lineNumber&&(s[e].lineNumber+=t.length-1);g.push(...t)}else g.push(d[e]);return{code:g.join("\n"),insertedLines:n,deletedLines:s}}(e,t):{code:e,insertedLines:[],deletedLines:[]}},getBlockStructure:d,getIndent:l,countIndent:p,isIndentSyntaxEnabled:function(e){return(0,s.checkNakoMode)(e,o)}}},"./core/src/nako_indent_chars.mjs":function(e,t,n){"use strict";function r(e){const t=e.charCodeAt(0);return"\t"===e?4:" "===e||"|"===e?1:"„Éª"===e||"„ÄÄ"===e||"‚èã"===e||"‚èå"===e||t>=9472&&t<=9599||t>=9120&&t<=9135||t>=9144&&t<=9151?2:0}n.r(t),n.d(t,{isIndentChars:function(){return r}})},"./core/src/nako_indent_inline.mjs":function(e,t,n){"use strict";n.r(t),n.d(t,{convertIndentSyntax:function(){return _},convertInlineIndent:function(){return c},joinTokenLines:function(){return a},splitTokens:function(){return l}});var r=n("./core/src/nako_types.mjs"),s=n("./core/src/nako_errors.mjs"),o=n("./core/src/nako_tools.mjs");const i=!1;function u(e){return"ÈÅï„Åà„Å∞"===e.type||"word"===e.type&&"„Ç®„É©„Éº"===e.value&&"„Å™„Çâ„Å∞"===e.josi}function c(e){const t=l(e,"eol"),n=[];let r=-1,s=0,c=0;const d=e=>{e.forEach((e=>{"{"===e.type&&s++,"}"===e.type&&s--,"["===e.type&&c++,"]"===e.type&&c--}))};for(let e=0;e<t.length;e++){const i=t[e];if(p(i))continue;const a=h(i);if(s>0||c>0){d(i);continue}if(r>=0){const s=a.indent;for(;r>=s;){const i=a;if(u(i)&&r===s||(t[e-1].push((0,o.newToken)("„Åì„Åì„Åæ„Åß","„Åì„Åì„Åæ„Åß",i)),t[e-1].push((0,o.newToken)("eol","\n",i))),n.pop(),!(n.length>0)){r=-1;break}r=n[n.length-1]}}if(d(i),s>0||c>0)continue;const l=f(i);":"===l.type&&(t[e]=t[e].filter((e=>e!==l)),r=l.indent,n.push(r))}if(t.length>0&&n.length>0){let r=e[0];for(let e=t.length-1;e>=0;e--){const n=t[e];if(n.length>0){r=n[n.length-1];break}}for(let e=0;e<n.length;e++)t[t.length-1].push((0,o.newToken)("„Åì„Åì„Åæ„Åß","„Åì„Åì„Åæ„Åß",r)),t[t.length-1].push((0,o.newToken)("eol","\n",r))}const _=a(t);return i&&console.log("###",(0,o.debugTokens)(_)),_}function a(e){const t=[];for(const n of e)for(const e of n)t.push(e);return t}function f(e){const t=e.length;if(0===t)return(0,r.NewEmptyToken)("?");let n=e[t-1];return"eol"===n.type&&t>=2&&(n=e[t-2]),n}function l(e,t){const n=[];let r=[],s=0;for(const o of e)r.push(o),"{"===o.type?s++:"}"===o.type?s--:0===s&&o.type===t&&(n.push(r),r=[]);return r.length>0&&n.push(r),n}function p(e){if(0===e.length)return!0;for(let t=0;t<e.length;t++){const n=e[t].type;if("eol"!==n&&"line_comment"!==n&&"range_comment"!==n)return!1}return!0}function h(e){for(let t=0;t<e.length;t++){const n=e[t].type;if("eol"!==n&&"line_comment"!==n&&"range_comment"!==n)return e[t]}return e[0]}const d=["!„Ç§„É≥„Éá„É≥„ÉàÊßãÊñá","!„Åì„Åì„Åæ„Åß„Å†„Çã„ÅÑ","üí°„Ç§„É≥„Éá„É≥„ÉàÊßãÊñá","üí°„Åì„Åì„Åæ„Åß„Å†„Çã„ÅÑ"];function _(e){if(!function(e){for(let t=0;t<e.length&&!(t>100);t++){const n=e[t];if("line_comment"===n.type&&d.indexOf(n.value)>=0)return!0}return!1}(e))return e;for(const t of e)if("„Åì„Åì„Åæ„Åß"===t.type)throw new s.NakoIndentError("„Ç§„É≥„Éá„É≥„ÉàÊßãÊñá„ÅåÊúâÂäπÂåñ„Åï„Çå„Å¶„ÅÑ„Çã„Å®„Åç„Å´„Äé„Åì„Åì„Åæ„Åß„Äè„Çí‰Ωø„ÅÜ„Åì„Å®„ÅØ„Åß„Åç„Åæ„Åõ„Çì„ÄÇ",t.line,t.file);let t=0,n=0;const r=e=>{e.forEach((e=>{"{"===e.type&&t++,"}"===e.type&&t--,"["===e.type&&n++,"]"===e.type&&n--}))},i=[],c=l(e,"eol");let f=0;for(let e=0;e<c.length;e++){const s=c[e];if(p(s))continue;if(n>0||t>0){r(s);continue}const a=h(s),l=a.indent;if(l!==f){if(f>=0)for(;f>l;){const t=i[i.length-1][1];if(u(a)&&t===l);else{const t=c[e-1][0];c[e-1].push((0,o.newToken)("„Åì„Åì„Åæ„Åß","„Åì„Åì„Åæ„Åß",t)),c[e-1].push((0,o.newToken)("eol","\n",t))}if(i.pop(),!(i.length>0)){f=0;break}f=i[i.length-1][0]}n>0||t>0||(r(s),l>f&&(i.push([l,f]),f=l))}}for(let t=0;t<i.length;t++){let t=e[0];for(let e=c.length-1;e>=0;e--){const n=c[e];if(n.length>0){t=n[n.length-1];break}}c[c.length-1].push((0,o.newToken)("„Åì„Åì„Åæ„Åß","„Åì„Åì„Åæ„Åß",t)),c[c.length-1].push((0,o.newToken)("eol","\n",t))}return a(c)}},"./core/src/nako_josi_list.mjs":function(e,t,n){"use strict";n.r(t),n.d(t,{josiList:function(){return r},josiRE:function(){return f},removeJosiList:function(){return o},removeJosiMap:function(){return u},tararebaJosiList:function(){return s},tararebaMap:function(){return i}});const r=["„Å´„Å§„ÅÑ„Å¶","„Åè„Çâ„ÅÑ","„Å™„ÅÆ„Åã","„Åæ„Åß„Çí","„Åæ„Åß„ÅÆ","„Å´„Çà„Çã","„Å®„ÅØ","„Åã„Çâ","„Åæ„Åß","„Å†„Åë","„Çà„Çä","„Åª„Å©","„Å™„Å©","„ÅÑ„Å¶","„Åà„Å¶","„Åç„Å¶","„Åë„Å¶","„Åó„Å¶","„Å£„Å¶","„Å´„Å¶","„Åø„Å¶","„ÇÅ„Å¶","„Å≠„Å¶","„Åß„ÅØ","„Å´„ÅØ","„ÅØ~","„Çì„Åß","„Åö„Å§","„ÅØ","„Çí","„Å´","„Å∏","„Åß","„Å®","„Åå","„ÅÆ"],s=["„Åß„Å™„Åë„Çå„Å∞","„Å™„Åë„Çå„Å∞","„Å™„Çâ„Å∞","„Å™„Çâ","„Åü„Çâ","„Çå„Å∞"],o=["„Åì„Å®","„Åß„ÅÇ„Çã","„Åß„Åô","„Åó„Åæ„Åô","„Åß„Åó„Åü"],i={};s.forEach((e=>{r.push(e),i[e]=!0}));const u={};o.forEach((e=>{r.push(e),u[e]=!0}));const c=[];for(const e of r)c.push("„ÇÇ„ÅÆ"+e),c.push(e);c.sort(((e,t)=>t.length-e.length));const a="^[\\t ]*("+c.join("|")+")",f=new RegExp(a)},"./core/src/nako_lex_rules.mjs":function(e,t,n){"use strict";n.r(t),n.d(t,{rules:function(){return l},trimOkurigana:function(){return p},unitRE:function(){return f}});var r=n("./core/src/nako_josi_list.mjs");const s=/^[\u3005\u4E00-\u9FCF_a-zA-Z0-9„Ç°-„É∂„Éº\u2460-\u24FF\u2776-\u277F\u3251-\u32BF]+/,o=/^[„ÅÅ-„Çì]/,i=/^[„ÅÅ-„Çì]+$/,u=/^.+(‰ª•‰∏ä|‰ª•‰∏ã|Ë∂Ö|Êú™Ê∫Ä)$/,c=/^(„Åã„Å§|„Åæ„Åü„ÅØ)/,a=e=>function(){throw new Error("Á™ÅÁÑ∂„ÅÆ„Äé"+e+"„Äè„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ")},f=/^(ÂÜÜ|„Éâ„É´|ÂÖÉ|Ê≠©|„é°|Âù™|Â∫¶|‚ÑÉ|¬∞|ÂÄã|„Å§|Êú¨|ÂÜä|Êâç|Ê≠≥|Âåπ|Êûö|Áöø|„Çª„ÉÉ„Éà|ÁæΩ|‰∫∫|‰ª∂|Ë°å|Âàó|Ê©ü|ÂìÅ|m|mm|cm|km|g|kg|t|px|dot|pt|em|b|mb|kb|gb)/,l=[{name:"„Åì„Åì„Åæ„Åß",pattern:/^;;;/},{name:"eol",pattern:/^\n/},{name:"eol",pattern:/^;/},{name:"space",pattern:/^(\x20|\x09|„Éª|‚éø |‚îî|ÔΩú)+/},{name:"comma",pattern:/^,/},{name:"line_comment",pattern:/^#[^\n]*/},{name:"line_comment",pattern:/^\/\/[^\n]*/},{name:"range_comment",pattern:/^\/\*/,cbParser:function(e){let t="";let n=0;const r=(e=e.substring(2)).indexOf("*/");r<0?(t=e,e=""):(t=e.substring(0,r),e=e.substring(r+2));for(let e=0;e<t.length;e++)"\n"===t.charAt(e)&&n++;return t=t.replace(/(^\s+|\s+$)/,""),{src:e,res:t,josi:"",numEOL:n}}},{name:"def_test",pattern:/^‚óè„ÉÜ„Çπ„Éà:/},{name:"def_func",pattern:/^‚óè/},{name:"bigint",pattern:/^0[xX][0-9a-fA-F]+(_[0-9a-fA-F]+)*n/,readJosi:!0},{name:"bigint",pattern:/^0[oO][0-7]+(_[0-7]+)*n/,readJosi:!0},{name:"bigint",pattern:/^0[bB][0-1]+(_[0-1]+)*n/,readJosi:!0},{name:"bigint",pattern:/^\d+(_\d+)*?n/,readJosi:!0},{name:"number",pattern:/^0[xX][0-9a-fA-F]+(_[0-9a-fA-F]+)*/,readJosi:!0,cb:d},{name:"number",pattern:/^0[oO][0-7]+(_[0-7]+)*/,readJosi:!0,cb:d},{name:"number",pattern:/^0[bB][0-1]+(_[0-1]+)*/,readJosi:!0,cb:d},{name:"number",pattern:/^\d+(_\d+)*\.(\d+(_\d+)*)?([eE][+|-]?\d+(_\d+)*)?/,readJosi:!0,cb:d},{name:"number",pattern:/^\.\d+(_\d+)*([eE][+|-]?\d+(_\d+)*)?/,readJosi:!0,cb:d},{name:"number",pattern:/^\d+(_\d+)*([eE][+|-]?\d+(_\d+)*)?/,readJosi:!0,cb:d},{name:"„Åì„Åì„Åã„Çâ",pattern:/^(„Åì„Åì„Åã„Çâ),?/},{name:"„Åì„Åì„Åæ„Åß",pattern:/^(„Åì„Åì„Åæ„Åß|üíß)/},{name:"„ÇÇ„Åó",pattern:/^„ÇÇ„Åó„ÇÇ?/},{name:"ÈÅï„Åà„Å∞",pattern:/^ÈÅï(„Åà„Å∞)?/},{name:"shift_r0",pattern:/^>>>/},{name:"shift_r",pattern:/^>>/},{name:"shift_l",pattern:/^<</},{name:"===",pattern:/^===/},{name:"!==",pattern:/^!==/},{name:"gteq",pattern:/^(‚âß|>=|=>)/},{name:"lteq",pattern:/^(‚â¶|<=|=<)/},{name:"noteq",pattern:/^(‚â†|<>|!=)/},{name:"‚Üê",pattern:/^(‚Üê|<--)/},{name:"eq",pattern:/^(==|üü∞üü∞)/},{name:"eq",pattern:/^(=|üü∞)/},{name:"line_comment",pattern:/^(!|üí°)(„Ç§„É≥„Éá„É≥„ÉàÊßãÊñá|„Åì„Åì„Åæ„Åß„Å†„Çã„ÅÑ|DNCL„É¢„Éº„Éâ|DNCL2„É¢„Éº„Éâ|DNCL2)[^\n]*/},{name:"not",pattern:/^(!|üí°)/},{name:"gt",pattern:/^>/},{name:"lt",pattern:/^</},{name:"and",pattern:/^(„Åã„Å§|&&|and\s)/},{name:"or",pattern:/^(„Åæ„Åü„ÅØ|Êàñ„ÅÑ„ÅØ|„ÅÇ„Çã„ÅÑ„ÅØ|or\s|\|\|)/},{name:"@",pattern:/^@/},{name:"+",pattern:/^\+/},{name:"-",pattern:/^-/},{name:"**",pattern:/^(√ó√ó|\*\*)/},{name:"*",pattern:/^(√ó|\*)/},{name:"√∑√∑",pattern:/^√∑√∑/},{name:"√∑",pattern:/^(√∑|\/)/},{name:"%",pattern:/^%/},{name:"^",pattern:/^\^/},{name:"&",pattern:/^&/},{name:"[",pattern:/^\[/},{name:"]",pattern:/^]/,readJosi:!0},{name:"(",pattern:/^\(/},{name:")",pattern:/^\)/,readJosi:!0},{name:"|",pattern:/^\|/},{name:"string",pattern:/^üåø/,cbParser:e=>h("üåø","üåø",e)},{name:"string_ex",pattern:/^üå¥/,cbParser:e=>h("üå¥","üå¥",e)},{name:"string_ex",pattern:/^„Äå/,cbParser:e=>h("„Äå","„Äç",e)},{name:"string",pattern:/^„Äé/,cbParser:e=>h("„Äé","„Äè",e)},{name:"string_ex",pattern:/^‚Äú/,cbParser:e=>h("‚Äú","‚Äù",e)},{name:"string_ex",pattern:/^"/,cbParser:e=>h('"','"',e)},{name:"string",pattern:/^'/,cbParser:e=>h("'","'",e)},{name:"„Äç",pattern:/^„Äç/,cbParser:a("„Äç")},{name:"„Äè",pattern:/^„Äè/,cbParser:a("„Äè")},{name:"func",pattern:/^\{Èñ¢Êï∞\},?/},{name:"{",pattern:/^\{/},{name:"}",pattern:/^\}/,readJosi:!0},{name:":",pattern:/^:/},{name:"_eol",pattern:/^_\s*\n/},{name:"dec_lineno",pattern:/^‚Ä∞/},{name:"word",pattern:/^[\uD800-\uDBFF][\uDC00-\uDFFF][_a-zA-Z0-9]*/,readJosi:!0},{name:"word",pattern:/^[\u1F60-\u1F6F][_a-zA-Z0-9]*/,readJosi:!0},{name:"word",pattern:/^„Ää.+?„Äã/,readJosi:!0},{name:"word",pattern:/^[_a-zA-Z\u3005\u4E00-\u9FCF„ÅÅ-„Çì„Ç°-„É∂\u2460-\u24FF\u2776-\u277F\u3251-\u32BF]/,cbParser:function(e,t=!0){let n="",i="";for(;""!==e;){if(n.length>0){if(c.exec(e))break;const t=r.josiRE.exec(e);if(t){i=t[0].replace(/^\s+/,""),","===(e=e.substring(t[0].length)).charAt(0)&&(e=e.substring(1));break}}const t=s.exec(e);if(t){n+=t[0],e=e.substring(t[0].length);continue}if(!o.test(e))break;n+=e.charAt(0),e=e.substring(1)}/[„ÅÅ-„Çì]Èñì$/.test(n)&&(e=n.charAt(n.length-1)+e,n=n.slice(0,-1));const a=u.exec(n);a&&(e=a[1]+i+e,i="",n=n.substring(0,n.length-a[1].length));"„ÇÇ„ÅÆ"===i.substring(0,2)&&(i=i.substring(2));r.removeJosiMap[i]&&(i="");t&&(n=p(n));""===n&&""!==i&&(n=i,i="");return{src:e,res:n,josi:i,numEOL:0}}}];function p(e){return o.test(e)?i.test(e)?e:e.replace(/[„ÅÅ-„Çì]+$/g,""):e.replace(/[„ÅÅ-„Çì]+/g,"")}function h(e,t,n){let s="",o="",i=0;const u=(n=n.substring(e.length)).indexOf(t);if(u<0)s=n,n="";else if(s=n.substring(0,u),n=n.substring(u+t.length),s.indexOf(e)>=0)throw"„Äé"===e?new Error("„Äå„Äé„Äç„ÅßÂßã„ÇÅ„ÅüÊñáÂ≠óÂàó„ÅÆ‰∏≠„Å´„Äå„Äé„Äç„ÇíÂê´„ÇÅ„Çã„Åì„Å®„ÅØ„Åß„Åç„Åæ„Åõ„Çì„ÄÇ"):new Error(`„Äé${e}„Äè„ÅßÂßã„ÇÅ„ÅüÊñáÂ≠óÂàó„ÅÆ‰∏≠„Å´„Äé${e}„Äè„ÇíÂê´„ÇÅ„Çã„Åì„Å®„ÅØ„Åß„Åç„Åæ„Åõ„Çì„ÄÇ`);const c=r.josiRE.exec(n);c&&(o=c[0].replace(/^\s+/,""),","===(n=n.substring(c[0].length)).charAt(0)&&(n=n.substring(1))),r.removeJosiMap[o]&&(o=""),"„ÇÇ„ÅÆ"===o.substring(0,2)&&(o=o.substring(2));for(let e=0;e<s.length;e++)"\n"===s.charAt(e)&&i++;return{src:n,res:s,josi:o,numEOL:i}}function d(e){return Number(e.replace(/_/g,""))}},"./core/src/nako_lexer.mjs":function(e,t,n){"use strict";n.r(t),n.d(t,{NakoLexer:function(){return a}});var r=n("./core/src/nako_parser_const.mjs"),s=n("./core/src/nako_reserved_words.mjs"),o=n("./core/src/nako_indent_chars.mjs"),i=n("./core/src/nako_josi_list.mjs"),u=n("./core/src/nako_lex_rules.mjs"),c=n("./core/src/nako_errors.mjs");class a{logger;funclist;modList;result;modName;moduleExport;constructor(e){this.logger=e,this.funclist=new Map,this.modList=[],this.result=[],this.modName="main.nako3",this.moduleExport=new Map}setFuncList(e){this.funclist=e}setModuleExport(e){this.moduleExport=e}replaceTokens(e,t,n){if(this.result=e,this.modName=a.filenameToModName(n),a.preDefineFunc(e,this.logger,this.funclist,this.moduleExport),this._replaceWord(this.result),t)if(this.result.length>0){const e=this.result[this.result.length-1];this.result.push({type:"eol",line:e.line,column:0,indent:-1,file:e.file,josi:"",value:"---",startOffset:e.startOffset,endOffset:e.endOffset,rawJosi:""}),this.result.push({type:"eof",line:e.line,indent:-1,column:0,file:e.file,josi:"",value:"",startOffset:e.startOffset,endOffset:e.endOffset,rawJosi:""})}else this.result.push({type:"eol",line:0,column:0,indent:-1,file:"",josi:"",value:"---",startOffset:0,endOffset:0,rawJosi:""}),this.result.push({type:"eof",line:0,column:0,indent:-1,file:"",josi:"",value:"",startOffset:0,endOffset:0,rawJosi:""});return this.result}static preDefineFunc(e,t,n,r){let o=0,i=!1;const u=()=>{const t=[],n={};if("("!==e[o].type)return[];for(o++;e[o];){const r=e[o];if(o++,")"===r.type)break;"func"===r.type?i=!0:"|"!==r.type&&"comma"!==r.type&&(i&&(r.funcPointer=!0,i=!1),t.push(r),n[r.value]||(n[r.value]=[]),n[r.value].push(r.josi))}const r=[],s=[],u=[],c={};for(const e of t)if(!c[e.value]){const t=n[e.value];u.push(t),r.push(e.value),e.funcPointer?s.push(e.value):s.push(null),c[e.value]=!0}return[u,r,s]};for(;o<e.length;){const i=e[o];if("not"===i.type&&e.length-o>3){let t={type:"eol"};if(o>=1&&(t=e[o-1]),"eol"===t.type){let t=e[o+1];if("word"===t.type&&"„É¢„Ç∏„É•„Éº„É´ÂÖ¨ÈñãÊó¢ÂÆöÂÄ§"===t.value){if(t.type="„É¢„Ç∏„É•„Éº„É´ÂÖ¨ÈñãÊó¢ÂÆöÂÄ§",t=e[o+2],"string"===t.type&&"ÈùûÂÖ¨Èñã"===t.value){const e=a.filenameToModName(i.file);r.set(e,!1),o+=3;continue}if("string"===t.type&&"ÂÖ¨Èñã"===t.value){const e=a.filenameToModName(i.file);r.set(e,!0),o+=3;continue}}}}if("word"===i.type&&"„Å´„ÅØ"===i.josi||"word"===i.type&&"„ÅØ~"===i.josi){i.josi="„Å´„ÅØ",e.splice(o+1,0,{type:"def_func",value:"Èñ¢Êï∞",indent:i.indent,line:i.line,column:i.column,file:i.file,josi:"",startOffset:i.endOffset,endOffset:i.endOffset,rawJosi:"",tag:"ÁÑ°ÂêçÈñ¢Êï∞"}),o++;continue}if("word"===i.type&&""===i.josi&&i.value.length>=2&&i.value.match(/Âõû$/)){i.value=i.value.substring(0,i.value.length-1),i.endOffset||(i.endOffset=1);const t={type:"Âõû",value:"Âõû",indent:i.indent,line:i.line,column:i.column,file:i.file,josi:"",startOffset:i.endOffset-1,endOffset:i.endOffset,rawJosi:""};e.splice(o+1,0,t),i.endOffset--,o++}if("word"===i.type){const e=s.default.get(i.value);e&&(i.type=e),"„Åù„ÅÜ"===i.value&&(i.value="„Åù„Çå")}if("def_test"!==i.type&&"def_func"!==i.type){o++;continue}let c=!0,f={type:"eol"};o>=1&&(f=e[o-1]),"eol"===f.type&&(c=!1);const l=i;o++;let p=[],h=[],d=[],_="",y=null,m=null;if(e[o]&&"{"===e[o].type){o++;const n=e[o]&&"word"===e[o].type?e[o].value:"";"ÂÖ¨Èñã"===n?m=!0:"ÈùûÂÖ¨Èñã"===n?m=!1:"„Ç®„ÇØ„Çπ„Éù„Éº„Éà"===n?m=!0:t.warn(`‰∏çÊòé„Å™Èñ¢Êï∞Â±ûÊÄß„Äé${n}„Äè„ÅåÊåáÂÆö„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ`),o++,e[o]&&"}"===e[o].type&&o++}if(e[o]&&"("===e[o].type&&([p,h,d]=u()),!c&&e[o]&&"word"===e[o].type&&(y=e[o++],_=y.value),0===p.length&&e[o]&&"("===e[o].type&&([p,h,d]=u()),""!==_&&y){if(_=a.filenameToModName(i.file)+"__"+_,n.has(_)){const e=_.replace(/^main__/,"");t.warn(`Èñ¢Êï∞„Äé${e}„Äè„ÅØÊó¢„Å´ÂÆöÁæ©„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ`,l)}y.value=_,n.set(_,{type:"func",josi:p,fn:null,asyncFn:!1,isExport:m,varnames:h,funcPointers:d})}const g={type:"func",josi:p,varnames:h,funcPointers:d};l.meta=g}}splitStringEx(e){const t=[],n=e.split(/[{ÔΩõ]/);t.push(n[0]);for(const e of n.slice(1)){const n=e.replace("ÔΩù","}").indexOf("}");if(-1===n)return null;t.push(e.slice(0,n),e.slice(n+1))}return t}_replaceWord(e){let t=[],n=0,s=!1;const o=[];let u=e.length>0?a.filenameToModName(e[0].file):"main";for(;n<e.length;){const a=e[n];if(("word"===a.type||"func"===a.type)&&"ÂêçÂâçÁ©∫ÈñìË®≠ÂÆö"===a.value){if(s)throw new c.InternalLexerError("ÂêçÂâçÁ©∫ÈñìË®≠ÂÆö„ÅÆÈñ¢Êï∞ÂèÇÁÖß„ÇíÂèñÂæó„Åô„Çã„Åì„Å®„ÅØ„Åß„Åç„Åæ„Åõ„Çì„ÄÇ",void 0===a.startOffset?0:a.startOffset,void 0===a.endOffset?0:a.endOffset,a.line,a.file);o.push(u),u=e[n-1].value}if(("word"===a.type||"func"===a.type)&&"ÂêçÂâçÁ©∫Èñì„Éù„ÉÉ„Éó"===a.value){if(s)throw new c.InternalLexerError("ÂêçÂâçÁ©∫Èñì„Éù„ÉÉ„Éó„ÅÆÈñ¢Êï∞ÂèÇÁÖß„ÇíÂèñÂæó„Åô„Çã„Åì„Å®„ÅØ„Åß„Åç„Åæ„Åõ„Çì„ÄÇ",void 0===a.startOffset?0:a.startOffset,void 0===a.endOffset?0:a.endOffset,a.line,a.file);const e=o.pop();e&&(u=e)}if("word"===a.type&&"„Åù„Çå"!==a.value){const t=a.value;if(t.indexOf("__")<0){const r=`${u}__${t}`,o=this.funclist.get(r);if(o&&"func"===o.type){a.type=s?"func_pointer":"func",a.meta=o,a.value=r,s&&(s=!1,e.splice(n-1,1));continue}for(const r of this.modList){const o=`${r}__${t}`,i=this.funclist.get(o),u=this.moduleExport.get(r);if(i&&"func"===i.type&&(!0===i.isExport||!1!==i.isExport&&!1!==u)){a.type=s?"func_pointer":"func",a.meta=i,a.value=o,s&&(s=!1,e.splice(n-1,1));break}}if("func"===a.type||"func_pointer"===a.type)continue}const r=this.funclist.get(t);if(r&&"func"===r.type&&(a.type=s?"func_pointer":"func",a.meta=r,s)){s=!1,e.splice(n-1,1);continue}}if(s=!1,"func"!==a.type||"{Èñ¢Êï∞}"!==a.value){if("-"===a.type&&e[n+1]){const t=e[n+1].type;if("number"===t||"bigint"===t){const s=n<=0?"eol":e[n-1].type;("eol"===s||r.opPriority[s]||""!==e[n-1].josi)&&(e.splice(n,1),"number"===t?e[n].value*=-1:e[n].value="-"+e[n].value)}}if(void 0===a.josi&&(a.josi=""),"„ÅØ"!==a.josi)if("„Å®„ÅØ"!==a.josi)if(i.tararebaMap[a.josi]){const t="„Åß„Å™„Åë„Çå„Å∞"===a.josi||"„Å™„Åë„Çå„Å∞"===a.josi?"„Åß„Å™„Åë„Çå„Å∞":"„Å™„Çâ„Å∞";a.rawJosi||(a.rawJosi=t);const r=void 0===a.endOffset?void 0:a.endOffset-a.rawJosi.length;e.splice(n+1,0,{type:"„Å™„Çâ„Å∞",value:t,indent:a.indent,line:a.line,column:a.column,file:a.file,startOffset:r,endOffset:a.endOffset,josi:"",rawJosi:""}),a.josi=a.rawJosi="",a.endOffset=r,n+=2}else"_eol"!==a.type?"line_comment"!==a.type&&"range_comment"!==a.type?("eol"===a.type&&(a.value=t.join("/"),t=[]),n++):(t.push(a.value),e.splice(n,1)):e.splice(n,1);else{a.rawJosi||(a.rawJosi=a.josi);const t=void 0===a.endOffset?void 0:a.endOffset-a.rawJosi.length;e.splice(n+1,0,{type:a.josi,indent:a.indent,line:a.line,column:a.column,file:a.file,startOffset:t,endOffset:a.endOffset,josi:"",rawJosi:"",value:void 0}),a.josi=a.rawJosi="",a.endOffset=t,n+=2}else{a.rawJosi||(a.rawJosi=a.josi);const t=void 0===a.endOffset?void 0:a.endOffset-a.rawJosi.length;e.splice(n+1,0,{type:"eq",indent:a.indent,line:a.line,column:a.column,file:a.file,startOffset:t,endOffset:a.endOffset,josi:"",rawJosi:"",value:void 0}),n+=2,a.josi=a.rawJosi="",a.endOffset=t}}else n++,s=!0}}countIndent(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charAt(n),s=(0,o.isIndentChars)(r);if(0===s)return[t,n];t+=s}return[t,e.length]}tokenize(e,t,n){const r=e.length,s=[];let o,a,f=1,l=!1,p=0;const h=this.countIndent(e);for(p=h[0],e=e.substring(h[1]),f+=h[1];""!==e;){let h=!1;for(const d of u.rules){const _=d.pattern.exec(e);if(!_)continue;if(h=!0,"space"===d.name){f+=_[0].length,e=e.substring(_[0].length);continue}if(d.cbParser){let i;if(l&&"word"===d.name)i=d.cbParser(e,!1);else try{i=d.cbParser(e)}catch(s){throw new c.NakoLexerError(s.message,r-e.length,r-e.length+1,t,n)}if("string_ex"===d.name){const o=this.splitStringEx(i.res);if(null===o)throw new c.InternalLexerError("Â±ïÈñã„ÅÇ„ÇäÊñáÂ≠óÂàó„ÅßÂÄ§„ÅÆÂüã„ÇÅËæº„Åø{...}„ÅåÂØæÂøú„Åó„Å¶„ÅÑ„Åæ„Åõ„Çì„ÄÇ",r-e.length,r-i.src.length,t,n);let u=0;for(let c=0;c<o.length;c++){const a=c===o.length-1?i.josi:"";c%2==0?(s.push({type:"string",value:o[c],file:n,josi:a,indent:p,line:t,column:f,preprocessedCodeOffset:r-e.length+u,preprocessedCodeLength:o[c].length+2+a.length}),u+=o[c].length+2):(s.push({type:"&",value:"&",josi:"",indent:p,file:n,line:t,column:f,preprocessedCodeOffset:r-e.length+u,preprocessedCodeLength:0}),s.push({type:"(",value:"(",josi:"",indent:p,file:n,line:t,column:f,preprocessedCodeOffset:r-e.length+u,preprocessedCodeLength:0}),s.push({type:"code",value:o[c],josi:"",indent:p,file:n,line:t,column:f,preprocessedCodeOffset:r-e.length+u,preprocessedCodeLength:o[c].length}),s.push({type:")",value:")",josi:"",indent:p,file:n,line:t,column:f,preprocessedCodeOffset:r-e.length+u+o[c].length,preprocessedCodeLength:0}),s.push({type:"&",value:"&",josi:"",indent:p,file:n,line:t,column:f,preprocessedCodeOffset:r-e.length+u+o[c].length,preprocessedCodeLength:0}),u+=o[c].length)}t+=i.numEOL,f+=e.length-i.src.length,e=i.src,i.numEOL>0&&(f=1);break}o=f,f+=e.length-i.src.length,s.push({type:d.name,value:i.res,josi:i.josi,indent:p,line:t,column:o,file:n,preprocessedCodeOffset:r-e.length,preprocessedCodeLength:e.length-i.src.length}),e=i.src,t+=i.numEOL,i.numEOL>0&&(f=1);break}const y=r-e.length;let m=_[0];if(d.cb&&(m=d.cb(m)),o=f,a=t,f+=_[0].length,e=e.substring(_[0].length),("eol"===d.name&&"\n"===m||"_eol"===d.name)&&(m=t++,f=1),"number"===d.name){const t=u.unitRE.exec(e);t&&(e=e.substring(t[0].length),f+=_[0].length)}let g="";if(d.readJosi){const t=i.josiRE.exec(e);t&&(f+=t[0].length,g=t[0].replace(/^\s+/,""),","===(e=e.substring(t[0].length)).charAt(0)&&(e=e.substring(1)),i.removeJosiMap[g]&&(g=""),"„ÇÇ„ÅÆ"===g.substring(0,2)&&(g=g.substring(2)))}switch(d.name){case"def_test":l=!0;break;case"eol":l=!1}if("dec_lineno"!==d.name){if(s.push({type:d.name,value:m,indent:p,line:a,column:o,file:n,josi:g,preprocessedCodeOffset:y,preprocessedCodeLength:r-e.length-y}),"eol"===d.name&&1===f){const t=this.countIndent(e);p=t[0],f+=t[1],e=e.substring(t[1])}break}t--}if(!h)throw new c.InternalLexerError("Êú™Áü•„ÅÆË™ûÂè•: "+e.substring(0,3)+"...",r-e.length,r-r+3,t,n)}return s}static tokensToTypeStr(e,t){return e.map((e=>e.type)).join(t)}static filenameToModName(e){if(!e)return"main";if((e=e.replace(/[\\:]/g,"/")).indexOf("/")>=0){const t=e.split("/");e=t[t.length-1]}return e=e.replace(/\.nako3?$/,"")}}},"./core/src/nako_logger.mjs":function(e,t,n){"use strict";n.r(t),n.d(t,{LogLevel:function(){return o},NakoLogger:function(){return u}});var r=n("./core/src/nako_errors.mjs"),s=n("./core/src/nako_colors.mjs");class o{static all=0;static trace=1;static debug=2;static info=3;static warn=4;static error=5;static stdout=6;static fromS(e){let t=o.trace;switch(e){case"all":t=o.all;break;case"trace":t=o.trace;break;case"debug":t=o.debug;break;case"info":t=o.info;break;case"warn":t=o.warn;break;case"error":t=o.error;break;case"stdout":t=o.stdout;break;default:throw new Error("[NakoLogger] unknown logger level:"+e)}return t}static toString(e){return["all","trace","debug","info","warn","error","stdout"][e]}}function i(e){return e?`${e.file||""}${void 0===e.line?"":`(${e.line+1}Ë°åÁõÆ): `}`:""}class u{listeners;logs;position;constructor(){this.listeners=[],this.logs="",this.position=""}getErrorLogs(){return[this.logs.replace(/\s+$/,""),this.position]}clear(){this.logs="",this.position=""}addListener(e,t){const n=o.fromS(e);this.listeners.push({level:n,callback:t})}removeListener(e){this.listeners=this.listeners.filter((t=>t.callback!==e))}trace(e,t=null){this.sendI(o.trace,`${s.NakoColors.color.bold}[„Éá„Éê„ÉÉ„Ç∞ÊÉÖÂ†±ÔºàË©≥Á¥∞Ôºâ]${s.NakoColors.color.reset}${i(t)}${e}`,t)}debug(e,t=null){this.sendI(o.debug,`${s.NakoColors.color.bold}[„Éá„Éê„ÉÉ„Ç∞ÊÉÖÂ†±]${s.NakoColors.color.reset}${i(t)}${e}`,t)}info(e,t=null){this.sendI(o.info,`${s.NakoColors.color.bold}${s.NakoColors.color.blue}[ÊÉÖÂ†±]${s.NakoColors.color.reset}${i(t)}${e}`,t)}warn(e,t=null){this.sendI(o.warn,`${s.NakoColors.color.bold}${s.NakoColors.color.green}[Ë≠¶Âëä]${s.NakoColors.color.reset}${i(t)}${e}`,t)}error(e,t=null){if(e instanceof Error&&"string"==typeof e.type){switch(e.type){case"NakoRuntimeError":case"NakoError":if(e instanceof r.NakoError){const n=e;let r=t;return null==r&&(r={file:n.file,line:n.line||0,startOffset:0,endOffset:0}),void this.sendI(o.error,n.message,r)}}}e instanceof Error&&(e=e.message),this.sendI(o.error,`${s.NakoColors.color.bold}${s.NakoColors.color.red}[„Ç®„É©„Éº]${s.NakoColors.color.reset}${i(t)}${e}`,t)}runtimeError(e,t){return new r.NakoRuntimeError(e,t)}stdout(e,t=null){this.sendI(o.stdout,`${e}`,t)}send(e,t,n,r=null,s=null){const i=o.fromS(e);this.sendI(i,t,n,r,s)}sendI(e,t,n,r=null,i=null){const u=()=>{const u=s.NakoColors.convertColorTextFormat(t);let c="";t.includes("\n")&&(c+="border-top: 1px solid #8080806b; border-bottom: 1px solid #8080806b;");return{noColor:u.noColor,nodeConsole:u.nodeConsole,browserConsole:i||u.browserConsole,html:`<div style="${c}">`+(r||u.html)+"</div>",level:o.toString(e),position:n}};if(e===o.error){const e=u();this.logs+=e.noColor+"\n",n&&null!==this.position&&(this.position=`l${n.line}:${n.file}`)}for(const t of this.listeners)if(t.level<=e){const e=u();t.callback(e)}}}},"./core/src/nako_parser3.mjs":function(e,t,n){"use strict";n.r(t),n.d(t,{NakoParser:function(){return c}});var r=n("./core/src/nako_parser_const.mjs"),s=n("./core/src/nako_parser_base.mjs"),o=n("./core/src/nako_errors.mjs"),i=n("./core/src/nako_lexer.mjs"),u=n("./core/src/nako_types.mjs");class c extends s.NakoParserBase{parse(e,t){return this.reset(),this.tokens=e,this.modName=i.NakoLexer.filenameToModName(t),this.modList.push(this.modName),this.startParser()}startParser(){const e=this.ySentenceList(),t=this.get();if(t&&"eof"!==t.type)throw this.logger.debug(`ÊßãÊñáËß£Êûê„Åß„Ç®„É©„Éº„ÄÇ${this.nodeToStr(t,{depth:1},!0)}„ÅÆ‰Ωø„ÅÑÊñπ„ÅåÈñìÈÅï„Å£„Å¶„ÅÑ„Åæ„Åô„ÄÇ`,t),o.NakoSyntaxError.fromNode(`ÊßãÊñáËß£Êûê„Åß„Ç®„É©„Éº„ÄÇ${this.nodeToStr(t,{depth:1},!1)}„ÅÆ‰Ωø„ÅÑÊñπ„ÅåÈñìÈÅï„Å£„Å¶„ÅÑ„Åæ„Åô„ÄÇ`,t);return e}ySentenceList(){const e=[];let t=-1;const n=this.peekSourceMap();for(;!this.isEOF();){const n=this.ySentence();if(!n)break;e.push(n),t<0&&(t=n.line)}if(0===e.length){const e=this.peek()||this.tokens[0];throw this.logger.debug("ÊßãÊñáËß£Êûê„Å´Â§±Êïó:"+this.nodeToStr(this.peek(),{depth:1},!0),e),o.NakoSyntaxError.fromNode("ÊßãÊñáËß£Êûê„Å´Â§±Êïó:"+this.nodeToStr(this.peek(),{depth:1},!1),e)}return{type:"block",block:e,...n,end:this.peekSourceMap(),genMode:this.genMode}}makeStackBalanceReport(){const e=[];this.stack.forEach((t=>{let n=this.nodeToStr(t,{depth:1},!1);t.josi&&(n+=t.josi),e.push(n)}));const t=e.join(",");let n="";const r="A".charCodeAt(0);for(const e of this.recentlyCalledFunc){n+=" - ";let t=0;const s=e.josi;if(s)for(const e of s){n+=String.fromCharCode(r+t),1===e.length?n+=e[0]:n+=`(${e.join("|")})`,t++}n+=e.name+"\n"}return this.recentlyCalledFunc=[],`Êú™Ëß£Ê±∫„ÅÆÂçòË™û„Åå„ÅÇ„Çä„Åæ„Åô: [${t}]\nÊ¨°„ÅÆÂëΩ‰ª§„ÅÆÂèØËÉΩÊÄß„Åå„ÅÇ„Çä„Åæ„Åô:\n${n}`}yEOL(){const e=this.get();if(!e)return null;if(this.stack.length>0){const t=this.makeStackBalanceReport();throw o.NakoSyntaxError.fromNode(t,e)}return this.recentlyCalledFunc=[],e}ySentence(){const e=this.peekSourceMap();if(this.check("eol"))return this.yEOL();if(this.check("„ÇÇ„Åó"))return this.yIF();if(this.check("ÂæåÂà§ÂÆö"))return this.yAtohantei();if(this.check("„Ç®„É©„ÉºÁõ£Ë¶ñ"))return this.yTryExcept();if(this.accept(["Êäú„Åë„Çã"]))return{type:"break",josi:"",...e,end:this.peekSourceMap()};if(this.accept(["Á∂ö„Åë„Çã"]))return{type:"continue",josi:"",...e,end:this.peekSourceMap()};if(this.accept(["DNCL„É¢„Éº„Éâ"]))return this.yDNCLMode(1);if(this.accept(["DNCL2„É¢„Éº„Éâ"]))return this.yDNCLMode(2);if(this.accept(["not","string","„É¢„Éº„ÉâË®≠ÂÆö"]))return this.ySetGenMode(this.y[1].value);if(this.accept(["not","„É¢„Ç∏„É•„Éº„É´ÂÖ¨ÈñãÊó¢ÂÆöÂÄ§","eq","string"]))return this.yExportDefault(this.y[3].value);if(this.check("ÈÄêÊ¨°ÂÆüË°å"))return this.yTikuji();if(this.accept(["not","ÈùûÂêåÊúü„É¢„Éº„Éâ"]))return this.yASyncMode();if(this.check2(["func","eq"])){const e=this.get()||(0,u.NewEmptyToken)();throw o.NakoSyntaxError.fromNode(`Èñ¢Êï∞„Äé${e.value}„Äè„Å´‰ª£ÂÖ•„Åß„Åç„Åæ„Åõ„Çì„ÄÇ`,e)}if(this.accept([this.ySpeedMode]))return this.y[0];if(this.accept([this.yPerformanceMonitor]))return this.y[0];if(this.accept([this.yLet]))return this.y[0];if(this.accept([this.yDefTest]))return this.y[0];if(this.accept([this.yDefFunc]))return this.y[0];if(this.accept([this.yCall])){const t=this.y[0],n=this.peek();if(n&&"„Å™„Çâ„Å∞"===n.type){const e=this.peekSourceMap(),n=t;return this.get(),this.yIfThen(e,n)}if(r.RenbunJosi.indexOf(t.josi||"")>=0){if(this.stack.length>=1){const e=this.makeStackBalanceReport();throw o.NakoSyntaxError.fromNode(e,t)}const n=this.ySentence();if(null!==n)return{type:"block",block:[t,n],josi:n.josi,...e,end:this.peekSourceMap()}}return t}return null}yASyncMode(){this.logger.error("„ÄéÈùûÂêåÊúü„É¢„Éº„Éâ„ÄèÊßãÊñá„ÅØÂªÉÊ≠¢„Åï„Çå„Åæ„Åó„Åü(https://nadesi.com/v3/doc/go.php?1028)„ÄÇ",this.peek());return{type:"eol",...this.peekSourceMap(),end:this.peekSourceMap()}}yDNCLMode(e){const t=this.peekSourceMap();return 1===e&&(this.arrayIndexFrom=1,this.flagReverseArrayIndex=!0),this.flagCheckArrayInit=!0,{type:"eol",...t,end:this.peekSourceMap()}}ySetGenMode(e){const t=this.peekSourceMap();return this.genMode=e,{type:"eol",...t,end:this.peekSourceMap()}}yExportDefault(e){const t=this.peekSourceMap();return this.isExportDefault="ÂÖ¨Èñã"===e,this.moduleExport.set(this.modName,this.isExportDefault),{type:"eol",...t,end:this.peekSourceMap()}}yBlock(){const e=this.peekSourceMap(),t=[];for(this.check("„Åì„Åì„Åã„Çâ")&&this.get();!this.isEOF()&&!this.checkTypes(["ÈÅï„Åà„Å∞","„Åì„Åì„Åæ„Åß","„Ç®„É©„Éº"])&&this.accept([this.ySentence]);)t.push(this.y[0]);return{type:"block",block:t,...e,end:this.peekSourceMap()}}yDefFuncReadArgs(){if(!this.check("("))return null;const e=[];for(this.get();!this.isEOF();){if(this.check(")")){this.get();break}const t=this.get();t&&e.push(t),this.check("comma")&&this.get()}return e}yDefTest(){return this.yDef("def_test")}yDefFunc(){return this.yDef("def_func")}yDef(e){if(!this.check(e))return null;const t=this.peekSourceMap(),n=this.get();if(!n)return null;let r=this.isExportDefault;if(this.check("{")){this.get();const e=this.get();if(!this.check("}"))throw o.NakoSyntaxError.fromNode("Èñ¢Êï∞„ÅÆÂ±ûÊÄß„ÅÆÊåáÂÆö„ÅåÊ≠£„Åó„Åè„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ„Äé{„Äè„Å®„Äé}„Äè„ÅßÂõ≤„ÇÄÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ",n);this.get(),null!=e&&("ÂÖ¨Èñã"===e.value&&(r=!0),"ÈùûÂÖ¨Èñã"===e.value&&(r=!1),"„Ç®„ÇØ„Çπ„Éù„Éº„Éà"===e.value&&(r=!0))}let s=[];this.check("(")&&(s=this.yDefFuncReadArgs()||[]);const i=this.get();if(!i||"func"!==i.type)throw this.logger.debug(this.nodeToStr(i,{depth:0,typeName:"Èñ¢Êï∞"},!0)+"„ÅÆÂÆ£Ë®Ä„Åß„Ç®„É©„Éº„ÄÇ",i),o.NakoSyntaxError.fromNode(this.nodeToStr(i,{depth:0,typeName:"Èñ¢Êï∞"},!1)+"„ÅÆÂÆ£Ë®Ä„Åß„Ç®„É©„Éº„ÄÇ",n);if(this.check("(")){if(s.length>0)throw this.logger.debug(this.nodeToStr(i,{depth:0,typeName:"Èñ¢Êï∞"},!0)+"„ÅÆÂÆ£Ë®Ä„Åß„ÄÅÂºïÊï∞ÂÆöÁæ©„ÅØÂêçÂâç„ÅÆÂâç„ÅãÂæå„Å´‰∏ÄÂ∫¶„Å†„ÅëÂèØËÉΩ„Åß„Åô„ÄÇ",i),o.NakoSyntaxError.fromNode(this.nodeToStr(i,{depth:0,typeName:"Èñ¢Êï∞"},!1)+"„ÅÆÂÆ£Ë®Ä„Åß„ÄÅÂºïÊï∞ÂÆöÁæ©„ÅØÂêçÂâç„ÅÆÂâç„ÅãÂæå„Å´‰∏ÄÂ∫¶„Å†„ÅëÂèØËÉΩ„Åß„Åô„ÄÇ",i);s=this.yDefFuncReadArgs()||[]}this.check("„Å®„ÅØ")&&this.get();let u=null,c=!1,a=!1;this.check("„Åì„Åì„Åã„Çâ")&&(c=!0),this.check("eol")&&(c=!0);try{this.funcLevel++,this.usedAsyncFn=!1;const e=this.localvars;if(this.localvars=new Map([["„Åù„Çå",{type:"var",value:""}]]),c){this.saveStack();for(const e of s){const t=e.value?e.value+"":"";this.localvars.set(t,{type:"var",value:""})}if(u=this.yBlock(),!this.check("„Åì„Åì„Åæ„Åß"))throw o.NakoSyntaxError.fromNode("„Äé„Åì„Åì„Åæ„Åß„Äè„Åå„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇÈñ¢Êï∞ÂÆöÁæ©„ÅÆÊú´Â∞æ„Å´ÂøÖË¶Å„Åß„Åô„ÄÇ",n);this.get(),this.loadStack()}else this.saveStack(),u=this.ySentence(),this.loadStack();this.funcLevel--,a=this.usedAsyncFn,this.localvars=e}catch(e){throw this.logger.debug(this.nodeToStr(i,{depth:0,typeName:"Èñ¢Êï∞"},!0)+"„ÅÆÂÆöÁæ©„Åß‰ª•‰∏ã„ÅÆ„Ç®„É©„Éº„Åå„ÅÇ„Çä„Åæ„Åó„Åü„ÄÇ\n"+e.message,n),o.NakoSyntaxError.fromNode(this.nodeToStr(i,{depth:0,typeName:"Èñ¢Êï∞"},!1)+"„ÅÆÂÆöÁæ©„Åß‰ª•‰∏ã„ÅÆ„Ç®„É©„Éº„Åå„ÅÇ„Çä„Åæ„Åó„Åü„ÄÇ\n"+e.message,n)}return{type:e,name:i,args:s,block:u||[],asyncFn:a,isExport:r,josi:"",...t,end:this.peekSourceMap()}}yIFCond(){const e=this.peekSourceMap();let t=this.yGetArg();if(!t)return null;if("„Å™„Çâ„Å∞"===t.josi)return t;if("„Åß„Å™„Åë„Çå„Å∞"===t.josi)return t={type:"not",value:t,josi:"",...e,end:this.peekSourceMap()},t;if(""!==t.josi&&this.check("func"))this.stack.push(t),t=this.yCall();else if("„Åå"===t.josi){const n=this.index,r=this.yGetArg();if(!r)throw o.NakoSyntaxError.fromNode("„ÇÇ„ÅóÊñá„ÅÆÊù°‰ª∂„ÄåA„ÅåB„Å™„Çâ„Å∞„Äç„ÅßB„Åå„Å™„ÅÑ„ÅãÊù°‰ª∂„ÅåË§áÈõëÈÅé„Åé„Åæ„Åô„ÄÇ"+this.nodeToStr(this.peek(),{depth:1},!1),e);if(this.check("„Å™„Çâ„Å∞")){const e=this.get()||{value:"„Å™„Çâ„Å∞"};r.josi=e.value}if(r&&("„Å™„Çâ„Å∞"===r.josi||"„Åß„Å™„Åë„Çå„Å∞"===r.josi))return{type:"op",operator:"„Åß„Å™„Åë„Çå„Å∞"===r.josi?"noteq":"eq",left:t,right:r,josi:"",...e,end:this.peekSourceMap()};this.index=n}if(this.check("„Å™„Çâ„Å∞")||(this.stack.push(t),t=this.yCall()),!this.check("„Å™„Çâ„Å∞")){const n=t||{type:"?",...e};throw this.logger.debug("„ÇÇ„ÅóÊñá„Åß„Äé„Å™„Çâ„Å∞„Äè„Åå„Å™„ÅÑ„Åã„ÄÅÊù°‰ª∂„ÅåË§áÈõëÈÅé„Åé„Åæ„Åô„ÄÇ"+this.nodeToStr(this.peek(),{depth:1},!1)+"„ÅÆÁõ¥Ââç„Å´„Äé„Å™„Çâ„Å∞„Äè„ÇíÊõ∏„ÅÑ„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ",n),o.NakoSyntaxError.fromNode("„ÇÇ„ÅóÊñá„Åß„Äé„Å™„Çâ„Å∞„Äè„Åå„Å™„ÅÑ„Åã„ÄÅÊù°‰ª∂„ÅåË§áÈõëÈÅé„Åé„Åæ„Åô„ÄÇ"+this.nodeToStr(this.peek(),{depth:1},!1)+"„ÅÆÁõ¥Ââç„Å´„Äé„Å™„Çâ„Å∞„Äè„ÇíÊõ∏„ÅÑ„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ",n)}const n=this.get();return n&&"„Åß„Å™„Åë„Çå„Å∞"===n.value&&(t={type:"not",value:t,josi:"",...e,end:this.peekSourceMap()}),t}yIF(){const e=this.peekSourceMap();if(!this.check("„ÇÇ„Åó"))return null;const t=this.get();if(null==t)return null;for(;this.check("comma");)this.get();let n=null;try{n=this.yIFCond()}catch(e){throw o.NakoSyntaxError.fromNode("„Äé„ÇÇ„Åó„ÄèÊñá„ÅÆÊù°‰ª∂„ÅßÊ¨°„ÅÆ„Ç®„É©„Éº„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ\n"+e.message,t)}if(null===n)throw o.NakoSyntaxError.fromNode("„Äé„ÇÇ„Åó„ÄèÊñá„ÅßÊù°‰ª∂„ÅÆÊåáÂÆö„ÅåÁ©∫„Åß„Åô„ÄÇ",t);return this.yIfThen(e,n)}yIfThen(e,t){let n=null,r=null,s=!1;for(this.check("eol")?n=this.yBlock():(n=this.ySentence(),s=!0);this.check("eol");)this.get();if(this.check("ÈÅï„Åà„Å∞")){for(this.get();this.check("comma");)this.get();this.check("eol")?r=this.yBlock():(r=this.ySentence(),s=!0)}if(!1===s){if(!this.check("„Åì„Åì„Åæ„Åß"))throw o.NakoSyntaxError.fromNode("„Äé„ÇÇ„Åó„ÄèÊñá„Åß„Äé„Åì„Åì„Åæ„Åß„Äè„Åå„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ",e);this.get()}return{type:"if",expr:t||[],block:n||[],false_block:r||[],josi:"",...e,end:this.peekSourceMap()}}ySpeedMode(){const e=this.peekSourceMap();if(!this.check2(["string","ÂÆüË°åÈÄüÂ∫¶ÂÑ™ÂÖà"]))return null;const t=this.get();this.get();let n="";if(!t||!t.value)return null;n=t.value;const r={"Ë°åÁï™Âè∑ÁÑ°„Åó":!1,"ÊöóÈªô„ÅÆÂûãÂ§âÊèõÁÑ°„Åó":!1,"Âº∑Âà∂„Éî„É•„Ç¢":!1,"„Åù„ÇåÁÑ°Âäπ":!1};for(const e of n.split("/")){if("ÂÖ®„Å¶"===e){for(const e of Object.keys(r))r[e]=!0;break}Object.keys(r).includes(e)?r[e]=!0:this.logger.warn(`ÂÆüË°åÈÄüÂ∫¶ÂÑ™ÂÖàÊñá„ÅÆ„Ç™„Éó„Ç∑„Éß„É≥„Äé${e}„Äè„ÅØÂ≠òÂú®„Åó„Åæ„Åõ„Çì„ÄÇ`,t)}let s=!1;this.check("„Åì„Åì„Åã„Çâ")?(this.get(),s=!0):this.check("eol")&&(s=!0);let o=null;return s?(o=this.yBlock(),this.check("„Åì„Åì„Åæ„Åß")&&this.get()):o=this.ySentence(),{type:"speed_mode",options:r,block:o||[],josi:"",...e}}yPerformanceMonitor(){const e=this.peekSourceMap();if(!this.check2(["string","„Éë„Éï„Ç©„Éº„Éû„É≥„Çπ„É¢„Éã„ÇøÈÅ©Áî®"]))return null;const t=this.get();if(!t)return null;this.get();const n={"„É¶„Éº„Ç∂Èñ¢Êï∞":!1,"„Ç∑„Çπ„ÉÜ„É†Èñ¢Êï∞Êú¨‰Ωì":!1,"„Ç∑„Çπ„ÉÜ„É†Èñ¢Êï∞":!1};for(const e of t.value.split("/")){if("ÂÖ®„Å¶"===e){for(const e of Object.keys(n))n[e]=!0;break}Object.keys(n).includes(e)?n[e]=!0:this.logger.warn(`„Éë„Éï„Ç©„Éº„Éû„É≥„Çπ„É¢„Éã„ÇøÈÅ©Áî®Êñá„ÅÆ„Ç™„Éó„Ç∑„Éß„É≥„Äé${e}„Äè„ÅØÂ≠òÂú®„Åó„Åæ„Åõ„Çì„ÄÇ`,t)}let r=!1;this.check("„Åì„Åì„Åã„Çâ")?(this.get(),r=!0):this.check("eol")&&(r=!0);let s=null;return r?(s=this.yBlock(),this.check("„Åì„Åì„Åæ„Åß")&&this.get()):s=this.ySentence(),{type:"performance_monitor",options:n,block:s||[],josi:"",...e}}yTikuji(){if(!this.check("ÈÄêÊ¨°ÂÆüË°å"))return null;const e=this.getCur();return this.logger.error("„ÄéÈÄêÊ¨°ÂÆüË°å„ÄèÊßãÊñá„ÅØÂªÉÊ≠¢„Åï„Çå„Åæ„Åó„Åü(https://nadesi.com/v3/doc/go.php?944)„ÄÇ",e),{type:"eol",...this.peekSourceMap(),end:this.peekSourceMap()}}yGetArgOperator(e){const t=[e];for(;!this.isEOF();){let n=this.peek();if(!n||!r.opPriority[n.type])break;{n=this.getCur(),t.push(n);const r=this.yValue();if(null===r)throw o.NakoSyntaxError.fromNode(`Ë®àÁÆóÂºè„ÅßÊºîÁÆóÂ≠ê„Äé${n.value}„ÄèÂæå„Å´ÂÄ§„Åå„ÅÇ„Çä„Åæ„Åõ„Çì`,e);t.push(r)}}return 0===t.length?null:1===t.length?t[0]:this.infixToAST(t)}yGetArg(){const e=this.yValue();return null===e?null:this.yGetArgOperator(e)}infixToPolish(e){const t=e=>r.opPriority[e.type]?r.opPriority[e.type]:10,n=[],s=[];for(;e.length>0;){const r=e.shift();if(!r)break;for(;n.length>0;){const e=n[n.length-1];if(t(r)>t(e))break;const o=n.pop();if(!o){this.logger.error("Ë®àÁÆóÂºè„Å´ÈñìÈÅï„ÅÑ„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ",r);break}s.push(o)}n.push(r)}for(;n.length>0;){const e=n.pop();e&&s.push(e)}return s}infixToAST(e){if(0===e.length)return null;const t=e[e.length-1].josi,n=e[e.length-1],s=this.infixToPolish(e),i=[];for(const e of s){if(!r.opPriority[e.type]){i.push(e);continue}const u=i.pop(),c=i.pop();if(void 0===c||void 0===u)throw this.logger.debug("--- Ë®àÁÆóÂºè(ÈÄÜ„Éù„Éº„É©„É≥„Éâ) ---\n"+JSON.stringify(s)),o.NakoSyntaxError.fromNode("Ë®àÁÆóÂºè„Åß„Ç®„É©„Éº",n);const a={type:"op",operator:e.type,left:c,right:u,josi:t,startOffset:c.startOffset,endOffset:c.endOffset,line:c.line,column:c.column,file:c.file};i.push(a)}const u=i.pop();return u||null}yGetArgParen(e){let t=!1;const n=this.stack.length;for(;!this.isEOF();){if(this.check(")")){t=!0;break}const e=this.yGetArg();if(!e)break;this.pushStack(e),this.check("comma")&&this.get()}if(!t)throw o.NakoSyntaxError.fromNode(`CÈ¢®Èñ¢Êï∞„Äé${e[0].value}„Äè„Åß„Ç´„ÉÉ„Ç≥„ÅåÈñâ„Åò„Å¶„ÅÑ„Åæ„Åõ„Çì`,e[0]);const r=[];for(;n<this.stack.length;){const e=this.popStack();e&&r.unshift(e)}return r}yRepeatTime(){const e=this.peekSourceMap();if(!this.check("Âõû"))return null;this.get(),this.check("comma")&&this.get(),this.check("Áπ∞Ëøî")&&this.get();let t=this.popStack([]),n=!1,r=null;if(null===t&&(t={type:"word",value:"„Åù„Çå",josi:"",...e,end:this.peekSourceMap()}),this.check("comma")&&this.get(),this.check("„Åì„Åì„Åã„Çâ")?(this.get(),n=!0):this.check("eol")&&(n=!0),n){if(r=this.yBlock(),!this.check("„Åì„Åì„Åæ„Åß"))throw o.NakoSyntaxError.fromNode("„Äé„Åì„Åì„Åæ„Åß„Äè„Åå„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ„ÄéÂõû„Äè...„Äé„Åì„Åì„Åæ„Åß„Äè„ÇíÂØæÂøú„Åï„Åõ„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ",e);this.get()}else r=this.ySentence();return{type:"repeat_times",value:t,block:r||[],josi:"",...e,end:this.peekSourceMap()}}yWhile(){const e=this.peekSourceMap();if(!this.check("Èñì"))return null;for(this.get();this.check("comma");)this.get();this.check("Áπ∞Ëøî")&&this.get();const t=this.popStack();if(null===t)throw o.NakoSyntaxError.fromNode("„ÄéÈñì„Äè„ÅßÊù°‰ª∂„Åå„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ",e);if(this.check("comma")&&this.get(),!this.checkTypes(["„Åì„Åì„Åã„Çâ","eol"]))throw o.NakoSyntaxError.fromNode("„ÄéÈñì„Äè„ÅÆÁõ¥Âæå„ÅØÊîπË°å„ÅåÂøÖË¶Å„Åß„Åô",e);const n=this.yBlock();if(!this.check("„Åì„Åì„Åæ„Åß"))throw o.NakoSyntaxError.fromNode("„Äé„Åì„Åì„Åæ„Åß„Äè„Åå„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ„ÄéÈñì„Äè...„Äé„Åì„Åì„Åæ„Åß„Äè„ÇíÂØæÂøú„Åï„Åõ„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ",e);return this.get(),{type:"while",cond:t,block:n,josi:"",...e,end:this.peekSourceMap()}}yAtohantei(){const e=this.peekSourceMap();this.check("ÂæåÂà§ÂÆö")&&this.get(),this.check("Áπ∞Ëøî")&&this.get(),this.check("„Åì„Åì„Åã„Çâ")&&this.get();const t=this.yBlock();this.check("„Åì„Åì„Åæ„Åß")&&this.get(),this.check("comma")&&this.get();let n=this.yGetArg(),r=!1;const s=this.peek();return!s||"„Å™„Çã"!==s.value||"„Åæ„Åß"!==s.josi&&"„Åæ„Åß„ÅÆ"!==s.josi||(this.get(),r=!0),this.check("Èñì")&&this.get(),r&&(n={type:"not",value:n,josi:"",...e,end:this.peekSourceMap()}),{type:"atohantei",cond:n||[],block:t,josi:"",...e,end:this.peekSourceMap()}}yFor(){let e=!0,t=null;const n=this.peekSourceMap();if(!(this.check("Áπ∞Ëøî")||this.check("Â¢óÁπ∞Ëøî")||this.check("Ê∏õÁπ∞Ëøî")))return null;const r=this.getCur(),s=this.stack.pop();s&&("word"!==s.type||"Â¢ó"!==s.value&&"Ê∏õ"!==s.value?this.stack.push(s):("Â¢ó"===s.value&&(e=!1),r.type=s.value+r.type));let i=null;"Â¢óÁπ∞Ëøî"!==r.type&&"Ê∏õÁπ∞Ëøî"!==r.type||(i=this.popStack(["„Åö„Å§"]),"Â¢óÁπ∞Ëøî"===r.type&&(e=!1),t="Â¢óÁπ∞Ëøî"===r.type?"up":"down");const u=this.popStack(["„Åæ„Åß"]),c=this.popStack(["„Åã„Çâ"]),a=this.popStack(["„Çí","„Åß"]);if(null===c||null===u)throw o.NakoSyntaxError.fromNode("„ÄéÁπ∞„ÇäËøî„Åô„ÄèÊñá„ÅßA„Åã„ÇâB„Åæ„Åß„ÅÆÊåáÂÆö„Åå„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ",r);this.check("comma")&&this.get();let f=!1;(this.check("„Åì„Åì„Åã„Çâ")||this.check("eol"))&&(f=!0,this.get());let l=null;if(f){if(l=this.yBlock(),!this.check("„Åì„Åì„Åæ„Åß"))throw o.NakoSyntaxError.fromNode("„Äé„Åì„Åì„Åæ„Åß„Äè„Åå„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ„ÄéÁπ∞„ÇäËøî„Åô„Äè...„Äé„Åì„Åì„Åæ„Åß„Äè„ÇíÂØæÂøú„Åï„Åõ„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ",n);this.get()}else l=this.ySentence();return{type:"for",from:c,to:u,inc:i,flagDown:e,loopDirection:t,word:a,block:l||[],josi:"",...n,end:this.peekSourceMap()}}yReturn(){const e=this.peekSourceMap();if(!this.check("Êàª„Çã"))return null;this.get();const t=this.popStack(["„Åß","„Çí"]);if(this.stack.length>0)throw o.NakoSyntaxError.fromNode("„ÄéÊàª„ÄèÊñá„ÅÆÁõ¥Ââç„Å´Êú™Ëß£Ê±∫„ÅÆÂºïÊï∞„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ„Äé(Âºè)„ÇíÊàª„Åô„Äè„ÅÆ„Çà„ÅÜ„Å´Âºè„Çí„Ç´„ÉÉ„Ç≥„ÅßÊã¨„Å£„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ",e);return{type:"return",value:t,josi:"",...e,end:this.peekSourceMap()}}yForEach(){const e=this.peekSourceMap();if(!this.check("ÂèçÂæ©"))return null;for(this.get();this.check("comma");)this.get();const t=this.popStack(["„Çí"]),n=this.popStack(["„Åß"]);let r=null,s=!1;if(this.check("„Åì„Åì„Åã„Çâ")?(s=!0,this.get()):this.check("eol")&&(s=!0),s){if(r=this.yBlock(),!this.check("„Åì„Åì„Åæ„Åß"))throw o.NakoSyntaxError.fromNode("„Äé„Åì„Åì„Åæ„Åß„Äè„Åå„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ„ÄéÂèçÂæ©„Äè...„Äé„Åì„Åì„Åæ„Åß„Äè„ÇíÂØæÂøú„Åï„Åõ„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ",e);this.get()}else r=this.ySentence();return{type:"foreach",name:n,target:t,block:r||[],josi:"",...e,end:this.peekSourceMap()}}ySwitch(){const e=this.peekSourceMap();if(!this.check("Êù°‰ª∂ÂàÜÂ≤ê"))return null;const t=this.get();if(!t)return null;const n=this.get();if(!n)return null;const r=this.popStack(["„Åß"]);if(!r)throw o.NakoSyntaxError.fromNode("„Äé(ÂÄ§)„ÅßÊù°‰ª∂ÂàÜÂ≤ê„Äè„ÅÆ„Çà„ÅÜ„Å´Ë®òËø∞„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ",t);if("eol"!==n.type)throw o.NakoSyntaxError.fromNode("„ÄéÊù°‰ª∂ÂàÜÂ≤ê„Äè„ÅÆÁõ¥Âæå„ÅØÊîπË°å„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ",t);let s=!1,i=!1;const u=[];for(;!this.isEOF();){if(this.check("„Åì„Åì„Åæ„Åß")){if(i)throw o.NakoSyntaxError.fromNode("„ÄéÊù°‰ª∂ÂàÜÂ≤ê„Äè„ÅØ„Äé(Êù°‰ª∂)„Å™„Çâ„Å∞„Äú„Åì„Åì„Åæ„Åß„Äè„Å®Ë®òËø∞„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ",t);this.get();break}if(this.check("eol")){this.get();continue}if(s)throw o.NakoSyntaxError.fromNode("„ÄéÊù°‰ª∂ÂàÜÂ≤ê„Äè„Åß„ÄéÈÅï„Åà„Å∞„Äú„Åì„Åì„Åæ„Åß„Äè„ÅÆÂæå„Å´Âá¶ÁêÜ„ÇíÁ∂ö„Åë„Çã„Åì„Å®„ÅØÂá∫Êù•„Åæ„Åõ„Çì„ÄÇ",t);let e=null;const n=this.peek();if(n&&"ÈÅï„Åà„Å∞"===n.type)i=!1,s=!0,e=this.get(),this.check("comma")&&this.get();else{if(i)throw o.NakoSyntaxError.fromNode("„ÄéÊù°‰ª∂ÂàÜÂ≤ê„Äè„ÅØ„Äé(Êù°‰ª∂)„Å™„Çâ„Å∞„Äú„Åì„Åì„Åæ„Åß„Äè„Å®Ë®òËø∞„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ",t);if(e=this.yValue(),!e)throw o.NakoSyntaxError.fromNode("„ÄéÊù°‰ª∂ÂàÜÂ≤ê„Äè„ÅØ„Äé(Êù°‰ª∂)„Å™„Çâ„Å∞„Äú„Åì„Åì„Åæ„Åß„Äè„Å®Ë®òËø∞„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ",t);const n=this.get();if(!n||"„Å™„Çâ„Å∞"!==n.type)throw o.NakoSyntaxError.fromNode("„ÄéÊù°‰ª∂ÂàÜÂ≤ê„Äè„ÅßÊù°‰ª∂„ÅØÔºäÔºä„Å™„Çâ„Å∞„Å®Ë®òËø∞„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ",t);this.check("comma")&&this.get()}const r=this.yBlock(),c=this.peek();if(c&&"„Åì„Åì„Åæ„Åß"===c.type)this.get();else{if(s)throw o.NakoSyntaxError.fromNode("„ÄéÊù°‰ª∂ÂàÜÂ≤ê„Äè„ÅØ„ÄéÈÅï„Åà„Å∞„Äú„Åì„Åì„Åæ„Åß„Äè„Å®Ë®òËø∞„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ",t);i=!0}u.push([e,r])}return{type:"switch",value:r,cases:u||[],josi:"",...e,end:this.peekSourceMap()}}yMumeiFunc(){const e=this.peekSourceMap();if(!this.check("def_func"))return null;const t=this.get();if(!t)return null;let n=[];this.check("comma")&&this.get(),this.check("(")&&(n=this.yDefFuncReadArgs()||[]),this.check("comma")&&this.get(),this.funcLevel++,this.saveStack();const r=this.yBlock();if(!this.check("„Åì„Åì„Åæ„Åß"))throw o.NakoSyntaxError.fromNode("„Äé„Åì„Åì„Åæ„Åß„Äè„Åå„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ„Äé„Å´„ÅØ„ÄèÊßãÊñá„ÅãÁÑ°ÂêçÈñ¢Êï∞„ÅÆÊú´Â∞æ„Å´„Äé„Åì„Åì„Åæ„Åß„Äè„ÅåÂøÖË¶Å„Åß„Åô„ÄÇ",e);return this.get(),this.loadStack(),this.funcLevel--,{type:"func_obj",args:n,block:r,meta:t.meta,josi:"",...e,end:this.peekSourceMap()}}yDainyu(){const e=this.peekSourceMap(),t=this.get();if(null===t)return null;const n=this.popStack(["„Çí"]),r=this.popStack(["„Å∏","„Å´"]);if(!r||"word"!==r.type&&"func"!==r.type&&"ÈÖçÂàóÂèÇÁÖß"!==r.type)throw o.NakoSyntaxError.fromNode("‰ª£ÂÖ•Êñá„Åß‰ª£ÂÖ•ÂÖà„ÅÆÂ§âÊï∞„ÅåË¶ãÂΩì„Åü„Çä„Åæ„Åõ„Çì„ÄÇ„Äé(Â§âÊï∞Âêç)„Å´(ÂÄ§)„Çí‰ª£ÂÖ•„Äè„ÅÆ„Çà„ÅÜ„Å´‰Ωø„ÅÑ„Åæ„Åô„ÄÇ",t);if("ÈÖçÂàóÂèÇÁÖß"===r.type)return{type:"let_array",name:r.name,index:r.index,value:n,josi:"",checkInit:this.flagCheckArrayInit,...e,end:this.peekSourceMap()};return{type:"let",name:this.getVarName(r),value:n,josi:"",...e,end:this.peekSourceMap()}}ySadameru(){const e=this.peekSourceMap(),t=this.get();if(null===t)return null;const n=this.popStack(["„Çí"]),r=this.popStack(["„Å∏","„Å´","„Å®"]);if(!n||"word"!==n.type&&"func"!==n.type&&"ÈÖçÂàóÂèÇÁÖß"!==n.type)throw o.NakoSyntaxError.fromNode("„ÄéÂÆö„ÇÅ„Çã„ÄèÊñá„ÅßÂÆöÊï∞„ÅåË¶ãÂΩì„Åü„Çä„Åæ„Åõ„Çì„ÄÇ„Äé(ÂÆöÊï∞Âêç)„Çí(ÂÄ§)„Å´ÂÆö„ÇÅ„Çã„Äè„ÅÆ„Çà„ÅÜ„Å´‰Ωø„ÅÑ„Åæ„Åô„ÄÇ",t);let s=this.isExportDefault;if(this.check2(["{","word","}"])){this.get();const e=this.get();if(null===e)throw o.NakoSyntaxError.fromNode("ÂÆö„ÇÅ„Çã„Äé"+n.value+"„Äè„ÅÆÂÆöÁæ©„Ç®„É©„Éº",n);const t=e.value;"ÂÖ¨Èñã"===t?s=!0:"ÈùûÂÖ¨Èñã"===t?s=!1:"„Ç®„ÇØ„Çπ„Éù„Éº„Éà"===t?s=!0:this.logger.warn(`‰∏çÊòé„Å™Â§âÊï∞Â±ûÊÄß„Äé${t}„Äè„ÅåÊåáÂÆö„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ`),this.get()}return{type:"def_local_var",name:this.createVar(n,!0,s),vartype:"ÂÆöÊï∞",isExport:s,value:r,josi:"",...e,end:this.peekSourceMap()}}yIncDec(){const e=this.peekSourceMap(),t=this.get();if(null===t)return null;if(this.check("Áπ∞Ëøî"))return this.pushStack({type:"word",value:t.value,josi:t.josi,...e,end:this.peekSourceMap()}),this.yFor();let n=this.popStack(["„Å†„Åë",""]);n||(n={type:"number",value:1,josi:"„Å†„Åë",...e,end:this.peekSourceMap()});const r=this.popStack(["„Çí"]);if(!r||"word"!==r.type&&"ÈÖçÂàóÂèÇÁÖß"!==r.type)throw o.NakoSyntaxError.fromNode(`„Äé${t.type}„ÄèÊñá„ÅßÂÆöÊï∞„ÅåË¶ãÂΩì„Åü„Çä„Åæ„Åõ„Çì„ÄÇ„Äé(Â§âÊï∞Âêç)„Çí(ÂÄ§)„Å†„Åë${t.type}„Äè„ÅÆ„Çà„ÅÜ„Å´‰Ωø„ÅÑ„Åæ„Åô„ÄÇ`,t);return"Ê∏õ"===t.value&&(n={type:"op",operator:"*",left:n,right:{type:"number",value:-1,line:t.line},josi:"",...e}),{type:"inc",name:r,value:n,josi:t.josi,...e,end:this.peekSourceMap()}}yCall(){if(this.isEOF())return null;for(;!this.isEOF();){if(this.check("„Åì„Åì„Åã„Çâ")&&this.get(),this.check("‰ª£ÂÖ•"))return this.yDainyu();if(this.check("ÂÆö„ÇÅ„Çã"))return this.ySadameru();if(this.check("Âõû"))return this.yRepeatTime();if(this.check("Èñì"))return this.yWhile();if(this.check("Áπ∞Ëøî")||this.check("Â¢óÁπ∞Ëøî")||this.check("Ê∏õÁπ∞Ëøî"))return this.yFor();if(this.check("ÂèçÂæ©"))return this.yForEach();if(this.check("Êù°‰ª∂ÂàÜÂ≤ê"))return this.ySwitch();if(this.check("Êàª„Çã"))return this.yReturn();if(this.check("Â¢ó")||this.check("Ê∏õ"))return this.yIncDec();if(this.check2([["func","word"],"("])){const e=this.peek();if(e&&""===e.josi){const e=this.yValue();if(e){const t=e.josi||"";if("func"===e.type&&(""===e.josi||r.RenbunJosi.indexOf(t)>=0))return e.josi="",e;this.pushStack(e)}this.check("comma")&&this.get();continue}}if(this.check("func")){const e=this.yCallFunc();if(null===e)continue;if(this.check("Èñì")){this.pushStack(e);continue}if(!this.checkTypes(r.operatorList))return e;const t=this.yGetArgOperator(e);this.pushStack(t);continue}const e=this.yGetArg();if(!e)break;this.pushStack(e)}if(this.stack.length>0){if(this.isReadingCalc)return this.popStack();this.logger.debug("--- stack dump ---\n"+JSON.stringify(this.stack,null,2)+"\npeek: "+JSON.stringify(this.peek(),null,2));let e=`‰∏çÂÆåÂÖ®„Å™Êñá„Åß„Åô„ÄÇ${this.stack.map((e=>this.nodeToStr(e,{depth:0},!0))).join("„ÄÅ")}„ÅåËß£Ê±∫„Åó„Å¶„ÅÑ„Åæ„Åõ„Çì„ÄÇ`,t=`‰∏çÂÆåÂÖ®„Å™Êñá„Åß„Åô„ÄÇ${this.stack.map((e=>this.nodeToStr(e,{depth:0},!1))).join("„ÄÅ")}„ÅåËß£Ê±∫„Åó„Å¶„ÅÑ„Åæ„Åõ„Çì„ÄÇ`;for(const n of this.stack){const r=this.nodeToStr(n,{depth:0},!1),s=this.nodeToStr(n,{depth:1},!1);r!==s&&(e+=`${this.nodeToStr(n,{depth:0},!0)}„ÅØ${this.nodeToStr(n,{depth:1},!0)}„Å®„Åó„Å¶‰Ωø„Çè„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ`,t+=`${r}„ÅØ${s}„Å®„Åó„Å¶‰Ωø„Çè„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ`)}const n=this.stack[0],r=this.stack[this.stack.length-1];throw this.logger.debug(e,n),o.NakoSyntaxError.fromNode(t,n,r)}return this.popStack([])}yCallFunc(){const e=this.peekSourceMap(),t=this.get();if(!t)return null;const n=t.meta,s=t.value;let u=null;if("„Å´„ÅØ"===t.josi){try{u=this.yMumeiFunc()}catch(e){throw o.NakoSyntaxError.fromNode(`„Äé${t.value}„Å´„ÅØ...„Äè„ÅßÁÑ°ÂêçÈñ¢Êï∞„ÅÆÂÆöÁæ©„Åß‰ª•‰∏ã„ÅÆÈñìÈÅï„ÅÑ„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ\n${e.message}`,t)}if(null===u)throw o.NakoSyntaxError.fromNode("„ÄéF„Å´„ÅØ„ÄèÊßãÊñá„Åå„ÅÇ„Çä„Åæ„Åó„Åü„Åå„ÄÅÈñ¢Êï∞ÂÆöÁæ©„ÅåË¶ãÂΩì„Åü„Çä„Åæ„Åõ„Çì„ÄÇ",t)}if(!n||void 0===n.josi)throw o.NakoSyntaxError.fromNode("Èñ¢Êï∞„ÅÆÂÆöÁæ©„Åß„Ç®„É©„Éº„ÄÇ",t);this.recentlyCalledFunc.push({name:s,...n}),n&&n.asyncFn&&(this.usedAsyncFn=!0);const c=[];let a=0,f=0;for(let e=n.josi.length-1;e>=0;e--)for(;;){let r=this.popStack(n.josi[e]);if(null!==r)f++;else{if(!(e<n.josi.length-1)&&n.isVariableJosi)break;a++,r=u}if(null!==r&&void 0!==n.funcPointers&&null!==n.funcPointers[e]){if("func"!==r.type){const r=n.varnames?n.varnames[e]:`${e+1}Áï™ÁõÆ„ÅÆÂºïÊï∞`;throw o.NakoSyntaxError.fromNode(`Èñ¢Êï∞„Äé${t.value}„Äè„ÅÆÂºïÊï∞„Äé${r}„Äè„Å´„ÅØÈñ¢Êï∞„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅåÂøÖË¶Å„Åß„Åô„ÄÇ`,t)}r.type="func_pointer"}if(c.unshift(r),e<n.josi.length-1||!n.isVariableJosi)break}if(a>=2&&(f>0||""===t.josi||r.RenbunJosi.indexOf(t.josi)>=0))throw o.NakoSyntaxError.fromNode(`Èñ¢Êï∞„Äé${t.value}„Äè„ÅÆÂºïÊï∞„Åå‰∏çË∂≥„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ`,t);this.usedFuncs.add(t.value);const l={type:"func",name:t.value,args:c,josi:t.josi,...e,end:this.peekSourceMap()};if("„Éó„É©„Ç∞„Ç§„É≥ÂêçË®≠ÂÆö"===l.name){if(c.length>0&&c[0]){let e=""+c[0].value;"„É°„Ç§„É≥"===e&&(e=""+c[0].file),this.namespaceStack.push(this.modName),this.isExportStack.push(this.isExportDefault),this.modName=i.NakoLexer.filenameToModName(e),this.modList.push(this.modName)}}else if("ÂêçÂâçÁ©∫Èñì„Éù„ÉÉ„Éó"===l.name){const e=this.namespaceStack.pop();e&&(this.modName=e);const t=this.isExportStack.pop();null!=t&&(this.isExportDefault=t)}return""===t.josi?l:r.RenbunJosi.indexOf(t.josi)>=0?(l.josi="„Åó„Å¶",l):(l.meta=n,this.pushStack(l),null)}yLet(){const e=this.peekSourceMap();if(this.check2(["word","eq"])){const t=this.peek();let n=!1;try{if(this.accept(["word","eq",this.yCalc])||this.accept(["word","eq",this.ySentence])){if("eol"===this.y[2].type)throw new Error("ÂÄ§„ÅåÁ©∫„Åß„Åô„ÄÇ");this.check("comma")&&this.get();const t=this.getVarName(this.y[0]);return{type:"let",name:t,value:this.y[2],...e,end:this.peekSourceMap()}}throw n=!0,this.logger.debug(`${this.nodeToStr(t,{depth:1},!0)}„Å∏„ÅÆ‰ª£ÂÖ•Êñá„ÅßË®àÁÆóÂºè„Å´Êõ∏„ÅçÈñìÈÅï„ÅÑ„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ`,t),o.NakoSyntaxError.fromNode(`${this.nodeToStr(t,{depth:1},!1)}„Å∏„ÅÆ‰ª£ÂÖ•Êñá„ÅßË®àÁÆóÂºè„Å´Êõ∏„ÅçÈñìÈÅï„ÅÑ„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ`,e)}catch(r){if(n)throw r;throw this.logger.debug(`${this.nodeToStr(t,{depth:1},!0)}„Å∏„ÅÆ‰ª£ÂÖ•Êñá„ÅßË®àÁÆóÂºè„Å´‰ª•‰∏ã„ÅÆÊõ∏„ÅçÈñìÈÅï„ÅÑ„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ\n${r.message}`,t),o.NakoSyntaxError.fromNode(`${this.nodeToStr(t,{depth:1},!1)}„Å∏„ÅÆ‰ª£ÂÖ•Êñá„ÅßË®àÁÆóÂºè„Å´‰ª•‰∏ã„ÅÆÊõ∏„ÅçÈñìÈÅï„ÅÑ„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ\n${r.message}`,e)}}if(this.check2(["word","@"])){const t=this.yLetArrayAt(e);if(this.check("comma")&&this.get(),t)return t.checkInit=this.flagCheckArrayInit,t}if(this.check2(["word","["])){const t=this.yLetArrayBracket(e);if(this.check("comma")&&this.get(),t)return t.checkInit=this.flagCheckArrayInit,t}if(this.accept(["word","„Å®„ÅØ"])){const t=this.y[0];if(!this.checkTypes(["Â§âÊï∞","ÂÆöÊï∞"]))throw o.NakoSyntaxError.fromNode("„É≠„Éº„Ç´„É´Â§âÊï∞„Äé"+t.value+"„Äè„ÅÆÂÆöÁæ©„Ç®„É©„Éº",t);const n=this.getCur();let r=this.isExportDefault;if(this.check2(["{","word","}"])){this.get();const e=this.get();if(null===e)throw o.NakoSyntaxError.fromNode("„É≠„Éº„Ç´„É´Â§âÊï∞„Äé"+t.value+"„Äè„ÅÆÂÆöÁæ©„Ç®„É©„Éº",t);const n=e.value;"ÂÖ¨Èñã"===n?r=!0:"ÈùûÂÖ¨Èñã"===n?r=!1:"„Ç®„ÇØ„Çπ„Éù„Éº„Éà"===n?r=!0:this.logger.warn(`‰∏çÊòé„Å™Â§âÊï∞Â±ûÊÄß„Äé${n}„Äè„ÅåÊåáÂÆö„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ`),this.get()}const s=this.createVar(t,"ÂÆöÊï∞"===n.type,r);let i=null;return this.check("eq")&&(this.get(),i=this.yCalc()),this.check("comma")&&this.get(),{type:"def_local_var",name:s,vartype:n.type,isExport:r,value:i,...e,end:this.peekSourceMap()}}if(this.accept(["Â§âÊï∞","word"])){const t=this.y[1];if(this.index-=2,this.accept(["Â§âÊï∞","word","eq",this.yCalc])){return{type:"def_local_var",name:this.createVar(this.y[1],!1,this.isExportDefault),vartype:"Â§âÊï∞",value:this.y[3],...e,end:this.peekSourceMap()}}if(this.accept(["Â§âÊï∞","word","{","word","}","eq",this.yCalc])){let t=this.isExportDefault;const n=this.y[3].value;"ÂÖ¨Èñã"===n?t=!0:"ÈùûÂÖ¨Èñã"===n?t=!1:"„Ç®„ÇØ„Çπ„Éù„Éº„Éà"===n?t=!0:this.logger.warn(`‰∏çÊòé„Å™Â§âÊï∞Â±ûÊÄß„Äé${n}„Äè„ÅåÊåáÂÆö„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ`);return{type:"def_local_var",name:this.createVar(this.y[1],!1,t),vartype:"Â§âÊï∞",isExport:t,value:this.y[6],...e,end:this.peekSourceMap()}}this.index+=2;return{type:"def_local_var",name:this.createVar(t,!1,this.isExportDefault),vartype:"Â§âÊï∞",value:null,...e,end:this.peekSourceMap()}}if(this.accept(["ÂÆöÊï∞","word","eq",this.yCalc])){return{type:"def_local_var",name:this.createVar(this.y[1],!0,this.isExportDefault),vartype:"ÂÆöÊï∞",value:this.y[3],...e,end:this.peekSourceMap()}}if(this.accept(["ÂÆöÊï∞","word","{","word","}","eq",this.yCalc])){let t=this.isExportDefault;const n=this.y[3].value;"ÂÖ¨Èñã"===n?t=!0:"ÈùûÂÖ¨Èñã"===n?t=!1:"„Ç®„ÇØ„Çπ„Éù„Éº„Éà"===n?t=!0:this.logger.warn(`‰∏çÊòé„Å™ÂÆöÊï∞Â±ûÊÄß„Äé${n}„Äè„ÅåÊåáÂÆö„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ`);return{type:"def_local_var",name:this.createVar(this.y[1],!0,t),vartype:"ÂÆöÊï∞",isExport:t,value:this.y[6],...e,end:this.peekSourceMap()}}if(this.accept(["ÂÆöÊï∞",this.yJSONArray,"eq",this.yCalc])){const t=this.y[1];if(!(t&&t.value instanceof Array))throw o.NakoSyntaxError.fromNode("Ë§áÊï∞ÂÆöÊï∞„ÅÆ‰ª£ÂÖ•Êñá„Åß„Ç®„É©„Éº„ÄÇ„ÄéÂÆöÊï∞[A,B,C]=[1,2,3]„Äè„ÅÆÊõ∏Âºè„ÅßË®òËø∞„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ",this.y[0]);for(const e in t.value)if("word"!==t.value[e].type)throw o.NakoSyntaxError.fromNode(`Ë§áÊï∞ÂÆöÊï∞„ÅÆ‰ª£ÂÖ•Êñá${e+1}Áï™ÁõÆ„Åß„Ç®„É©„Éº„ÄÇ„ÄéÂÆöÊï∞[A,B,C]=[1,2,3]„Äè„ÅÆÊõ∏Âºè„ÅßË®òËø∞„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ`,this.y[0]);return t.value=this.createVarList(t.value,!0,this.isExportDefault),{type:"def_local_varlist",names:t.value,vartype:"ÂÆöÊï∞",value:this.y[3],...e,end:this.peekSourceMap()}}if(this.accept(["Â§âÊï∞",this.yJSONArray,"eq",this.yCalc])){const t=this.y[1];if(!(t&&t.value instanceof Array))throw o.NakoSyntaxError.fromNode("Ë§áÊï∞Â§âÊï∞„ÅÆ‰ª£ÂÖ•Êñá„Åß„Ç®„É©„Éº„ÄÇ„ÄéÂ§âÊï∞[A,B,C]=[1,2,3]„Äè„ÅÆÊõ∏Âºè„ÅßË®òËø∞„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ",this.y[0]);for(const e in t.value)if("word"!==t.value[e].type)throw o.NakoSyntaxError.fromNode(`Ë§áÊï∞Â§âÊï∞„ÅÆ‰ª£ÂÖ•Êñá${e+1}Áï™ÁõÆ„Åß„Ç®„É©„Éº„ÄÇ„ÄéÂ§âÊï∞[A,B,C]=[1,2,3]„Äè„ÅÆÊõ∏Âºè„ÅßË®òËø∞„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ`,this.y[0]);return t.value=this.createVarList(t.value,!1,this.isExportDefault),{type:"def_local_varlist",names:t.value,vartype:"Â§âÊï∞",value:this.y[3],...e,end:this.peekSourceMap()}}if(this.check2(["word","comma","word"])){if(this.accept(["word","comma","word","eq",this.yCalc])){let t=[this.y[0],this.y[2]];return t=this.createVarList(t,!1,this.isExportDefault),{type:"def_local_varlist",names:t,vartype:"Â§âÊï∞",value:this.y[4],...e,end:this.peekSourceMap()}}if(this.accept(["word","comma","word","comma","word","eq",this.yCalc])){let t=[this.y[0],this.y[2],this.y[4]];return t=this.createVarList(t,!1,this.isExportDefault),{type:"def_local_varlist",names:t,vartype:"Â§âÊï∞",value:this.y[6],...e,end:this.peekSourceMap()}}if(this.accept(["word","comma","word","comma","word","comma","word","eq",this.yCalc])){let t=[this.y[0],this.y[2],this.y[4],this.y[6]];return t=this.createVarList(t,!1,this.isExportDefault),{type:"def_local_varlist",names:t,vartype:"Â§âÊï∞",value:this.y[8],...e,end:this.peekSourceMap()}}if(this.accept(["word","comma","word","comma","word","comma","word","comma","word","eq",this.yCalc])){let t=[this.y[0],this.y[2],this.y[4],this.y[6],this.y[8]];return t=this.createVarList(t,!1,this.isExportDefault),{type:"def_local_varlist",names:t,vartype:"Â§âÊï∞",value:this.y[10],...e,end:this.peekSourceMap()}}}return null}checkArrayIndex(e){return 0===this.arrayIndexFrom?e:{...e,type:"op",operator:"-",left:e,right:{...e,type:"number",value:this.arrayIndexFrom}}}checkArrayReverse(e){return e?this.flagReverseArrayIndex?e.length<=1?e:e.reverse():e:[]}yLetArrayAt(e){return this.accept(["word","@",this.yValue,"eq",this.yCalc])?{type:"let_array",name:this.getVarName(this.y[0]),index:[this.checkArrayIndex(this.y[2])],value:this.y[4],...e,end:this.peekSourceMap()}:this.accept(["word","@",this.yValue,"@",this.yValue,"eq",this.yCalc])?{type:"let_array",name:this.getVarName(this.y[0]),index:this.checkArrayReverse([this.checkArrayIndex(this.y[2]),this.checkArrayIndex(this.y[4])]),value:this.y[6],...e,end:this.peekSourceMap()}:this.accept(["word","@",this.yValue,"@",this.yValue,"@",this.yValue,"eq",this.yCalc])?{type:"let_array",name:this.getVarName(this.y[0]),index:this.checkArrayReverse([this.checkArrayIndex(this.y[2]),this.checkArrayIndex(this.y[4]),this.checkArrayIndex(this.y[6])]),value:this.y[8],...e,end:this.peekSourceMap()}:this.accept(["word","@",this.yValue,"comma",this.yValue,"eq",this.yCalc])?{type:"let_array",name:this.getVarName(this.y[0]),index:this.checkArrayReverse([this.checkArrayIndex(this.y[2]),this.checkArrayIndex(this.y[4])]),value:this.y[6],...e,end:this.peekSourceMap()}:this.accept(["word","@",this.yValue,"comma",this.yValue,"comma",this.yValue,"eq",this.yCalc])?{type:"let_array",name:this.getVarName(this.y[0]),index:this.checkArrayReverse([this.checkArrayIndex(this.y[2]),this.checkArrayIndex(this.y[4]),this.checkArrayIndex(this.y[6])]),value:this.y[8],...e,end:this.peekSourceMap()}:null}yLetArrayBracket(e){return this.accept(["word","[",this.yCalc,"]","eq",this.yCalc])?{type:"let_array",name:this.getVarName(this.y[0]),index:[this.checkArrayIndex(this.y[2])],value:this.y[5],...e,end:this.peekSourceMap()}:this.accept(["word","[",this.yCalc,"]","[",this.yCalc,"]","eq",this.yCalc])?{type:"let_array",name:this.getVarName(this.y[0]),index:this.checkArrayReverse([this.checkArrayIndex(this.y[2]),this.checkArrayIndex(this.y[5])]),value:this.y[8],tag:"2",...e,end:this.peekSourceMap()}:this.accept(["word","[",this.yCalc,"comma",this.yCalc,"]","eq",this.yCalc])?{type:"let_array",name:this.getVarName(this.y[0]),index:this.checkArrayReverse([this.checkArrayIndex(this.y[2]),this.checkArrayIndex(this.y[4])]),value:this.y[7],tag:"2",...e,end:this.peekSourceMap()}:this.accept(["word","[",this.yCalc,"]","[",this.yCalc,"]","[",this.yCalc,"]","eq",this.yCalc])?{type:"let_array",name:this.getVarName(this.y[0]),index:this.checkArrayReverse([this.checkArrayIndex(this.y[2]),this.checkArrayIndex(this.y[5]),this.checkArrayIndex(this.y[8])]),value:this.y[11],...e,end:this.peekSourceMap()}:this.accept(["word","[",this.yCalc,"comma",this.yCalc,"comma",this.yCalc,"]","eq",this.yCalc])?{type:"let_array",name:this.getVarName(this.y[0]),index:this.checkArrayReverse([this.checkArrayIndex(this.y[2]),this.checkArrayIndex(this.y[4]),this.checkArrayIndex(this.y[6])]),value:this.y[9],...e,end:this.peekSourceMap()}:null}yCalc(){const e=this.peekSourceMap();if(this.check("eol"))return null;const t=this.yGetArg();if(!t)return null;if(""===t.josi)return t;const n=this.isReadingCalc;this.isReadingCalc=!0,this.pushStack(t);const s=this.yCall();if(this.isReadingCalc=n,!s)return this.popStack();let o=s;if(r.RenbunJosi.indexOf(s.josi||"")>=0){const t=this.yCalc();t&&(o={type:"renbun",left:s,right:t,josi:t.josi,...e,end:this.peekSourceMap()})}const i=this.peek();return i&&r.opPriority[i.type]?this.yGetArgOperator(o):o}yValueKakko(){if(!this.check("("))return null;const e=this.get();if(!e)throw new Error("[System Error] check „Åó„Åü„ÅÆ„Å´ get „Åß„Åç„Å™„ÅÑ");this.saveStack();const t=this.yCalc()||this.ySentence();if(null===t){const t=this.get();throw this.logger.debug("(...)„ÅÆËß£Êûê„Ç®„É©„Éº„ÄÇ"+this.nodeToStr(t,{depth:1},!0)+"„ÅÆËøë„Åè",e),o.NakoSyntaxError.fromNode("(...)„ÅÆËß£Êûê„Ç®„É©„Éº„ÄÇ"+this.nodeToStr(t,{depth:1},!1)+"„ÅÆËøë„Åè",e)}if(!this.check(")"))throw this.logger.debug("(...)„ÅÆËß£Êûê„Ç®„É©„Éº„ÄÇ"+this.nodeToStr(t,{depth:1},!0)+"„ÅÆËøë„Åè",e),o.NakoSyntaxError.fromNode("(...)„ÅÆËß£Êûê„Ç®„É©„Éº„ÄÇ"+this.nodeToStr(t,{depth:1},!1)+"„ÅÆËøë„Åè",e);const n=this.get();return this.loadStack(),n&&(t.josi=n.josi),t}yValue(){const e=this.peekSourceMap();if(this.check("comma")&&this.get(),this.checkTypes(["number","bigint","string"]))return this.getCur();if(this.check("("))return this.yValueKakko();if(this.check2(["-","number"])||this.check2(["-","word"])||this.check2(["-","func"])){const t=this.get(),n=this.yValue(),r=n&&n.josi?n.josi:"";return{type:"op",operator:"*",left:{type:"number",value:-1,line:t&&t.line?t.line:0},right:n||[],josi:r,...e,end:this.peekSourceMap()}}if(this.check("not")){this.get();const t=this.yValue();return{type:"not",value:t,josi:t&&t.josi?t.josi:"",...e,end:this.peekSourceMap()}}const t=this.yJSONArray();if(t)return t;const n=this.yJSONObject();if(n)return n;const s=r.operatorList.concat(["eol",")","]","„Å™„Çâ„Å∞","Âõû","Èñì","ÂèçÂæ©","Êù°‰ª∂ÂàÜÂ≤ê"]);if(this.check2(["func",s])){const t=this.get();if(!t)throw new Error("[System Error] Ê≠£„Åó„ÅèÂÄ§„ÅåÂèñ„Çå„Åæ„Åõ„Çì„Åß„Åó„Åü„ÄÇ");const n=this.getVarNameRef(t);this.usedFuncs.add(n.value);const r=n.meta,s=[];if(!r)throw o.NakoSyntaxError.fromNode(`‰∏ÄË™ûÈñ¢Êï∞„Äé${n.name}„Äè„ÅØÂ≠òÂú®„Åó„Åæ„Åõ„Çì„ÄÇ`,t);if(r.josi&&1===r.josi.length)s.push({type:"word",value:"„Åù„Çå"});else if(r.josi&&r.josi.length>=2)throw o.NakoSyntaxError.fromNode(`Èñ¢Êï∞„Äé${n.name}„Äè„ÅßÂºïÊï∞„ÅåÊåáÂÆö„Åï„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì„ÄÇ${r.josi.length}ÂÄã„ÅÆÂºïÊï∞„ÇíÊåáÂÆö„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ`,t);return{type:"func",name:n.value,args:s,josi:n.josi,...e,end:this.peekSourceMap()}}if(this.check2([["func","word"],"("])&&""===this.peekDef().josi){const t=this.peek();if(this.accept([["func","word"],"(",this.yGetArgParen,")"])){const t=this.getVarNameRef(this.y[0]),n=this.y[2],r=t.value;this.usedFuncs.add(r);const s=t.meta;if(s&&s.josi)if(s.josi.length===n.length);else if(!s.isVariableJosi)throw o.NakoSyntaxError.fromNode(`Èñ¢Êï∞„Äé${t.value}„Äè„ÅßÂºïÊï∞${n.length}ÂÄã„ÅåÊåáÂÆö„Åï„Çå„Åæ„Åó„Åü„Åå„ÄÅ${s.josi.length}ÂÄã„ÅÆÂºïÊï∞„ÇíÊåáÂÆö„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ`,t);return{type:"func",name:r,args:n,josi:this.y[3].josi,...e,end:this.peekSourceMap()}}throw o.NakoSyntaxError.fromNode("CÈ¢®Èñ¢Êï∞Âëº„Å≥Âá∫„Åó„ÅÆ„Ç®„É©„Éº",t||(0,u.NewEmptyToken)())}if(this.check("def_func"))return this.yMumeiFunc();const i=this.yValueWord();if(i)return i;const c=this.yValueFuncPointer();return c||null}yValueWordGetIndex(e){if(e.index||(e.index=[]),this.check("@")){if(this.accept(["@",this.yValue,"comma",this.yValue,"comma",this.yValue]))return e.index.push(this.checkArrayIndex(this.y[1])),e.index.push(this.checkArrayIndex(this.y[3])),e.index.push(this.checkArrayIndex(this.y[5])),e.index=this.checkArrayReverse(e.index),e.josi=this.y[5].josi,!0;if(this.accept(["@",this.yValue,"comma",this.yValue]))return e.index.push(this.checkArrayIndex(this.y[1])),e.index.push(this.checkArrayIndex(this.y[3])),e.index=this.checkArrayReverse(e.index),e.josi=this.y[3].josi,!0;if(this.accept(["@",this.yValue]))return e.index.push(this.checkArrayIndex(this.y[1])),e.josi=this.y[1].josi,!0;throw o.NakoSyntaxError.fromNode("Â§âÊï∞„ÅÆÂæå„Çç„ÅÆ„Äé@Ë¶ÅÁ¥†„Äè„ÅÆÊåáÂÆö„Åå‰∏çÊ≠£„Åß„Åô„ÄÇ",e)}if(this.check("[")&&this.accept(["[",this.yCalc,"]"]))return e.index.push(this.checkArrayIndex(this.y[1])),e.josi=this.y[2].josi,""===this.y[2].josi;if(this.check("[")&&this.accept(["[",this.yCalc,"comma",this.yCalc,"]"])){const t=[this.checkArrayIndex(this.y[1]),this.checkArrayIndex(this.y[3])];return e.index=this.checkArrayReverse(t),e.josi=this.y[4].josi,""===this.y[4].josi}if(this.check("[")&&this.accept(["[",this.yCalc,"comma",this.yCalc,"comma",this.yCalc,"]"])){const t=[this.checkArrayIndex(this.y[1]),this.checkArrayIndex(this.y[3]),this.checkArrayIndex(this.y[5])];return e.index=this.checkArrayReverse(t),e.josi=this.y[6].josi,""===this.y[6].josi}return!1}yValueFuncPointer(){const e=this.peekSourceMap();if(this.check("func_pointer")){const t=this.getCur();return{type:"func_pointer",name:t.value,josi:t.josi,...e,end:this.peekSourceMap()}}return null}yValueWord(){const e=this.peekSourceMap();if(this.check("word")){const t=this.getCur(),n=this.getVarNameRef(t);if(""===n.josi&&this.checkTypes(["[","@"])){const t={type:"ÈÖçÂàóÂèÇÁÖß",name:n,index:[],josi:"",...e,end:this.peekSourceMap()};for(;!this.isEOF()&&this.yValueWordGetIndex(t););if(t.index&&0===t.index.length)throw o.NakoSyntaxError.fromNode(`ÈÖçÂàó„Äé${n.value}„Äè„Ç¢„ÇØ„Çª„Çπ„ÅßÊåáÂÆö„Éü„Çπ`,n);return t}return n}return null}createVar(e,t,n){let r=e.value;const s=t?"const":"var";return 0===this.funcLevel?(r.indexOf("__")<0&&(r=this.modName+"__"+r),this.funclist.set(r,{type:s,value:"",isExport:n}),e.value=r,e):(this.localvars.set(r,{type:s,value:""}),e)}getVarName(e){const t=this.findVar(e.value);return t?(t&&"global"===t.scope&&(e.value=t.name),e):(this.createVar(e,!1,this.isExportDefault),e)}getVarNameRef(e){const t=this.findVar(e.value);return t?t&&"global"===t.scope&&(e.value=t.name):0===this.funcLevel&&e.value.indexOf("__")<0&&(e.value=this.modName+"__"+e.value),e}createVarList(e,t,n){for(let r=0;r<e.length;r++)e[r]=this.createVar(e[r],t,n);return e}yJSONObjectValue(){const e=[],t=this.peek();if(!t)return null;for(;!this.isEOF();){for(;this.check("eol");)this.get();if(this.check("}"))break;if(this.accept(["word",":",this.yCalc]))this.y[0].type="string",e.push({key:this.y[0],value:this.y[2]});else if(this.accept(["string",":",this.yCalc]))e.push({key:this.y[0],value:this.y[2]});else if(this.check("word")){const t=this.getCur();t.type="string",e.push({key:t,value:t})}else{if(!this.checkTypes(["string","number"]))throw o.NakoSyntaxError.fromNode("ËæûÊõ∏„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅÆÂÆ£Ë®Ä„ÅßÊú´Â∞æ„ÅÆ„Äé}„Äè„Åå„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ",t);{const t=this.getCur();e.push({key:t,value:t})}}this.check("comma")&&this.get()}return e}yJSONObject(){const e=this.peekSourceMap();if(this.accept(["{","}"]))return{type:"json_obj",value:[],josi:this.y[1].josi,...e,end:this.peekSourceMap()};if(this.accept(["{",this.yJSONObjectValue,"}"]))return{type:"json_obj",value:this.y[1],josi:this.y[2].josi,...e,end:this.peekSourceMap()};if(this.accept(["{",this.yJSONObjectValue]))throw o.NakoSyntaxError.fromNode("ËæûÊõ∏ÂûãÂ§âÊï∞„ÅÆÂàùÊúüÂåñ„Åå„Äé}„Äè„ÅßÈñâ„Åò„Çâ„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì„ÄÇ",this.y[1]);return null}yJSONArrayValue(){this.check("eol")&&this.get();const e=this.yCalc();if(null===e)return null;this.check("comma")&&this.get();const t=[e];for(;!this.isEOF()&&(this.check("eol")&&this.get(),!this.check("]"));){const e=this.yCalc();if(null===e)break;this.check("comma")&&this.get(),t.push(e)}return t}yJSONArray(){const e=this.peekSourceMap();if(this.accept(["[","]"]))return{type:"json_array",value:[],josi:this.y[1].josi,...e,end:this.peekSourceMap()};if(this.accept(["[",this.yJSONArrayValue,"]"]))return{type:"json_array",value:this.y[1],josi:this.y[2].josi,...e,end:this.peekSourceMap()};if(this.accept(["[",this.yJSONArrayValue]))throw o.NakoSyntaxError.fromNode("ÈÖçÂàóÂ§âÊï∞„ÅÆÂàùÊúüÂåñ„Åå„Äé]„Äè„ÅßÈñâ„Åò„Çâ„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì„ÄÇ",this.y[1]);return null}yTryExcept(){const e=this.peekSourceMap();if(!this.check("„Ç®„É©„ÉºÁõ£Ë¶ñ"))return null;const t=this.getCur(),n=this.yBlock();if(!this.check2(["„Ç®„É©„Éº","„Å™„Çâ„Å∞"]))throw o.NakoSyntaxError.fromNode("„Ç®„É©„ÉºÊßãÊñá„Åß„Äé„Ç®„É©„Éº„Å™„Çâ„Å∞„Äè„Åå„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ„Äé„Ç®„É©„ÉºÁõ£Ë¶ñ..„Ç®„É©„Éº„Å™„Çâ„Å∞..„Åì„Åì„Åæ„Åß„Äè„ÇíÂØæ„ÅßË®òËø∞„Åó„Åæ„Åô„ÄÇ",t);this.get(),this.get();const r=this.yBlock();if(!this.check("„Åì„Åì„Åæ„Åß"))throw o.NakoSyntaxError.fromNode("„Äé„Åì„Åì„Åæ„Åß„Äè„Åå„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ„Äé„Ç®„É©„ÉºÁõ£Ë¶ñ„Äè...„Äé„Ç®„É©„Éº„Å™„Çâ„Å∞„Äè...„Äé„Åì„Åì„Åæ„Åß„Äè„ÇíÂØæÂøú„Åï„Åõ„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ",e);return this.get(),{type:"try_except",block:n,errBlock:r||[],josi:"",...e,end:this.peekSourceMap()}}}},"./core/src/nako_parser_base.mjs":function(e,t,n){"use strict";n.r(t),n.d(t,{NakoParserBase:function(){return s}});var r=n("./core/src/nako_types.mjs");class s{logger;stackList;tokens;stack;index;y;modName;namespaceStack;modList;funclist;usedFuncs;moduleExport;funcLevel;usedAsyncFn;localvars;genMode;arrayIndexFrom;flagReverseArrayIndex;flagCheckArrayInit;recentlyCalledFunc;isReadingCalc;isExportDefault;isExportStack;constructor(e){this.logger=e,this.stackList=[],this.tokens=[],this.usedFuncs=new Set,this.stack=[],this.index=0,this.y=[],this.modName="inline",this.namespaceStack=[],this.modList=[],this.funclist=new Map,this.funcLevel=0,this.usedAsyncFn=!1,this.localvars=new Map([["„Åù„Çå",{type:"var",value:""}]]),this.genMode="sync",this.arrayIndexFrom=0,this.flagReverseArrayIndex=!1,this.flagCheckArrayInit=!1,this.recentlyCalledFunc=[],this.isReadingCalc=!1,this.isExportDefault=!0,this.isExportStack=[],this.moduleExport=new Map,this.init()}init(){this.funclist=new Map,this.moduleExport=new Map,this.reset()}reset(){this.tokens=[],this.index=0,this.stack=[],this.y=[],this.genMode="sync"}setFuncList(e){this.funclist=e}setModuleExport(e){this.moduleExport=e}popStack(e=void 0){if(!e){const e=this.stack.pop();return e||null}for(let t=this.stack.length-1;t>=0;t--){const n=this.stack[t];if(0===e.length||e.indexOf(n.josi)>=0)return this.stack.splice(t,1),this.logger.trace("POP :"+JSON.stringify(n)),n}return null}saveStack(){this.stackList.push(this.stack),this.stack=[]}loadStack(){this.stack=this.stackList.pop()}findVar(e){if(this.localvars.get(e))return{name:e,scope:"local",info:this.localvars.get(e)};if(e.indexOf("__")>=0)return this.funclist.get(e)?{name:e,scope:"global",info:this.funclist.get(e)}:void 0;const t=`${this.modName}__${e}`;if(this.funclist.get(t))return{name:t,scope:"global",info:this.funclist.get(t)};for(const t of this.modList){const n=`${t}__${e}`,r=this.moduleExport.get(t),s=this.funclist.get(n);if(s&&(!0===s.isExport||!1!==s.isExport&&!1!==r))return{name:n,scope:"global",info:this.funclist.get(n)}}return this.funclist.get(e)?{name:e,scope:"system",info:this.funclist.get(e)}:void 0}pushStack(e){this.logger.trace("PUSH:"+JSON.stringify(e)),this.stack.push(e)}isEOF(){return this.index>=this.tokens.length}getIndex(){return this.index}check(e){return this.tokens[this.index].type===e}check2(e){for(let t=0;t<e.length;t++){const n=t+this.index;if(this.tokens.length<=n)return!1;if("*"===e[t])continue;const r=this.tokens[n];if(e[t]instanceof Array){if(e[t].indexOf(r.type)<0)return!1}else if(r.type!==e[t])return!1}return!0}checkTypes(e){const t=this.tokens[this.index].type;return e.indexOf(t)>=0}accept(e){const t=[],n=this.index,r=()=>(this.index=n,!1);for(let n=0;n<e.length;n++){if(this.isEOF())return r();const s=e[n];if(null==s)return r();if("string"!=typeof s)if("function"!=typeof s){if(!(s instanceof Array))throw new Error("System Error : accept broken : "+typeof s);if(!this.checkTypes(s))return r();t[n]=this.get()}else{const e=s.bind(this)(t);if(null===e)return r();t[n]=e}else{const e=this.get();if(e&&e.type!==s)return r();t[n]=e}}return this.y=t,!0}get(){return this.isEOF()?null:this.tokens[this.index++]}getCur(){if(this.isEOF())throw new Error("„Éà„Éº„ÇØ„É≥„ÅåÂèñÂæó„Åß„Åç„Åæ„Åõ„Çì„ÄÇ");const e=this.tokens[this.index++];if(!e)throw new Error("„Éà„Éº„ÇØ„É≥„ÅåÂèñÂæó„Åß„Åç„Åæ„Åõ„Çì„ÄÇ");return e}unget(){this.index>0&&this.index--}peek(e=0){return this.isEOF()?null:this.tokens[this.index+e]}peekDef(e=null){return this.isEOF()?(e||(e=(0,r.NewEmptyToken)()),e):this.tokens[this.index]}peekSourceMap(){const e=this.peek();return null===e?{startOffset:void 0,endOffset:void 0,file:void 0,line:0,column:0}:{startOffset:e.startOffset,endOffset:e.endOffset,file:e.file,line:e.line,column:e.column}}nodeToStr(e,t,n){const r=t.depth-1,s=e=>void 0!==t.typeName?t.typeName:e,o=n?" debug: "+JSON.stringify(e,null,2):"";if(!e)return"(NULL)";switch(e.type){case"not":if(r>=0){const t=e.value;return`${s("")}„Äé${this.nodeToStr(t,{depth:r},n)}„Å´ÊºîÁÆóÂ≠ê„Äénot„Äè„ÇíÈÅ©Áî®„Åó„ÅüÂºè${o}„Äè`}return`${s("ÊºîÁÆóÂ≠ê")}„Äénot„Äè`;case"op":{const t=e;let i=t.operator||"";const u={eq:"Ôºù",not:"!",gt:">",lt:"<",and:"„Åã„Å§",or:"„Åæ„Åü„ÅØ"};if(i in u&&(i=u[i]),r>=0){const e=this.nodeToStr(t.left,{depth:r},n),u=this.nodeToStr(t.right,{depth:r},n);return"eq"===t.operator?`${s("")}„Äé${e}„Å®${u}„ÅåÁ≠â„Åó„ÅÑ„Åã„Å©„ÅÜ„Åã„ÅÆÊØîËºÉ${o}„Äè`:`${s("")}„Äé${e}„Å®${u}„Å´ÊºîÁÆóÂ≠ê„Äé${i}„Äè„ÇíÈÅ©Áî®„Åó„ÅüÂºè${o}„Äè`}return`${s("ÊºîÁÆóÂ≠ê")}„Äé${i}${o}„Äè`}case"number":return`${s("Êï∞ÂÄ§")}${e.value}`;case"bigint":return`${s("Â∑®Â§ßÊï¥Êï∞")}${e.value}`;case"string":return`${s("ÊñáÂ≠óÂàó")}„Äé${e.value}${o}„Äè`;case"word":return`${s("ÂçòË™û")}„Äé${e.value}${o}„Äè`;case"func":return`${s("Èñ¢Êï∞")}„Äé${e.name||e.value}${o}„Äè`;case"eol":return"Ë°å„ÅÆÊú´Â∞æ";case"eof":return"„Éï„Ç°„Ç§„É´„ÅÆÊú´Â∞æ";default:{let t=e.name;return t&&(t=e.value),"string"!=typeof t&&(t=e.type),`${s("")}„Äé${t}${o}„Äè`}}}}},"./core/src/nako_parser_const.mjs":function(e,t,n){"use strict";n.r(t),n.d(t,{RenbunJosi:function(){return s},opPriority:function(){return r},operatorList:function(){return o}});const r={and:1,or:1,eq:2,noteq:2,"===":2,"!==":2,gt:2,gteq:2,lt:2,lteq:2,"&":3,"+":4,"-":4,shift_l:4,shift_r:4,shift_r0:4,"*":5,"/":5,"√∑":5,"√∑√∑":5,"%":5,"^":6,"**":6},s=["„ÅÑ„Å¶","„Åà„Å¶","„Åç„Å¶","„Åë„Å¶","„Åó„Å¶","„Å£„Å¶","„Å´„Å¶","„Åø„Å¶","„ÇÅ„Å¶","„Å≠„Å¶","„Å´„ÅØ","„Çì„Åß"],o=[];for(const e in r)o.push(e)},"./core/src/nako_prepare.mjs":function(e,t,n){"use strict";n.r(t),n.d(t,{NakoPrepare:function(){return i},Replace:function(){return o},checkNakoMode:function(){return u}});class r{from;to;index;constructor(e,t,n){this.from=e,this.to=t,this.index=n}}class s{text;sourcePosition;constructor(e,t){this.text=e,this.sourcePosition=t}}class o{history;code;constructor(e){this.history=[],this.code=e}getText(){return this.code}replaceAll(e,t){for(;;){const n=this.getText().indexOf(e);if(-1===n)break;e.length!==t.length&&this.history.unshift(new r(e.length,t.length,n)),this.code=this.code.replace(e,t)}}getSourcePosition(e){for(const t of this.history)e>=t.index+t.to?e+=t.from-t.to:t.index<=e&&e<t.index+t.to&&(e=t.to>=2&&e===t.index+t.to-1?t.index+t.from-1:t.index);return e}}class i{static _instance;static getInstance(){return i._instance||(i._instance=new i),i._instance}convertTable;constructor(){this.convertTable=new Map([[8208,"-"],[8209,"-"],[8211,"-"],[8212,"-"],[8213,"-"],[8722,"-"],[732,"~"],[759,"~"],[8275,"~"],[8764,"~"],[12316,"~"],[65374,"~"],[8192," "],[8194," "],[8195," "],[8196," "],[8197," "],[8198," "],[8199," "],[8201," "],[8202," "],[8203," "],[8239," "],[8287," "],[12288," "],[12644," "],[8251,"#"],[12290,";"],[12304,"["],[12305,"]"],[12289,","],[65292,","],[10006,"*"],[10133,"+"],[10134,"-"],[10135,"√∑"]])}convert1ch(e){if(!e)return"";const t=e.codePointAt(0)||0,n=this.convertTable.get(t)||"";if(n)return n;if(t<127)return e;if(t>=65281&&t<=65374){const e=t-65248;return String.fromCodePoint(e)}return e}convert(e){if(!e)return[];const t=new o(e);t.replaceAll("\r\n","\n"),t.replaceAll("\r","\n");let n=!1,r=!1,i="";const u=[];let c=0,a="",f=0;for(;f<t.getText().length;){const e=t.getText().charAt(f),o=t.getText().substr(f,2);if(n){if(e===i){n=!1,u.push(new s(a+i,t.getSourcePosition(c))),f++,c=f;continue}a+=e,f++;continue}if(r){if(o===i){r=!1,"ÔºäÔºè"===i&&(i="*/"),u.push(new s(a+i,t.getSourcePosition(c))),f+=2,c=f;continue}a+=e,f++;continue}if("„Äå"===e){u.push(new s(e,t.getSourcePosition(c))),f++,c=f,n=!0,i="„Äç",a="";continue}if("„Äé"===e){u.push(new s(e,t.getSourcePosition(c))),f++,c=f,n=!0,i="„Äè",a="";continue}if("‚Äú"===e){u.push(new s(e,t.getSourcePosition(c))),f++,c=f,n=!0,i="‚Äù",a="";continue}if("üå¥"===o||"üåø"===o){u.push(new s(o,t.getSourcePosition(c))),f+=2,c=f,r=!0,i=o,a="";continue}const l=this.convert1ch(e);'"'!==l&&"'"!==l?"#"!==l?"//"!==o&&"ÔºèÔºè"!==o?"ÔºèÔºä"!==o?"/*"!==o?(u.push(new s(l,t.getSourcePosition(c))),f++,c=f):(u.push(new s(o,t.getSourcePosition(c))),f+=2,c=f,r=!0,i="*/",a=""):(u.push(new s("/*",t.getSourcePosition(c))),f+=2,c=f,r=!0,i="ÔºäÔºè",a=""):(u.push(new s("//",t.getSourcePosition(c))),f+=2,c=f,n=!0,i="\n",a=""):(u.push(new s(l,t.getSourcePosition(c))),f++,c=f,n=!0,i="\n",a=""):(u.push(new s(l,t.getSourcePosition(c))),f++,c=f,n=!0,i=e,a="")}return(n||r)&&u.push(new s(a+i,t.getSourcePosition(c))),u}}function u(e,t){const n=(e=(e=(e=e.substring(0,256)).replace(/(ÔºÅ|üí°)/,"!")).replace(/\/\*.*?\*\//g,"")).split(/[;„ÄÇ\n]/,30);for(let e of n)if(e=e.replace(/^\s+/,"").replace(/\s+$/,""),t.indexOf(e)>=0)return!0;return!1}},"./core/src/nako_reserved_words.mjs":function(e,t,n){"use strict";n.r(t);const r=new Map([["Âõû","Âõû"],["ÂõûÁπ∞Ëøî","Âõû"],["Èñì","Èñì"],["ÈñìÁπ∞Ëøî","Èñì"],["Áπ∞Ëøî","Áπ∞Ëøî"],["Â¢óÁπ∞Ëøî","Â¢óÁπ∞Ëøî"],["Ê∏õÁπ∞Ëøî","Ê∏õÁπ∞Ëøî"],["ÂæåÂà§ÂÆö","ÂæåÂà§ÂÆö"],["ÂèçÂæ©","ÂèçÂæ©"],["Êäú","Êäú„Åë„Çã"],["Á∂ö","Á∂ö„Åë„Çã"],["Êàª","Êàª„Çã"],["ÂÖà","ÂÖà„Å´"],["Ê¨°","Ê¨°„Å´"],["‰ª£ÂÖ•","‰ª£ÂÖ•"],["ÂÆüË°åÈÄüÂ∫¶ÂÑ™ÂÖà","ÂÆüË°åÈÄüÂ∫¶ÂÑ™ÂÖà"],["„Éë„Éï„Ç©„Éº„Éû„É≥„Çπ„É¢„Éã„ÇøÈÅ©Áî®","„Éë„Éï„Ç©„Éº„Éû„É≥„Çπ„É¢„Éã„ÇøÈÅ©Áî®"],["ÂÆö","ÂÆö„ÇÅ„Çã"],["ÈÄêÊ¨°ÂÆüË°å","ÈÄêÊ¨°ÂÆüË°å"],["Êù°‰ª∂ÂàÜÂ≤ê","Êù°‰ª∂ÂàÜÂ≤ê"],["Â¢ó","Â¢ó"],["Ê∏õ","Ê∏õ"],["Â§âÊï∞","Â§âÊï∞"],["ÂÆöÊï∞","ÂÆöÊï∞"],["„Ç®„É©„ÉºÁõ£Ë¶ñ","„Ç®„É©„ÉºÁõ£Ë¶ñ"],["„Ç®„É©„Éº","„Ç®„É©„Éº"],["„Åù„Çå","word"],["„Åù„ÅÜ","word"],["Èñ¢Êï∞","def_func"],["„Ç§„É≥„Éá„É≥„ÉàÊßãÊñá","„Ç§„É≥„Éá„É≥„ÉàÊßãÊñá"],["ÈùûÂêåÊúü„É¢„Éº„Éâ","ÈùûÂêåÊúü„É¢„Éº„Éâ"],["DNCL„É¢„Éº„Éâ","DNCL„É¢„Éº„Éâ"],["„É¢„Éº„ÉâË®≠ÂÆö","„É¢„Éº„ÉâË®≠ÂÆö"],["ÂèñËæº","ÂèñËæº"],["„É¢„Ç∏„É•„Éº„É´ÂÖ¨ÈñãÊó¢ÂÆöÂÄ§","„É¢„Ç∏„É•„Éº„É´ÂÖ¨ÈñãÊó¢ÂÆöÂÄ§"]]);t.default=r},"./core/src/nako_source_mapping.mjs":function(e,t,n){"use strict";n.r(t),n.d(t,{OffsetToLineColumn:function(){return o},SourceMappingOfIndentSyntax:function(){return s},SourceMappingOfTokenization:function(){return r},subtractSourceMapByPreCodeLength:function(){return i}});class r{sourceCodeLength;preprocessed;cumulativeSum;lastIndex;lastPreprocessedCodePosition;constructor(e,t){this.sourceCodeLength=e,this.preprocessed=t;let n=0;this.cumulativeSum=[];for(const e of t)this.cumulativeSum.push(n),n+=e.text.length;this.lastIndex=0,this.lastPreprocessedCodePosition=0}map(e){const t=this.findIndex(e);return Math.min(this.preprocessed[t].sourcePosition+(e-this.cumulativeSum[t]),t===this.preprocessed.length-1?this.sourceCodeLength:this.preprocessed[t+1].sourcePosition-1)}findIndex(e){e<this.lastPreprocessedCodePosition&&(this.lastIndex=0),this.lastPreprocessedCodePosition=e;for(let t=this.lastIndex;t<this.preprocessed.length-1;t++)if(e<this.cumulativeSum[t+1])return this.lastIndex=t,t;return this.lastIndex=this.preprocessed.length-1,this.preprocessed.length-1}}class s{lines;linesInsertedByIndentationSyntax;linesDeletedByIndentationSyntax;lastLineNumber;lastOffset;constructor(e,t,n){this.lines=[],this.linesInsertedByIndentationSyntax=t,this.linesDeletedByIndentationSyntax=n;let r=0;for(const t of e.split("\n"))this.lines.push({offset:r,len:t.length}),r+=t.length+1;this.lastLineNumber=0,this.lastOffset=0}map(e,t){if(null===e)return{startOffset:e,endOffset:t};const n=this.getLineNumber(e);for(const r of this.linesInsertedByIndentationSyntax){if(n===r){e=null,t=null;break}n>r&&(e-=this.lines[r].len+1,null!==t&&(t-=this.lines[r].len+1))}for(const r of this.linesDeletedByIndentationSyntax)n>=r.lineNumber&&(null!==e&&(e+=r.len+1),null!==t&&(t+=r.len+1));return{startOffset:e,endOffset:t}}getLineNumber(e){e<this.lastOffset&&(this.lastLineNumber=0),this.lastOffset=e;for(let t=this.lastLineNumber;t<this.lines.length-1;t++)if(e<this.lines[t+1].offset)return this.lastLineNumber=t,t;return this.lastLineNumber=this.lines.length-1,this.lines.length-1}}class o{lineOffsets;lastLineNumber;lastOffset;constructor(e){this.lineOffsets=[];let t=0;for(const n of e.split("\n"))this.lineOffsets.push(t),t+=n.length+1;this.lastLineNumber=0,this.lastOffset=0}map(e,t){e<this.lastOffset&&(this.lastLineNumber=0),this.lastOffset=e;for(let n=this.lastLineNumber;n<this.lineOffsets.length-1;n++)if(e<this.lineOffsets[n+1])return this.lastLineNumber=n,{line:n+(t?1:0),column:e-this.lineOffsets[n]};return this.lastLineNumber=this.lineOffsets.length-1,{line:this.lineOffsets.length-1+(t?1:0),column:e-this.lineOffsets[this.lineOffsets.length-1]}}}function i(e,t){if("number"==typeof e.startOffset&&(e.startOffset-=t.length),"number"==typeof e.endOffset&&(e.endOffset-=t.length),""!==t){const n=t.split("\n");"number"==typeof e.line&&(e.line-=n.length-1),0===e.line&&"number"==typeof e.column&&(e.column-=n[n.length-1].length)}return e}},"./core/src/nako_tools.mjs":function(e,t,n){"use strict";n.r(t),n.d(t,{debugTokens:function(){return s},makeIndent:function(){return o},newToken:function(){return u}});var r=n("./core/src/nako_types.mjs");function s(e){const t=[];for(let n=0;n<e.length;n++){const r=e[n],s=r.type,i=r.value;let u=`[${s}:${i}]`;s===i&&(u=s),"comma"===s&&(u=","),"string"===s&&(u=`"${i}"`),"number"===s&&(u=`(${i})`),"word"===s&&(u=`[word:${i}]`),t[r.line]||(t[r.line]=o(r.indent)),t[r.line]+=u+r.josi+"|"}return t.join("\n")}function o(e){let t="";for(let n=0;n<e;n++)t+=" ";return t}let i=(0,r.NewEmptyToken)();function u(e,t,n=void 0){n&&(i=n);return(0,r.NewEmptyToken)(e,t,i.indent,i.line,i.file)}},"./core/src/nako_types.mjs":function(e,t,n){"use strict";function r(e="?",t="",n=-1,r=0,s="main.nako3"){return{type:e,value:t,indent:n,line:r,column:0,file:s,josi:""}}n.r(t),n.d(t,{NewEmptyToken:function(){return r}})},"./core/src/plugin_csv.mjs":function(e,t,n){"use strict";n.r(t);var r=n("./core/src/nako_csv.mjs");const s={meta:{type:"const",value:{pluginName:"plugin_csv",description:"CSVÈñ¢ÈÄ£„ÅÆÂëΩ‰ª§„ÇíÊèê‰æõ„Åô„Çã„Éó„É©„Ç∞„Ç§„É≥",pluginVersion:"3.6.0",nakoRuntime:["wnako","cnako","phpnako"],nakoVersion:"3.6.0"}},"ÂàùÊúüÂåñ":{type:"func",josi:[],pure:!0,fn:function(){}},"CSVÂèñÂæó":{type:"func",josi:[["„Çí","„ÅÆ","„Åß"]],pure:!0,fn:function(e){return r.options.delimiter=",",(0,r.parse)(e)}},"TSVÂèñÂæó":{type:"func",josi:[["„Çí","„ÅÆ","„Åß"]],pure:!0,fn:function(e){return r.options.delimiter="\t",(0,r.parse)(e)}},"Ë°®CSVÂ§âÊèõ":{type:"func",josi:[["„Çí"]],pure:!0,fn:function(e){return r.options.delimiter=",",(0,r.stringify)(e)}},"Ë°®TSVÂ§âÊèõ":{type:"func",josi:[["„Çí"]],pure:!0,fn:function(e){return r.options.delimiter="\t",(0,r.stringify)(e)}}};t.default=s},"./core/src/plugin_math.mjs":function(e,t,n){"use strict";n.r(t),t.default={meta:{type:"const",value:{pluginName:"plugin_math",description:"Êï∞Â≠¶Èñ¢Êï∞„ÇíÊèê‰æõ„Åô„Çã„Éó„É©„Ç∞„Ç§„É≥",pluginVersion:"3.6.0",nakoRuntime:["wnako","cnako","phpnako"],nakoVersion:"^3.6.0"}},"ÂàùÊúüÂåñ":{type:"func",josi:[],pure:!0,fn:function(){}},SIN:{type:"func",josi:[["„ÅÆ"]],pure:!0,fn:function(e){return Math.sin(e)}},COS:{type:"func",josi:[["„ÅÆ"]],pure:!0,fn:function(e){return Math.cos(e)}},TAN:{type:"func",josi:[["„ÅÆ"]],pure:!0,fn:function(e){return Math.tan(e)}},ARCSIN:{type:"func",josi:[["„ÅÆ"]],pure:!0,fn:function(e){return Math.asin(e)}},ARCCOS:{type:"func",josi:[["„ÅÆ"]],pure:!0,fn:function(e){return Math.acos(e)}},ARCTAN:{type:"func",josi:[["„ÅÆ"]],pure:!0,fn:function(e){return Math.atan(e)}},ATAN2:{type:"func",josi:[["„Å®"],["„ÅÆ"]],pure:!0,fn:function(e,t){return Math.atan2(e,t)}},"Â∫ßÊ®ôËßíÂ∫¶Ë®àÁÆó":{type:"func",josi:[["„ÅÆ"]],pure:!0,fn:function(e){return 180*Math.atan2(e[1],e[0])/Math.PI}},RAD2DEG:{type:"func",josi:[["„Çí"]],pure:!0,fn:function(e){return e/Math.PI*180}},DEG2RAD:{type:"func",josi:[["„Çí"]],pure:!0,fn:function(e){return e/180*Math.PI}},"Â∫¶Â§âÊèõ":{type:"func",josi:[["„Çí"]],pure:!0,fn:function(e){return e/Math.PI*180}},"„É©„Ç∏„Ç¢„É≥Â§âÊèõ":{type:"func",josi:[["„Çí"]],pure:!0,fn:function(e){return e/180*Math.PI}},SIGN:{type:"func",josi:[["„ÅÆ"]],pure:!0,fn:function(e){return 0===parseFloat(e)?0:e>0?1:-1}},"Á¨¶Âè∑":{type:"func",josi:[["„ÅÆ"]],pure:!1,fn:function(e,t){return t.__exec("SIGN",[e])}},ABS:{type:"func",josi:[["„ÅÆ"]],pure:!0,fn:function(e){return Math.abs(e)}},"Áµ∂ÂØæÂÄ§":{type:"func",josi:[["„ÅÆ"]],pure:!0,fn:function(e){return Math.abs(e)}},EXP:{type:"func",josi:[["„ÅÆ"]],pure:!0,fn:function(e){return Math.exp(e)}},HYPOT:{type:"func",josi:[["„Å®"],["„ÅÆ"]],pure:!0,fn:function(e,t){return Math.hypot(e,t)}},"ÊñúËæ∫":{type:"func",josi:[["„Å®"],["„ÅÆ"]],pure:!0,fn:function(e,t){return Math.hypot(e,t)}},LN:{type:"func",josi:[["„ÅÆ"]],pure:!0,fn:function(e){return Math.log(e)}},LOG:{type:"func",josi:[["„ÅÆ"]],pure:!0,fn:function(e){return Math.log(e)}},LOGN:{type:"func",josi:[["„Åß"],["„ÅÆ"]],pure:!0,fn:function(e,t){return 2===e?Math.LOG2E*Math.log(t):10===e?Math.LOG10E*Math.log(t):Math.log(t)/Math.log(e)}},FRAC:{type:"func",josi:[["„ÅÆ"]],pure:!0,fn:function(e){return e%1}},"Â∞èÊï∞ÈÉ®ÂàÜ":{type:"func",josi:[["„ÅÆ"]],pure:!0,fn:function(e){return e%1}},"Êï¥Êï∞ÈÉ®ÂàÜ":{type:"func",josi:[["„ÅÆ"]],pure:!0,fn:function(e){return Math.trunc(e)}},"‰π±Êï∞":{type:"func",josi:[["„ÅÆ"]],pure:!0,fn:function(e){return Math.floor(Math.random()*e)}},"‰π±Êï∞ÁØÑÂõ≤":{type:"func",josi:[["„Åã„Çâ"],["„Åæ„Åß„ÅÆ","„ÅÆ"]],pure:!0,fn:function(e,t){return Math.floor(Math.random()*(t-e+1))+e}},SQRT:{type:"func",josi:[["„ÅÆ"]],pure:!0,fn:function(e){return Math.sqrt(e)}},"Âπ≥ÊñπÊ†π":{type:"func",josi:[["„ÅÆ"]],pure:!0,fn:function(e){return Math.sqrt(e)}},ROUND:{type:"func",josi:[["„Çí"]],pure:!0,fn:function(e){return Math.round(e)}},"ÂõõÊç®‰∫îÂÖ•":{type:"func",josi:[["„Çí","„ÅÆ"]],pure:!0,fn:function(e){return Math.round(e)}},"Â∞èÊï∞ÁÇπÂàá‰∏ä":{type:"func",josi:[["„Çí"],["„Åß"]],pure:!0,fn:function(e,t){const n=Math.pow(10,t);return Math.ceil(e*n)/n}},"Â∞èÊï∞ÁÇπÂàá‰∏ã":{type:"func",josi:[["„Çí"],["„Åß"]],pure:!0,fn:function(e,t){const n=Math.pow(10,t);return Math.floor(e*n)/n}},"Â∞èÊï∞ÁÇπÂõõÊç®‰∫îÂÖ•":{type:"func",josi:[["„Çí"],["„Åß"]],pure:!0,fn:function(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}},CEIL:{type:"func",josi:[["„Çí"]],pure:!0,fn:function(e){return Math.ceil(e)}},"Âàá‰∏ä":{type:"func",josi:[["„Çí"]],pure:!0,fn:function(e){return Math.ceil(e)}},FLOOR:{type:"func",josi:[["„Çí"]],pure:!0,fn:function(e){return Math.floor(e)}},"ÂàáÊç®":{type:"func",josi:[["„Çí"]],pure:!0,fn:function(e){return Math.floor(e)}}}},"./core/src/plugin_promise.mjs":function(e,t,n){"use strict";n.r(t),t.default={meta:{type:"const",value:{pluginName:"plugin_promise",description:"promiseÈñ¢ÈÄ£„ÅÆÂëΩ‰ª§„ÇíÊèê‰æõ„Åô„Çã„Éó„É©„Ç∞„Ç§„É≥",pluginVersion:"3.6.0",nakoRuntime:["wnako","cnako"],nakoVersion:"^3.6.0"}},"ÂàùÊúüÂåñ":{type:"func",josi:[],pure:!0,fn:function(e){null==e.__promise&&(e.__promise={setLastPromise:function(t){return e.__setSysVar("„Åù",t),t}})}},"„Åù":{type:"const",value:""},"ÂãïÊôÇ":{type:"func",josi:[["„Çí","„Åß"]],pure:!0,fn:function(e,t){return t.__promise.setLastPromise(new Promise(((t,n)=>e(t,n))))},return_none:!1},"ÊàêÂäüÊôÇ":{type:"func",josi:[["„Çí"],["„ÅÆ","„Åå","„Å´"]],pure:!0,fn:function(e,t,n){return n.__promise.setLastPromise(t.then((t=>(n.__setSysVar("ÂØæË±°",t),e(t)))))},return_none:!1},"Âá¶ÁêÜÊôÇ":{type:"func",josi:[["„Çí"],["„ÅÆ","„Åå","„Å´"]],pure:!0,fn:function(e,t,n){return n.__promise.setLastPromise(t.then((t=>(n.__setSysVar("ÂØæË±°",t),e(!0,t,n))),(t=>(n.__setSysVar("ÂØæË±°",t),e(!1,t,n)))))},return_none:!1},"Â§±ÊïóÊôÇ":{type:"func",josi:[["„Çí"],["„ÅÆ","„Åå","„Å´"]],pure:!0,fn:function(e,t,n){return n.__promise.setLastPromise(t.catch((t=>(n.__setSysVar("ÂØæË±°",t),e(t)))))},return_none:!1},"ÁµÇ‰∫ÜÊôÇ":{type:"func",josi:[["„Çí"],["„ÅÆ","„Åå","„Å´"]],pure:!0,fn:function(e,t,n){return n.__promise.setLastPromise(t.finally((()=>e())))},return_none:!1},"Êùü":{type:"func",josi:[["„Å®","„Çí"]],pure:!0,fn:function(...e){return e.pop().__promise.setLastPromise(Promise.all(e))},return_none:!1}}},"./core/src/plugin_system.mjs":function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _nako_errors_mjs__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./core/src/nako_errors.mjs");__webpack_exports__.default={meta:{type:"const",value:{pluginName:"plugin_system",description:"„Ç∑„Çπ„ÉÜ„É†Èñ¢ÈÄ£„ÅÆÂëΩ‰ª§„ÇíÊèê‰æõ„Åô„Çã„Éó„É©„Ç∞„Ç§„É≥",pluginVersion:"3.6.0",nakoRuntime:["wnako","cnako","phpnako"],nakoVersion:"3.6.0"}},"ÂàùÊúüÂåñ":{type:"func",josi:[],pure:!1,fn:function(e){const t=e;e.isDebug=!1,e.__setSysVar=(t,n)=>e.__v0.set(t,n),e.__getSysVar=(t,n=void 0)=>{const r=e.__v0.get(t);return void 0===r?n:r},e.__setSore=t=>(e.__vars.set("„Åù„Çå",t),t),e.__getSore=()=>e.__vars.get("„Åù„Çå"),e.tags={},e.__setSysVar("„Éä„Éá„Ç∑„Ç≥„Éê„Éº„Ç∏„Éß„É≥",e.version),e.__setSysVar("„Éä„Éá„Ç∑„Ç≥Ë®ÄË™û„Éê„Éº„Ç∏„Éß„É≥",e.coreVersion),t.__namespaceList||(t.__namespaceList=[]),e.__findVar=function(e,n){if("function"==typeof e)return e;const r=t.__locals.get(e);if(r)return r;if(e.indexOf("__")>=0){for(let n=2;n>=0;n--){const r=t.__varslist[n].get(e);if(r)return r}return n}const s=t.__modList?t.__modList:[t.__modName];for(const n of s){const r=n+"__"+e;for(let e=2;e>=0;e--){const n=t.__varslist[e].get(r);if(n)return n}}return n},e.__findFunc=function(t,n){const r=e.__findVar(t);if("function"==typeof r)return r;throw new Error(`„Äé${n}„Äè„Å´ÂÆüË°å„Åß„Åç„Å™„ÅÑÈñ¢Êï∞„ÅåÊåáÂÆö„Åï„Çå„Åæ„Åó„Åü„ÄÇ`)},e.__exec=function(t,n){const r=e.__getSysVar(t);if(r)return r.apply(this,n);const s=e.__findVar(t);if(!s)throw new Error("„Ç∑„Çπ„ÉÜ„É†Èñ¢Êï∞„Åß„Ç®„Ç§„É™„Ç¢„Çπ„ÅÆÊåáÂÆö„Éü„Çπ:"+t);return s.apply(this,n)},e.__timeout=[],e.__interval=[];const n=e.__zero2=e=>(e="00"+e).substring(e.length-2);e.__zero=(e,t)=>{let n="";for(let e=0;e<t;e++)n+="0";return(e=n+e).substring(e.length-t)},e.__formatDate=e=>e.getFullYear()+"/"+n(e.getMonth()+1)+"/"+n(e.getDate()),e.__formatTime=e=>n(e.getHours())+":"+n(e.getSeconds())+":"+n(e.getMinutes()),e.__formatDateTime=(e,t)=>{const r=e.getFullYear()+"/"+n(e.getMonth()+1)+"/"+n(e.getDate()),s=n(e.getHours())+":"+n(e.getMinutes())+":"+n(e.getSeconds());return t.match(/^\d+\/\d+\/\d+\s+\d+:\d+:\d+$/)?r+" "+s:t.match(/^\d+\/\d+\/\d+$/)?r:t.match(/^\d+:\d+:\d+$/)?s:r+" "+s},e.__str2date=e=>{if((e=(""+e).replace(/(^\s+|\s+$)/,"")).match(/^(\d+|\d+\.\d+)$/))return new Date(1e3*parseFloat(e));if(e.match(/^\d+:\d+(:\d+)?$/)){const t=new Date,n=(e+":0").split(":");return new Date(t.getFullYear(),t.getMonth(),t.getDate(),parseInt(n[0]),parseInt(n[1]),parseInt(n[2]))}e=e.replace(/[\s:-]/g,"/");const t=(e+="/0/0/0").split("/");return new Date(parseInt(t[0]),parseInt(t[1])-1,parseInt(t[2]),parseInt(t[3]),parseInt(t[4]),parseInt(t[5]))},e.__printPool="",e.__parseFloatOrBigint=e=>"bigint"==typeof e?e:parseFloat(e),t.chk=(n,r)=>{if(void 0===n){const n=t.constPools[r],[s,o,i,u]=n;let c=t.constPoolsTemplate[s];for(const e in o){const n=t.constPoolsTemplate[o[e]];c=c.split(`$${e}`).join(n)}const a=t.constPoolsTemplate[i];e.logger.warn(c,{file:a,line:u})}return n}}},"!„ÇØ„É™„Ç¢":{type:"func",josi:[],pure:!1,fn:function(e){e.__exec&&e.__exec("ÂÖ®„Çø„Ç§„Éû„ÉºÂÅúÊ≠¢",[e]),e.__setSysVar("Ë°®Á§∫„É≠„Ç∞","")}},"„Éä„Éá„Ç∑„Ç≥„Éê„Éº„Ç∏„Éß„É≥":{type:"const",value:"?"},"„Éä„Éá„Ç∑„Ç≥Ë®ÄË™û„Éê„Éº„Ç∏„Éß„É≥":{type:"const",value:"?"},"„Éä„Éá„Ç∑„Ç≥„Ç®„É≥„Ç∏„É≥":{type:"const",value:"nadesi.com/v3"},"„Éä„Éá„Ç∑„Ç≥Á®ÆÈ°û":{type:"const",value:"?"},"„ÅØ„ÅÑ":{type:"const",value:1},"„ÅÑ„ÅÑ„Åà":{type:"const",value:0},"Áúü":{type:"const",value:1},"ÂÅΩ":{type:"const",value:0},"Ê∞∏ÈÅ†":{type:"const",value:1},"„Ç™„É≥":{type:"const",value:1},"„Ç™„Éï":{type:"const",value:0},"ÊîπË°å":{type:"const",value:"\n"},"„Çø„Éñ":{type:"const",value:"\t"},"„Ç´„ÉÉ„Ç≥":{type:"const",value:"„Äå"},"„Ç´„ÉÉ„Ç≥Èñâ":{type:"const",value:"„Äç"},"Ê≥¢„Ç´„ÉÉ„Ç≥":{type:"const",value:"{"},"Ê≥¢„Ç´„ÉÉ„Ç≥Èñâ":{type:"const",value:"}"},OK:{type:"const",value:!0},NG:{type:"const",value:!1},"„Ç≠„É£„É≥„Çª„É´":{type:"const",value:0},TRUE:{type:"const",value:!0},FALSE:{type:"const",value:!1},true:{type:"const",value:!0},false:{type:"const",value:!1},PI:{type:"const",value:Math.PI},"Á©∫":{type:"const",value:""},NULL:{type:"const",value:null},undefined:{type:"const",value:void 0},"Êú™ÂÆöÁæ©":{type:"const",value:void 0},"„Ç®„É©„Éº„É°„ÉÉ„Çª„Éº„Ç∏":{type:"const",value:""},"ÂØæË±°":{type:"const",value:""},"ÂØæË±°„Ç≠„Éº":{type:"const",value:""},"ÂõûÊï∞":{type:"const",value:""},CR:{type:"const",value:"\r"},LF:{type:"const",value:"\n"},"ÈùûÊï∞":{type:"const",value:NaN},"ÁÑ°ÈôêÂ§ß":{type:"const",value:1/0},"Á©∫ÈÖçÂàó":{type:"func",josi:[],pure:!0,fn:function(){return[]}},"Á©∫ËæûÊõ∏":{type:"func",josi:[],pure:!0,fn:function(){return{}}},"Á©∫„Éè„ÉÉ„Ç∑„É•":{type:"func",josi:[],pure:!0,fn:function(){return{}}},"Á©∫„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà":{type:"func",josi:[],pure:!1,fn:function(e){return e.__exec("Á©∫„Éè„ÉÉ„Ç∑„É•",[e])}},"Ë°®Á§∫":{type:"func",josi:[["„Çí","„Å®"]],pure:!0,fn:function(e,t){e=t.__printPool+e,t.__printPool="",t.__setSysVar("Ë°®Á§∫„É≠„Ç∞",t.__getSysVar("Ë°®Á§∫„É≠„Ç∞")+e+"\n"),t.logger.send("stdout",e+"")},return_none:!0},"Á∂ôÁ∂öË°®Á§∫":{type:"func",josi:[["„Çí","„Å®"]],pure:!0,fn:function(e,t){t.__printPool+=e},return_none:!0},"ÈÄ£Á∂öË°®Á§∫":{type:"func",josi:[["„Å®","„Çí"]],isVariableJosi:!0,pure:!0,fn:function(...e){const t=e.pop(),n=e.join("");t.__exec("Ë°®Á§∫",[n,t])},return_none:!0},"ÈÄ£Á∂öÁÑ°ÊîπË°åË°®Á§∫":{type:"func",josi:[["„Å®","„Çí"]],isVariableJosi:!0,pure:!0,fn:function(...e){const t=e.pop(),n=e.join("");t.__exec("Á∂ôÁ∂öË°®Á§∫",[n,t])},return_none:!0},"Ë°®Á§∫„É≠„Ç∞":{type:"const",value:""},"Ë°®Á§∫„É≠„Ç∞„ÇØ„É™„Ç¢":{type:"func",josi:[],pure:!0,fn:function(e){e.__setSysVar("Ë°®Á§∫„É≠„Ç∞","")},return_none:!0},"Ë®Ä":{type:"func",josi:[["„Çí","„Å®"]],pure:!0,fn:function(e,t){t.logger.send("stdout",e+"")},return_none:!0},"„Ç≥„É≥„ÇΩ„Éº„É´Ë°®Á§∫":{type:"func",josi:[["„Çí","„Å®"]],pure:!0,fn:function(e){console.log(e)},return_none:!0},"Ë∂≥":{type:"func",josi:[["„Å´","„Å®"],["„Çí"]],isVariableJosi:!1,pure:!0,fn:function(e,t){return e+t}},"Âºï":{type:"func",josi:[["„Åã„Çâ"],["„Çí"]],pure:!0,fn:function(e,t){return e-t}},"Êéõ":{type:"func",josi:[["„Å´","„Å®"],["„Çí"]],pure:!0,fn:function(e,t){if("number"==typeof e)return e*t;if("string"==typeof e){let n="";for(let r=0;r<parseInt(t);r++)n+=e;return n}if(e instanceof Array){const n=[];for(let r=0;r<parseInt(t);r++)n.push(...e);return n}return e*t}},"ÂÄç":{type:"func",josi:[["„ÅÆ","„Çí"],[""]],pure:!0,fn:function(e,t){return e*t}},"Ââ≤":{type:"func",josi:[["„Çí"],["„Åß"]],pure:!0,fn:function(e,t){return e/t}},"Ââ≤‰Ωô":{type:"func",josi:[["„Çí"],["„Åß"]],pure:!0,fn:function(e,t){return e%t}},"ÂÅ∂Êï∞":{type:"func",josi:[["„Åå"]],pure:!0,fn:function(e){return parseInt(e)%2==0}},"Â•áÊï∞":{type:"func",josi:[["„Åå"]],pure:!0,fn:function(e){return parseInt(e)%2==1}},"‰∫å‰πó":{type:"func",josi:[["„ÅÆ","„Çí"]],pure:!0,fn:function(e){return e*e}},"„Åπ„Åç‰πó":{type:"func",josi:[["„ÅÆ"],["„ÅÆ"]],pure:!0,fn:function(e,t){return Math.pow(e,t)}},"‰ª•‰∏ä":{type:"func",josi:[["„Åå"],[""]],pure:!0,fn:function(e,t){return e>=t}},"‰ª•‰∏ã":{type:"func",josi:[["„Åå"],[""]],pure:!0,fn:function(e,t){return e<=t}},"Êú™Ê∫Ä":{type:"func",josi:[["„Åå"],[""]],pure:!0,fn:function(e,t){return e<t}},"Ë∂Ö":{type:"func",josi:[["„Åå"],[""]],pure:!0,fn:function(e,t){return e>t}},"Á≠â":{type:"func",josi:[["„Åå"],["„Å®"]],pure:!0,fn:function(e,t){return e===t}},"Á≠âÁÑ°":{type:"func",josi:[["„Åå"],["„Å®"]],pure:!0,fn:function(e,t){return e!==t}},"‰∏ÄËá¥":{type:"func",josi:[["„Åå"],["„Å®"]],pure:!0,fn:function(e,t){if("object"==typeof e){return JSON.stringify(e)===JSON.stringify(t)}return e===t}},"‰∏ç‰∏ÄËá¥":{type:"func",josi:[["„Åå"],["„Å®"]],pure:!0,fn:function(e,t){if("object"==typeof e){return JSON.stringify(e)!==JSON.stringify(t)}return e!==t}},"ÁØÑÂõ≤ÂÜÖ":{type:"func",josi:[["„Åå"],["„Åã„Çâ"],["„ÅÆ","„Åæ„Åß„ÅÆ"]],pure:!0,fn:function(e,t,n){return t<=e&&e<=n}},"ÈÄ£Á∂öÂä†ÁÆó":{type:"func",josi:[["„Çí"],["„Å´","„Å®"]],isVariableJosi:!0,pure:!0,fn:function(e,...t){return t.pop(),t.push(e),t.reduce(((e,t)=>e+t))}},"„Åè„Å†„Åï„ÅÑ":{type:"func",josi:[],pure:!0,fn:function(e){e.__reisetu||(e.__reisetu=0),e.__reisetu++},return_none:!0},"„ÅäÈ°ò":{type:"func",josi:[],pure:!0,fn:function(e){e.__reisetu||(e.__reisetu=0),e.__reisetu++},return_none:!0},"„Åß„Åô":{type:"func",josi:[],pure:!0,fn:function(e){e.__reisetu||(e.__reisetu=0),e.__reisetu++},return_none:!0},"ÊãùÂïì":{type:"func",josi:[],pure:!0,fn:function(e){e.__reisetu=0},return_none:!0},"Êï¨ÂÖ∑":{type:"func",josi:[],pure:!0,fn:function(e){e.__reisetu+=100},return_none:!0},"Á§ºÁØÄ„É¨„Éô„É´ÂèñÂæó":{type:"func",josi:[],pure:!0,fn:function(e){return e.__reisetu||(e.__reisetu=0),e.__reisetu}},"JSÂÆüË°å":{type:"func",josi:[["„Çí","„Åß"]],pure:!0,fn:function(src,sys){return eval(src)}},"JS„Ç™„Éñ„Ç∏„Çß„ÇØ„ÉàÂèñÂæó":{type:"func",josi:[["„ÅÆ"]],pure:!1,fn:function(e,t){return t.__findVar(e,null)}},"JSÈñ¢Êï∞ÂÆüË°å":{type:"func",josi:[["„Çí"],["„Åß"]],fn:function(name,args){if("string"==typeof name&&(name=eval(name)),"function"!=typeof name)throw new Error("JSÈñ¢Êï∞ÂèñÂæó„ÅßÂÆüË°å„Åß„Åç„Åæ„Åõ„Çì„ÄÇ");return args instanceof Array||(args=[args]),name.apply(null,args)}},ASYNC:{type:"func",josi:[],asyncFn:!0,pure:!0,fn:async function(){},return_none:!0},"AWAITÂÆüË°å":{type:"func",josi:[["„Çí"],["„Åß"]],pure:!0,asyncFn:!0,fn:async function(e,t,n){if("string"==typeof e&&(e=n.__findFunc(e,"AWAITÂÆüË°å")),!(e instanceof Function))throw new Error("„ÄéAWAITÂÆüË°å„Äè„ÅÆÁ¨¨‰∏ÄÂºïÊï∞„ÅØ„Å™„Åß„Åó„ÅìÈñ¢Êï∞Âêç„ÅãFunctionÂûã„ÅßÊåáÂÆö„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ");return await e(...t)}},"JS„É°„ÇΩ„ÉÉ„ÉâÂÆüË°å":{type:"func",josi:[["„ÅÆ"],["„Çí"],["„Åß"]],fn:function(obj,m,args){if("string"==typeof obj&&(obj=eval(obj)),"object"!=typeof obj)throw new Error("JS„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÇíÂèñÂæó„Åß„Åç„Åæ„Åõ„Çì„Åß„Åó„Åü„ÄÇ");return"function"!=typeof m&&(m=obj[m]),args instanceof Array||(args=[args]),m.apply(obj,args)}},"„Éä„Éá„Ç∑„Ç≥":{type:"func",josi:[["„Çí","„Åß"]],pure:!1,fn:function(e,t){if("ÈùûÂêåÊúü„É¢„Éº„Éâ"===t.__genMode)throw new Error("ÈùûÂêåÊúü„É¢„Éº„Éâ„Åß„ÅØ„Äå„Éä„Éá„Ç∑„Ç≥„Äç„ÅØÂà©Áî®„Åß„Åç„Åæ„Åõ„Çì„ÄÇ");t.__setSysVar("Ë°®Á§∫„É≠„Ç∞",""),t.__self.runEx(e,t.__modName,{resetEnv:!1,resetLog:!0});const n=t.__getSysVar("Ë°®Á§∫„É≠„Ç∞")+"";return n&&t.logger.trace(n),n}},"„Éä„Éá„Ç∑„Ç≥Á∂ö":{type:"func",josi:[["„Çí","„Åß"]],fn:function(e,t){if("ÈùûÂêåÊúü„É¢„Éº„Éâ"===t.__genMode)throw new Error("ÈùûÂêåÊúü„É¢„Éº„Éâ„Åß„ÅØ„Äå„Éä„Éá„Ç∑„Ç≥Á∂ö„Äç„ÅØÂà©Áî®„Åß„Åç„Åæ„Åõ„Çì„ÄÇ");t.__self.runEx(e,t.__modName,{resetEnv:!1,resetAll:!1});const n=t.__getSysVar("Ë°®Á§∫„É≠„Ç∞")+"";return n&&t.logger.trace(n),n}},"ÂÆüË°å":{type:"func",josi:[["„Çí","„Å´","„Åß"]],pure:!1,fn:function(e,t){if("function"==typeof e)return e(t);if("string"==typeof e){const n=t.__findFunc(e,"ÂÆüË°å");if("function"==typeof n)return n(t)}return e}},"ÂÆüË°åÊôÇÈñìË®àÊ∏¨":{type:"func",josi:[["„ÅÆ"]],pure:!1,fn:function(e,t){if("string"==typeof e&&(e=t.__findFunc(e,"ÂÆüË°åÊôÇÈñìË®àÊ∏¨")),performance&&performance.now){const n=performance.now();e(t);return performance.now()-n}{const n=Date.now();e(t);return Date.now()-n}}},"ÁµÇ":{type:"func",josi:[],pure:!0,fn:function(e){if(e.__setSysVar("forceClose",!0),!e.__getSysVar("useDebug"))throw new Error("__ÁµÇ„Çè„Çã__")}},"Â§âÊï∞ÂûãÁ¢∫Ë™ç":{type:"func",josi:[["„ÅÆ"]],pure:!0,fn:function(e){return typeof e}},TYPEOF:{type:"func",josi:[["„ÅÆ"]],pure:!0,fn:function(e){return typeof e}},"ÊñáÂ≠óÂàóÂ§âÊèõ":{type:"func",josi:[["„Çí"]],pure:!0,fn:function(e){return String(e)}},TOSTR:{type:"func",josi:[["„Çí"]],pure:!0,fn:function(e){return String(e)}},"Êï¥Êï∞Â§âÊèõ":{type:"func",josi:[["„Çí"]],pure:!0,fn:function(e){return parseInt(e)}},TOINT:{type:"func",josi:[["„Çí"]],pure:!0,fn:function(e){return parseInt(e)}},"ÂÆüÊï∞Â§âÊèõ":{type:"func",josi:[["„Çí"]],pure:!0,fn:function(e){return parseFloat(e)}},TOFLOAT:{type:"func",josi:[["„Çí"]],pure:!0,fn:function(e){return parseFloat(e)}},INT:{type:"func",josi:[["„ÅÆ"]],pure:!0,fn:function(e){return parseInt(e)}},FLOAT:{type:"func",josi:[["„ÅÆ"]],pure:!0,fn:function(e){return parseFloat(e)}},"NANÂà§ÂÆö":{type:"func",josi:[["„Çí"]],pure:!0,fn:function(e){return isNaN(e)}},"ÈùûÊï∞Âà§ÂÆö":{type:"func",josi:[["„Çí"]],pure:!0,fn:function(e){return Number.isNaN(e)}},HEX:{type:"func",josi:[["„ÅÆ"]],pure:!0,fn:function(e){return parseInt(e).toString(16)}},"ÈÄ≤Êï∞Â§âÊèõ":{type:"func",josi:[["„Çí","„ÅÆ"],[""]],pure:!0,fn:function(e,t){return parseInt(e).toString(t)}},"‰∫åÈÄ≤":{type:"func",josi:[["„Çí","„ÅÆ","„Åã„Çâ"]],pure:!0,fn:function(e){return parseInt(e).toString(2)}},"‰∫åÈÄ≤Ë°®Á§∫":{type:"func",josi:[["„Çí","„ÅÆ","„Åã„Çâ"]],pure:!0,fn:function(e,t){const n=parseInt(e).toString(2);t.__exec("Ë°®Á§∫",[n,t])}},RGB:{type:"func",josi:[["„Å®"],["„ÅÆ"],["„Åß"]],pure:!0,fn:function(e,t,n){const r=e=>{const t="00"+parseInt(""+e).toString(16);return t.substring(t.length-2,t.length)};return"#"+r(e)+r(t)+r(n)}},"Ë´ñÁêÜOR":{type:"func",josi:[["„Å®"],["„ÅÆ"]],pure:!0,fn:function(e,t){return e||t}},"Ë´ñÁêÜAND":{type:"func",josi:[["„Å®"],["„ÅÆ"]],pure:!0,fn:function(e,t){return e&&t}},"Ë´ñÁêÜNOT":{type:"func",josi:[["„ÅÆ"]],pure:!0,fn:function(e){return e?0:1}},OR:{type:"func",josi:[["„Å®"],["„ÅÆ"]],pure:!0,fn:function(e,t){return e|t}},AND:{type:"func",josi:[["„Å®"],["„ÅÆ"]],pure:!0,fn:function(e,t){return e&t}},XOR:{type:"func",josi:[["„Å®"],["„ÅÆ"]],pure:!0,fn:function(e,t){return e^t}},NOT:{type:"func",josi:[["„ÅÆ"]],pure:!0,fn:function(e){return~e}},SHIFT_L:{type:"func",josi:[["„Çí"],["„Åß"]],pure:!0,fn:function(e,t){return e<<t}},SHIFT_R:{type:"func",josi:[["„Çí"],["„Åß"]],pure:!0,fn:function(e,t){return e>>t}},SHIFT_UR:{type:"func",josi:[["„Çí"],["„Åß"]],pure:!0,fn:function(e,t){return e>>>t}},"ÊñáÂ≠óÊï∞":{type:"func",josi:[["„ÅÆ"]],pure:!0,fn:function(e){return Array.from?Array.from(e).length:String(e).length}},"‰ΩïÊñáÂ≠óÁõÆ":{type:"func",josi:[["„Åß","„ÅÆ"],["„Åå"]],pure:!0,fn:function(e,t){return String(e).indexOf(t)+1}},CHR:{type:"func",josi:[["„ÅÆ"]],pure:!0,fn:function(e){return String.fromCodePoint?String.fromCodePoint(e):String.fromCharCode(e)}},ASC:{type:"func",josi:[["„ÅÆ"]],pure:!0,fn:function(e){return String.prototype.codePointAt?String(e).codePointAt(0):String(e).charCodeAt(0)}},"ÊñáÂ≠óÊåøÂÖ•":{type:"func",josi:[["„Åß","„ÅÆ"],["„Å´","„Å∏"],["„Çí"]],pure:!0,fn:function(e,t,n){t<=0&&(t=1);const r=String(e);return r.substring(0,t-1)+n+r.substring(t-1)}},"ÊñáÂ≠óÊ§úÁ¥¢":{type:"func",josi:[["„Åß","„ÅÆ"],["„Åã„Çâ"],["„Çí"]],pure:!0,fn:function(e,t,n){let r=String(e);r=r.substring(t);const s=r.indexOf(n);return-1===s?0:s+1+t}},"ËøΩÂä†":{type:"func",josi:[["„Åß","„Å´","„Å∏"],["„Çí"]],pure:!0,fn:function(e,t){return e instanceof Array?(e.push(t),e):String(e)+String(t)}},"‰∏ÄË°åËøΩÂä†":{type:"func",josi:[["„Åß","„Å´","„Å∏"],["„Çí"]],pure:!0,fn:function(e,t){return e instanceof Array?(e.push(t),e):String(e)+String(t)+"\n"}},"ÊñáÂ≠óÂàóÂàÜËß£":{type:"func",josi:[["„Çí","„ÅÆ","„Åß"]],pure:!0,fn:function(e){return Array.from?Array.from(e):String(e).split("")}},"„É™„Éï„É¨„Ç§„É≥":{type:"func",josi:[["„Çí","„ÅÆ"],["„Åß"]],pure:!0,fn:function(e,t){let n="";for(let r=0;r<t;r++)n+=String(e);return n}},"Âá∫ÁèæÂõûÊï∞":{type:"func",josi:[["„Åß"],["„ÅÆ"]],pure:!0,fn:function(e,t){return(e=""+e).split(t=""+t).length-1}},MID:{type:"func",josi:[["„Åß","„ÅÆ"],["„Åã„Çâ"],["„Çí"]],pure:!0,fn:function(e,t,n){return n=n||1,String(e).substring(t-1,t+n-1)}},"ÊñáÂ≠óÊäúÂá∫":{type:"func",josi:[["„Åß","„ÅÆ"],["„Åã„Çâ"],["„Çí",""]],pure:!0,fn:function(e,t,n){return n=n||1,String(e).substring(t-1,t+n-1)}},LEFT:{type:"func",josi:[["„ÅÆ","„Åß"],["„Å†„Åë"]],pure:!0,fn:function(e,t){return String(e).substring(0,t)}},"ÊñáÂ≠óÂ∑¶ÈÉ®ÂàÜ":{type:"func",josi:[["„ÅÆ","„Åß"],["„Å†„Åë",""]],pure:!0,fn:function(e,t){return String(e).substring(0,t)}},RIGHT:{type:"func",josi:[["„ÅÆ","„Åß"],["„Å†„Åë"]],pure:!0,fn:function(e,t){return(e=""+e).substring(e.length-t,e.length)}},"ÊñáÂ≠óÂè≥ÈÉ®ÂàÜ":{type:"func",josi:[["„ÅÆ","„Åß"],["„Å†„Åë",""]],pure:!0,fn:function(e,t){return(e=""+e).substring(e.length-t,e.length)}},"Âå∫Âàá":{type:"func",josi:[["„ÅÆ","„Çí"],["„Åß"]],pure:!0,fn:function(e,t){return(""+e).split(""+t)}},"ÊñáÂ≠óÂàóÂàÜÂâ≤":{type:"func",josi:[["„Çí"],["„Åß"]],pure:!0,fn:function(e,t){const n=(e=""+e).indexOf(t=""+t);return n<0?[e]:[e.substring(0,n),e.substring(n+t.length)]}},"ÂàáÂèñ":{type:"func",josi:[["„Åã„Çâ","„ÅÆ"],["„Åæ„Åß","„Çí"]],pure:!0,fn:function(e,t,n){const r=(e=String(e)).indexOf(t);return r<0?(n.__setSysVar("ÂØæË±°",""),e):(n.__setSysVar("ÂØæË±°",e.substring(r+t.length)),e.substring(0,r))}},"ÊñáÂ≠óÂâäÈô§":{type:"func",josi:[["„ÅÆ"],["„Åã„Çâ"],["„Å†„Åë","„Çí",""]],pure:!0,fn:function(e,t,n){return(e=""+e).substring(0,t-1)+e.substring(t-1+n)}},"ÁΩÆÊèõ":{type:"func",josi:[["„ÅÆ","„Åß"],["„Çí","„Åã„Çâ"],["„Å´","„Å∏"]],pure:!0,fn:function(e,t,n){return String(e).split(t).join(n)}},"ÂçòÁΩÆÊèõ":{type:"func",josi:[["„ÅÆ","„Åß"],["„Çí"],["„Å´","„Å∏"]],pure:!0,fn:function(e,t,n){return String(e).replace(t,n)}},"„Éà„É™„É†":{type:"func",josi:[["„ÅÆ","„Çí"]],pure:!0,fn:function(e){return e=String(e).replace(/^\s+/,"").replace(/\s+$/,"")}},"Á©∫ÁôΩÈô§Âéª":{type:"func",josi:[["„ÅÆ","„Çí"]],pure:!0,fn:function(e){return e=String(e).replace(/^\s+/,"").replace(/\s+$/,"")}},"Â§ßÊñáÂ≠óÂ§âÊèõ":{type:"func",josi:[["„ÅÆ","„Çí"]],pure:!0,fn:function(e){return String(e).toUpperCase()}},"Â∞èÊñáÂ≠óÂ§âÊèõ":{type:"func",josi:[["„ÅÆ","„Çí"]],pure:!0,fn:function(e){return String(e).toLowerCase()}},"Âπ≥‰ªÆÂêçÂ§âÊèõ":{type:"func",josi:[["„ÅÆ","„Çí"]],pure:!0,fn:function(e){return String(""+e).replace(/[\u30a1-\u30f6]/g,(function(e){const t=e.charCodeAt(0)-96;return String.fromCharCode(t)}))}},"„Ç´„Çø„Ç´„ÉäÂ§âÊèõ":{type:"func",josi:[["„ÅÆ","„Çí"]],pure:!0,fn:function(e){return String(""+e).replace(/[\u3041-\u3096]/g,(function(e){const t=e.charCodeAt(0)+96;return String.fromCharCode(t)}))}},"Ëã±Êï∞ÂÖ®ËßíÂ§âÊèõ":{type:"func",josi:[["„ÅÆ","„Çí"]],pure:!0,fn:function(e){return String(e).replace(/[A-Za-z0-9]/g,(function(e){return String.fromCharCode(e.charCodeAt(0)+65248)}))}},"Ëã±Êï∞ÂçäËßíÂ§âÊèõ":{type:"func",josi:[["„ÅÆ","„Çí"]],pure:!0,fn:function(e){return String(e).replace(/[Ôº°-Ôº∫ÔΩÅ-ÔΩöÔºê-Ôºô]/g,(function(e){return String.fromCharCode(e.charCodeAt(0)-65248)}))}},"Ëã±Êï∞Ë®òÂè∑ÂÖ®ËßíÂ§âÊèõ":{type:"func",josi:[["„ÅÆ","„Çí"]],pure:!0,fn:function(e){return String(e).replace(/[\x20-\x7F]/g,(function(e){return String.fromCharCode(e.charCodeAt(0)+65248)}))}},"Ëã±Êï∞Ë®òÂè∑ÂçäËßíÂ§âÊèõ":{type:"func",josi:[["„ÅÆ","„Çí"]],pure:!0,fn:function(e){return String(e).replace(/[\uFF00-\uFF5F]/g,(function(e){return String.fromCharCode(e.charCodeAt(0)-65248)}))}},"„Ç´„Çø„Ç´„ÉäÂÖ®ËßíÂ§âÊèõ":{type:"func",josi:[["„ÅÆ","„Çí"]],pure:!0,fn:function(e,t){const n=t.__getSysVar("ÂÖ®Ëßí„Ç´„Éä‰∏ÄË¶ß"),r=t.__getSysVar("ÂçäËßí„Ç´„Éä‰∏ÄË¶ß"),s=t.__getSysVar("ÂÖ®Ëßí„Ç´„ÉäÊøÅÈü≥‰∏ÄË¶ß"),o=t.__getSysVar("ÂçäËßí„Ç´„ÉäÊøÅÈü≥‰∏ÄË¶ß");let i="",u=0;for(;u<e.length;){const t=e.substring(u,u+2),c=o.indexOf(t);if(c>=0){i+=s.charAt(c/2),u+=2;continue}const a=e.charAt(u),f=r.indexOf(a);f>=0?(i+=n.charAt(f),u++):(i+=a,u++)}return i}},"„Ç´„Çø„Ç´„ÉäÂçäËßíÂ§âÊèõ":{type:"func",josi:[["„ÅÆ","„Çí"]],pure:!0,fn:function(e,t){const n=t.__getSysVar("ÂÖ®Ëßí„Ç´„Éä‰∏ÄË¶ß"),r=t.__getSysVar("ÂçäËßí„Ç´„Éä‰∏ÄË¶ß"),s=t.__getSysVar("ÂÖ®Ëßí„Ç´„ÉäÊøÅÈü≥‰∏ÄË¶ß"),o=t.__getSysVar("ÂçäËßí„Ç´„ÉäÊøÅÈü≥‰∏ÄË¶ß");return e.split("").map((e=>{const t=n.indexOf(e);if(t>=0)return r.charAt(t);const i=s.indexOf(e);return i>=0?o.substring(2*i,2*i+2):e})).join("")}},"ÂÖ®ËßíÂ§âÊèõ":{type:"func",josi:[["„ÅÆ","„Çí"]],pure:!1,fn:function(e,t){let n=e;return n=t.__exec("„Ç´„Çø„Ç´„ÉäÂÖ®ËßíÂ§âÊèõ",[n,t]),n=t.__exec("Ëã±Êï∞Ë®òÂè∑ÂÖ®ËßíÂ§âÊèõ",[n,t]),n}},"ÂçäËßíÂ§âÊèõ":{type:"func",josi:[["„ÅÆ","„Çí"]],pure:!1,fn:function(e,t){let n=e;return n=t.__exec("„Ç´„Çø„Ç´„ÉäÂçäËßíÂ§âÊèõ",[n,t]),n=t.__exec("Ëã±Êï∞Ë®òÂè∑ÂçäËßíÂ§âÊèõ",[n,t]),n}},"ÂÖ®Ëßí„Ç´„Éä‰∏ÄË¶ß":{type:"const",value:"„Ç¢„Ç§„Ç¶„Ç®„Ç™„Ç´„Ç≠„ÇØ„Ç±„Ç≥„Çµ„Ç∑„Çπ„Çª„ÇΩ„Çø„ÉÅ„ÉÑ„ÉÜ„Éà„Éä„Éã„Éå„Éç„Éé„Éè„Éí„Éï„Éò„Éõ„Éû„Éü„É†„É°„É¢„É§„É¶„É®„É©„É™„É´„É¨„É≠„ÉØ„É≤„É≥„Ç°„Ç£„Ç•„Çß„Ç©„É£„É•„Éß„ÉÉ„ÄÅ„ÄÇ„Éº„Äå„Äç"},"ÂÖ®Ëßí„Ç´„ÉäÊøÅÈü≥‰∏ÄË¶ß":{type:"const",value:"„Ç¨„ÇÆ„Ç∞„Ç≤„Ç¥„Ç∂„Ç∏„Ç∫„Çº„Çæ„ÉÄ„ÉÇ„ÉÖ„Éá„Éâ„Éê„Éì„Éñ„Éô„Éú„Éë„Éî„Éó„Éö„Éù"},"ÂçäËßí„Ç´„Éä‰∏ÄË¶ß":{type:"const",value:"ÔΩ±ÔΩ≤ÔΩ≥ÔΩ¥ÔΩµÔΩ∂ÔΩ∑ÔΩ∏ÔΩπÔΩ∫ÔΩªÔΩºÔΩΩÔΩæÔΩøÔæÄÔæÅÔæÇÔæÉÔæÑÔæÖÔæÜÔæáÔæàÔæâÔæäÔæãÔæåÔæçÔæéÔæèÔæêÔæëÔæíÔæìÔæîÔæïÔæñÔæóÔæòÔæôÔæöÔæõÔæúÔΩ¶ÔæùÔΩßÔΩ®ÔΩ©ÔΩ™ÔΩ´ÔΩ¨ÔΩ≠ÔΩÆÔΩØÔΩ§ÔΩ°ÔΩ∞ÔΩ¢ÔΩ£ÔæûÔæü"},"ÂçäËßí„Ç´„ÉäÊøÅÈü≥‰∏ÄË¶ß":{type:"const",value:"ÔΩ∂ÔæûÔΩ∑ÔæûÔΩ∏ÔæûÔΩπÔæûÔΩ∫ÔæûÔΩªÔæûÔΩºÔæûÔΩΩÔæûÔΩæÔæûÔΩøÔæûÔæÄÔæûÔæÅÔæûÔæÇÔæûÔæÉÔæûÔæÑÔæûÔæäÔæûÔæãÔæûÔæåÔæûÔæçÔæûÔæéÔæûÔæäÔæüÔæãÔæüÔæåÔæüÔæçÔæüÔæéÔæü"},"JSON„Ç®„É≥„Ç≥„Éº„Éâ":{type:"func",josi:[["„Çí","„ÅÆ"]],pure:!0,fn:function(e){return JSON.stringify(e)}},"JSON„Ç®„É≥„Ç≥„Éº„ÉâÊï¥ÂΩ¢":{type:"func",josi:[["„Çí","„ÅÆ"]],pure:!0,fn:function(e){return JSON.stringify(e,null,2)}},"JSON„Éá„Ç≥„Éº„Éâ":{type:"func",josi:[["„Çí","„ÅÆ","„Åã„Çâ"]],pure:!0,fn:function(e){return JSON.parse(e)}},"Ê≠£Ë¶èË°®Áèæ„Éû„ÉÉ„ÉÅ":{type:"func",josi:[["„Çí","„Åå"],["„Åß","„Å´"]],pure:!0,fn:function(e,t,n){let r;const s=(""+t).match(/^\/(.+)\/([a-zA-Z]*)$/);r=null===s?new RegExp(t,"g"):new RegExp(s[1],s[2]);const o=n.__getSysVar("ÊäΩÂá∫ÊñáÂ≠óÂàó");o.splice(0,o.length);const i=String(e).match(r);let u=i;if(r.global);else if(i&&i.length>0){u=i[0];for(let e=1;e<i.length;e++)o[e-1]=i[e]}return u}},"ÊäΩÂá∫ÊñáÂ≠óÂàó":{type:"const",value:[]},"Ê≠£Ë¶èË°®ÁèæÁΩÆÊèõ":{type:"func",josi:[["„ÅÆ"],["„Çí","„Åã„Çâ"],["„Åß","„Å´","„Å∏"]],pure:!0,fn:function(e,t,n){let r;const s=t.match(/^\/(.+)\/([a-zA-Z]*)/);return r=null===s?new RegExp(t,"g"):new RegExp(s[1],s[2]),String(e).replace(r,n)}},"Ê≠£Ë¶èË°®ÁèæÂå∫Âàá":{type:"func",josi:[["„Çí"],["„Åß"]],pure:!0,fn:function(e,t){let n;const r=t.match(/^\/(.+)\/([a-zA-Z]*)/);return n=null===r?new RegExp(t,"g"):new RegExp(r[1],r[2]),String(e).split(n)}},"ÈÄöË≤®ÂΩ¢Âºè":{type:"func",josi:[["„Çí","„ÅÆ"]],pure:!0,fn:function(e){return String(e).replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,")}},"„Çº„É≠Âüã":{type:"func",josi:[["„Çí"],["„Åß"]],pure:!0,fn:function(e,t){e=String(e);let n="0";for(let e=0;e<t;e++)n+="0";(t=parseInt(t))<e.length&&(t=e.length);const r=n+String(e);return r.substring(r.length-t,r.length)}},"Á©∫ÁôΩÂüã":{type:"func",josi:[["„Çí"],["„Åß"]],pure:!0,fn:function(e,t){e=String(e);let n=" ";for(let e=0;e<t;e++)n+=" ";(t=parseInt(t))<e.length&&(t=e.length);const r=n+String(e);return r.substring(r.length-t,r.length)}},"„Åã„Å™„ÅãÂà§ÂÆö":{type:"func",josi:[["„Çí","„ÅÆ","„Åå"]],pure:!0,fn:function(e){const t=String(e).charCodeAt(0);return t>=12353&&t<=12447}},"„Ç´„Çø„Ç´„ÉäÂà§ÂÆö":{type:"func",josi:[["„Çí","„ÅÆ","„Åå"]],pure:!0,fn:function(e){const t=String(e).charCodeAt(0);return t>=12449&&t<=12538}},"Êï∞Â≠óÂà§ÂÆö":{type:"func",josi:[["„Çí","„Åå"]],pure:!0,fn:function(e){const t=String(e).charAt(0);return t>="0"&&t<="9"||t>="Ôºê"&&t<="Ôºô"}},"Êï∞ÂàóÂà§ÂÆö":{type:"func",josi:[["„Çí","„Åå"]],pure:!0,fn:function(e){return null!==String(e).match(/^[+\-ÔºãÔºç]?([0-9Ôºê-Ôºô]*)(([.Ôºé][0-9Ôºê-Ôºô]+)?|([.Ôºé][0-9Ôºê-Ôºô]+[eEÔΩÖÔº•][+\-ÔºãÔºç]?[0-9Ôºê-Ôºô]+)?)$/)}},"ÈÖçÂàóÁµêÂêà":{type:"func",josi:[["„Çí"],["„Åß"]],pure:!0,fn:function(e,t){if(e instanceof Array)return e.join(""+t);return String(e).split("\n").join(""+t)}},"ÈÖçÂàóÊ§úÁ¥¢":{type:"func",josi:[["„ÅÆ","„Åã„Çâ"],["„Çí"]],pure:!0,fn:function(e,t){return e instanceof Array?e.indexOf(t):-1}},"ÈÖçÂàóË¶ÅÁ¥†Êï∞":{type:"func",josi:[["„ÅÆ"]],pure:!0,fn:function(e){return e instanceof Array?e.length:e instanceof Object?Object.keys(e).length:"string"==typeof e?String(e).length:1}},"Ë¶ÅÁ¥†Êï∞":{type:"func",josi:[["„ÅÆ"]],pure:!0,fn:function(e,t){return t.__exec("ÈÖçÂàóË¶ÅÁ¥†Êï∞",[e])}},LEN:{type:"func",josi:[["„ÅÆ"]],pure:!0,fn:function(e,t){return t.__exec("ÈÖçÂàóË¶ÅÁ¥†Êï∞",[e])}},"ÈÖçÂàóÊåøÂÖ•":{type:"func",josi:[["„ÅÆ"],["„Å´","„Å∏"],["„Çí"]],pure:!0,fn:function(e,t,n){if(e instanceof Array)return e.splice(t,0,n);throw new Error("„ÄéÈÖçÂàóÊåøÂÖ•„Äè„ÅßÈÖçÂàó‰ª•Â§ñ„ÅÆË¶ÅÁ¥†„Å∏„ÅÆÊåøÂÖ•„ÄÇ")}},"ÈÖçÂàó‰∏ÄÊã¨ÊåøÂÖ•":{type:"func",josi:[["„ÅÆ"],["„Å´","„Å∏"],["„Çí"]],pure:!0,fn:function(e,t,n){if(e instanceof Array&&n instanceof Array){for(let r=0;r<n.length;r++)e.splice(t+r,0,n[r]);return e}throw new Error("„ÄéÈÖçÂàó‰∏ÄÊã¨ÊåøÂÖ•„Äè„ÅßÈÖçÂàó‰ª•Â§ñ„ÅÆË¶ÅÁ¥†„Å∏„ÅÆÊåøÂÖ•„ÄÇ")}},"ÈÖçÂàó„ÇΩ„Éº„Éà":{type:"func",josi:[["„ÅÆ","„Çí"]],pure:!0,fn:function(e){if(e instanceof Array)return e.sort();throw new Error("„ÄéÈÖçÂàó„ÇΩ„Éº„Éà„Äè„ÅßÈÖçÂàó‰ª•Â§ñ„ÅåÊåáÂÆö„Åï„Çå„Åæ„Åó„Åü„ÄÇ")}},"ÈÖçÂàóÊï∞ÂÄ§Â§âÊèõ":{type:"func",josi:[["„ÅÆ","„Çí"]],pure:!0,fn:function(e){if(e instanceof Array){for(let t=0;t<e.length;t++)e[t]=parseFloat(e[t]);return e}throw new Error("„ÄéÈÖçÂàóÊï∞ÂÄ§Â§âÊèõ„Äè„ÅßÈÖçÂàó‰ª•Â§ñ„ÅåÊåáÂÆö„Åï„Çå„Åæ„Åó„Åü„ÄÇ")}},"ÈÖçÂàóÊï∞ÂÄ§„ÇΩ„Éº„Éà":{type:"func",josi:[["„ÅÆ","„Çí"]],pure:!0,fn:function(e){if(e instanceof Array)return e.sort(((e,t)=>parseFloat(e)-parseFloat(t)));throw new Error("„ÄéÈÖçÂàóÊï∞ÂÄ§„ÇΩ„Éº„Éà„Äè„ÅßÈÖçÂàó‰ª•Â§ñ„ÅåÊåáÂÆö„Åï„Çå„Åæ„Åó„Åü„ÄÇ")}},"ÈÖçÂàó„Ç´„Çπ„Çø„É†„ÇΩ„Éº„Éà":{type:"func",josi:[["„Åß"],["„ÅÆ","„Çí"]],pure:!1,fn:function(e,t,n){let r=e;if("string"==typeof e&&(r=n.__findFunc(e,"ÈÖçÂàó„Ç´„Çπ„Çø„É†„ÇΩ„Éº„Éà")),t instanceof Array)return t.sort(r);throw new Error("„ÄéÈÖçÂàó„Ç´„Çπ„Çø„É†„ÇΩ„Éº„Éà„Äè„ÅßÈÖçÂàó‰ª•Â§ñ„ÅåÊåáÂÆö„Åï„Çå„Åæ„Åó„Åü„ÄÇ")}},"ÈÖçÂàóÈÄÜÈ†Ü":{type:"func",josi:[["„ÅÆ","„Çí"]],pure:!0,fn:function(e){if(e instanceof Array)return e.reverse();throw new Error("„ÄéÈÖçÂàó„ÇΩ„Éº„Éà„Äè„ÅßÈÖçÂàó‰ª•Â§ñ„ÅåÊåáÂÆö„Åï„Çå„Åæ„Åó„Åü„ÄÇ")}},"ÈÖçÂàó„Ç∑„É£„ÉÉ„Éï„É´":{type:"func",josi:[["„ÅÆ","„Çí"]],pure:!0,fn:function(e){if(e instanceof Array){for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1)),r=e[t];e[t]=e[n],e[n]=r}return e}throw new Error("„ÄéÈÖçÂàó„Ç∑„É£„ÉÉ„Éï„É´„Äè„ÅßÈÖçÂàó‰ª•Â§ñ„ÅåÊåáÂÆö„Åï„Çå„Åæ„Åó„Åü„ÄÇ")}},"ÈÖçÂàóÂâäÈô§":{type:"func",josi:[["„ÅÆ","„Åã„Çâ"],["„Çí"]],pure:!1,fn:function(e,t,n){return n.__exec("ÈÖçÂàóÂàáÂèñ",[e,t,n])}},"ÈÖçÂàóÂàáÂèñ":{type:"func",josi:[["„ÅÆ","„Åã„Çâ"],["„Çí"]],pure:!0,fn:function(e,t){if(e instanceof Array){const n=e.splice(t,1);return n instanceof Array?n[0]:null}if(!(e instanceof Object&&"string"==typeof t))throw new Error("„ÄéÈÖçÂàóÂàáÂèñ„Äè„ÅßÈÖçÂàó‰ª•Â§ñ„ÇíÊåáÂÆö„ÄÇ");if(e[t]){const n=e[t];return delete e[t],n}}},"ÈÖçÂàóÂèñÂá∫":{type:"func",josi:[["„ÅÆ"],["„Åã„Çâ"],["„Çí"]],pure:!0,fn:function(e,t,n){if(e instanceof Array)return e.splice(t,n);throw new Error("„ÄéÈÖçÂàóÂèñÂá∫„Äè„ÅßÈÖçÂàó‰ª•Â§ñ„ÇíÊåáÂÆö„ÄÇ")}},"ÈÖçÂàó„Éù„ÉÉ„Éó":{type:"func",josi:[["„ÅÆ","„Åã„Çâ"]],pure:!0,fn:function(e){if(e instanceof Array)return e.pop();throw new Error("„ÄéÈÖçÂàó„Éù„ÉÉ„Éó„Äè„ÅßÈÖçÂàó‰ª•Â§ñ„ÅÆÂá¶ÁêÜ„ÄÇ")}},"ÈÖçÂàó„Éó„ÉÉ„Ç∑„É•":{type:"func",josi:[["„Å´","„Å∏"],["„Çí"]],pure:!0,fn:function(e,t,n){return n.__exec("ÈÖçÂàóËøΩÂä†",[e,t,n])}},"ÈÖçÂàóËøΩÂä†":{type:"func",josi:[["„Å´","„Å∏"],["„Çí"]],pure:!0,fn:function(e,t){if(e instanceof Array)return e.push(t),e;throw new Error("„ÄéÈÖçÂàóËøΩÂä†„Äè„ÅßÈÖçÂàó‰ª•Â§ñ„ÅÆÂá¶ÁêÜ„ÄÇ")}},"ÈÖçÂàóË§áË£Ω":{type:"func",josi:[["„Çí"]],pure:!0,fn:function(e){return JSON.parse(JSON.stringify(e))}},"ÈÖçÂàóË∂≥":{type:"func",josi:[["„Å´","„Å∏","„Å®"],["„Çí"]],pure:!0,fn:function(e,t){return e instanceof Array?e.concat(t):JSON.parse(JSON.stringify(e))}},"ÈÖçÂàóÊúÄÂ§ßÂÄ§":{type:"func",josi:[["„ÅÆ"]],pure:!0,fn:function(e){return e.reduce(((e,t)=>Math.max(e,t)))}},"ÈÖçÂàóÊúÄÂ∞èÂÄ§":{type:"func",josi:[["„ÅÆ"]],pure:!0,fn:function(e){return e.reduce(((e,t)=>Math.min(e,t)))}},"ÈÖçÂàóÂêàË®à":{type:"func",josi:[["„ÅÆ"]],pure:!0,fn:function(e){if(e instanceof Array){let t=0;return e.forEach((e=>{const n=parseFloat(e);isNaN(n)||(t+=n)})),t}throw new Error("„ÄéÈÖçÂàóÂêàË®à„Äè„ÅßÈÖçÂàóÂ§âÊï∞‰ª•Â§ñ„ÅÆÂÄ§„ÅåÊåáÂÆö„Åï„Çå„Åæ„Åó„Åü„ÄÇ")}},"ÈÖçÂàóÂÖ•Êõø":{type:"func",josi:[["„ÅÆ"],["„Å®"],["„Çí"]],pure:!0,fn:function(e,t,n){if(!(e instanceof Array))throw new Error("„ÄéÈÖçÂàóÂÖ•Êõø„Äè„ÅÆÁ¨¨1ÂºïÊï∞„Å´„ÅØÈÖçÂàó„ÇíÊåáÂÆö„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ");const r=e[t];return e[t]=e[n],e[n]=r,e}},"ÈÖçÂàóÈÄ£Áï™‰ΩúÊàê":{type:"func",josi:[["„Åã„Çâ"],["„Åæ„Åß„ÅÆ","„Åæ„Åß","„ÅÆ"]],pure:!0,fn:function(e,t){const n=[];for(let r=e;r<=t;r++)n.push(r);return n}},"ÈÖçÂàóË¶ÅÁ¥†‰ΩúÊàê":{type:"func",josi:[["„Çí"],["„Å†„Åë"]],pure:!0,fn:function(e,t){const n=[];for(let r=0;r<t;r++)n.push(e);return n}},"ÈÖçÂàóÈñ¢Êï∞ÈÅ©Áî®":{type:"func",josi:[["„Çí"],["„Å∏","„Å´"]],pure:!0,fn:function(e,t,n){let r=e;"string"==typeof e&&(r=n.__findFunc(e,"ÈÖçÂàóÈñ¢Êï∞ÈÅ©Áî®"));const s=[];for(const e of t)s.push(r(e));return s}},"ÈÖçÂàó„Éû„ÉÉ„Éó":{type:"func",josi:[["„Çí"],["„Å∏","„Å´"]],pure:!0,fn:function(e,t,n){return n.__exec("ÈÖçÂàóÈñ¢Êï∞ÈÅ©Áî®",[e,t,n])}},"ÈÖçÂàó„Éï„Ç£„É´„Çø":{type:"func",josi:[["„Åß","„ÅÆ"],["„Çí","„Å´„Å§„ÅÑ„Å¶"]],pure:!0,fn:function(e,t,n){let r=e;"string"==typeof e&&(r=n.__findFunc(e,"ÈÖçÂàó„Éï„Ç£„É´„Çø"));const s=[];for(const e of t)r(e)&&s.push(e);return s}},"Ë°®„ÇΩ„Éº„Éà":{type:"func",josi:[["„ÅÆ"],["„Çí"]],pure:!0,fn:function(e,t){if(!(e instanceof Array))throw new Error("„ÄéË°®„ÇΩ„Éº„Éà„Äè„Å´„ÅØÈÖçÂàó„ÇíÊåáÂÆö„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ");return e.sort(((e,n)=>{const r=e[t],s=n[t];return r===s?0:r<s?-1:1})),e}},"Ë°®Êï∞ÂÄ§„ÇΩ„Éº„Éà":{type:"func",josi:[["„ÅÆ"],["„Çí"]],pure:!0,fn:function(e,t){if(!(e instanceof Array))throw new Error("„ÄéË°®Êï∞ÂÄ§„ÇΩ„Éº„Éà„Äè„Å´„ÅØÈÖçÂàó„ÇíÊåáÂÆö„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ");return e.sort(((e,n)=>e[t]-n[t])),e}},"Ë°®„Éî„ÉÉ„ÇØ„Ç¢„ÉÉ„Éó":{type:"func",josi:[["„ÅÆ"],["„Åã„Çâ"],["„Çí","„Åß"]],pure:!0,fn:function(e,t,n){if(!(e instanceof Array))throw new Error("„ÄéË°®„Éî„ÉÉ„ÇØ„Ç¢„ÉÉ„Éó„Äè„Å´„ÅØÈÖçÂàó„ÇíÊåáÂÆö„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ");return e.filter((e=>String(e[t]).indexOf(n)>=0))}},"Ë°®ÂÆåÂÖ®‰∏ÄËá¥„Éî„ÉÉ„ÇØ„Ç¢„ÉÉ„Éó":{type:"func",josi:[["„ÅÆ"],["„Åã„Çâ"],["„Çí","„Åß"]],pure:!0,fn:function(e,t,n){if(!(e instanceof Array))throw new Error("„ÄéË°®ÂÆåÂÖ®„Éî„ÉÉ„ÇØ„Ç¢„ÉÉ„Éó„Äè„Å´„ÅØÈÖçÂàó„ÇíÊåáÂÆö„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ");return e.filter((e=>e[t]===n))}},"Ë°®Ê§úÁ¥¢":{type:"func",josi:[["„ÅÆ"],["„Åß","„Å´"],["„Åã„Çâ"],["„Çí"]],pure:!0,fn:function(e,t,n,r){if(!(e instanceof Array))throw new Error("„ÄéË°®Ê§úÁ¥¢„Äè„Å´„ÅØÈÖçÂàó„ÇíÊåáÂÆö„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ");for(let s=n;s<e.length;s++)if(e[s][t]===r)return s;return-1}},"Ë°®ÂàóÊï∞":{type:"func",josi:[["„ÅÆ"]],pure:!0,fn:function(e){if(!(e instanceof Array))throw new Error("„ÄéË°®ÂàóÊï∞„Äè„Å´„ÅØÈÖçÂàó„ÇíÊåáÂÆö„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ");let t=1;for(let n=0;n<e.length;n++)e[n].length>t&&(t=e[n].length);return t}},"Ë°®Ë°åÊï∞":{type:"func",josi:[["„ÅÆ"]],pure:!0,fn:function(e){if(!(e instanceof Array))throw new Error("„ÄéË°®Ë°åÊï∞„Äè„Å´„ÅØÈÖçÂàó„ÇíÊåáÂÆö„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ");return e.length}},"Ë°®Ë°åÂàó‰∫§Êèõ":{type:"func",josi:[["„ÅÆ","„Çí"]],pure:!1,fn:function(e,t){if(!(e instanceof Array))throw new Error("„ÄéË°®Ë°åÂàó‰∫§Êèõ„Äè„Å´„ÅØÈÖçÂàó„ÇíÊåáÂÆö„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ");const n=t.__exec("Ë°®ÂàóÊï∞",[e]),r=e.length,s=[];for(let t=0;t<n;t++){const n=[];s.push(n);for(let s=0;s<r;s++)n[s]=void 0!==e[s][t]?e[s][t]:""}return s}},"Ë°®Âè≥ÂõûËª¢":{type:"func",josi:[["„ÅÆ","„Çí"]],pure:!1,fn:function(e,t){if(!(e instanceof Array))throw new Error("„ÄéË°®Âè≥ÂõûËª¢„Äè„Å´„ÅØÈÖçÂàó„ÇíÊåáÂÆö„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ");const n=t.__exec("Ë°®ÂàóÊï∞",[e]),r=e.length,s=[];for(let t=0;t<n;t++){const n=[];s.push(n);for(let s=0;s<r;s++)n[s]=e[r-s-1][t]}return s}},"Ë°®ÈáçË§áÂâäÈô§":{type:"func",josi:[["„ÅÆ"],["„Çí","„Åß"]],pure:!0,fn:function(e,t){if(!(e instanceof Array))throw new Error("„ÄéË°®ÈáçË§áÂâäÈô§„Äè„Å´„ÅØÈÖçÂàó„ÇíÊåáÂÆö„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ");const n=[],r={};for(let s=0;s<e.length;s++){const o=e[s][t];void 0===r[o]&&(r[o]=!0,n.push(e[s]))}return n}},"Ë°®ÂàóÂèñÂæó":{type:"func",josi:[["„ÅÆ"],["„Çí"]],pure:!0,fn:function(e,t){if(!(e instanceof Array))throw new Error("„ÄéË°®ÂàóÂèñÂæó„Äè„Å´„ÅØÈÖçÂàó„ÇíÊåáÂÆö„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ");return e.map((e=>e[t]))}},"Ë°®ÂàóÊåøÂÖ•":{type:"func",josi:[["„ÅÆ"],["„Å´","„Å∏"],["„Çí"]],pure:!0,fn:function(e,t,n){if(!(e instanceof Array))throw new Error("„ÄéË°®ÂàóÊåøÂÖ•„Äè„Å´„ÅØÈÖçÂàó„ÇíÊåáÂÆö„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ");const r=[];return e.forEach(((e,s)=>{let o=[];t>0&&(o=o.concat(e.slice(0,t))),o.push(n[s]),o=o.concat(e.slice(t)),r.push(o)})),r}},"Ë°®ÂàóÂâäÈô§":{type:"func",josi:[["„ÅÆ"],["„Çí"]],pure:!0,fn:function(e,t){if(!(e instanceof Array))throw new Error("„ÄéË°®ÂàóÂâäÈô§„Äè„Å´„ÅØÈÖçÂàó„ÇíÊåáÂÆö„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ");const n=[];return e.forEach((e=>{const r=e.slice(0);r.splice(t,1),n.push(r)})),n}},"Ë°®ÂàóÂêàË®à":{type:"func",josi:[["„ÅÆ"],["„Çí","„Åß"]],pure:!0,fn:function(e,t){if(!(e instanceof Array))throw new Error("„ÄéË°®ÂàóÂêàË®à„Äè„Å´„ÅØÈÖçÂàó„ÇíÊåáÂÆö„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ");let n=0;return e.forEach((e=>{n+=e[t]})),n}},"Ë°®ÊõñÊòßÊ§úÁ¥¢":{type:"func",josi:[["„ÅÆ"],["„Åã„Çâ"],["„Åß"],["„Çí"]],pure:!0,fn:function(e,t,n,r){if(!(e instanceof Array))throw new Error("„ÄéË°®ÊõñÊòßÊ§úÁ¥¢„Äè„Å´„ÅØÈÖçÂàó„ÇíÊåáÂÆö„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ");const s=new RegExp(r);for(let r=t;r<e.length;r++){const t=e[r];if(s.test(t[n]))return r}return-1}},"Ë°®Ê≠£Ë¶èË°®Áèæ„Éî„ÉÉ„ÇØ„Ç¢„ÉÉ„Éó":{type:"func",josi:[["„ÅÆ","„Åß"],["„Åã„Çâ"],["„Çí"]],pure:!0,fn:function(e,t,n){if(!(e instanceof Array))throw new Error("„ÄéË°®Ê≠£Ë¶èË°®Áèæ„Éî„ÉÉ„ÇØ„Ç¢„ÉÉ„Éó„Äè„Å´„ÅØÈÖçÂàó„ÇíÊåáÂÆö„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ");const r=new RegExp(n),s=[];for(let n=0;n<e.length;n++){const o=e[n];r.test(o[t])&&s.push(o.slice(0))}return s}},"ËæûÊõ∏„Ç≠„ÉºÂàóÊåô":{type:"func",josi:[["„ÅÆ"]],pure:!0,fn:function(e){const t=[];if(e instanceof Object){for(const n in e)t.push(n);return t}if(e instanceof Array){for(let n=0;n<e.length;n++)t.push(n);return t}throw new Error("„ÄéËæûÊõ∏„Ç≠„ÉºÂàóÊåô„Äè„Åß„Éè„ÉÉ„Ç∑„É•‰ª•Â§ñ„Åå‰∏é„Åà„Çâ„Çå„Åæ„Åó„Åü„ÄÇ")}},"ËæûÊõ∏„Ç≠„ÉºÂâäÈô§":{type:"func",josi:[["„Åã„Çâ","„ÅÆ"],["„Çí"]],pure:!0,fn:function(e,t){if(e instanceof Object)return t in e&&delete e[t],e;throw new Error("„ÄéËæûÊõ∏„Ç≠„ÉºÂâäÈô§„Äè„Åß„Éè„ÉÉ„Ç∑„É•‰ª•Â§ñ„Åå‰∏é„Åà„Çâ„Çå„Åæ„Åó„Åü„ÄÇ")}},"ËæûÊõ∏„Ç≠„ÉºÂ≠òÂú®":{type:"func",josi:[["„ÅÆ","„Å´"],["„Åå"]],pure:!0,fn:function(e,t){return t in e}},"„Éè„ÉÉ„Ç∑„É•„Ç≠„ÉºÂàóÊåô":{type:"func",josi:[["„ÅÆ"]],pure:!1,fn:function(e,t){return t.__exec("ËæûÊõ∏„Ç≠„ÉºÂàóÊåô",[e,t])}},"„Éè„ÉÉ„Ç∑„É•ÂÜÖÂÆπÂàóÊåô":{type:"func",josi:[["„ÅÆ"]],pure:!0,fn:function(e){const t=[];if(e instanceof Object){for(const n in e)t.push(e[n]);return t}throw new Error("„Äé„Éè„ÉÉ„Ç∑„É•ÂÜÖÂÆπÂàóÊåô„Äè„Åß„Éè„ÉÉ„Ç∑„É•‰ª•Â§ñ„Åå‰∏é„Åà„Çâ„Çå„Åæ„Åó„Åü„ÄÇ")}},"„Éè„ÉÉ„Ç∑„É•„Ç≠„ÉºÂâäÈô§":{type:"func",josi:[["„Åã„Çâ","„ÅÆ"],["„Çí"]],pure:!1,fn:function(e,t,n){return n.__exec("ËæûÊõ∏„Ç≠„ÉºÂâäÈô§",[e,t,n])}},"„Éè„ÉÉ„Ç∑„É•„Ç≠„ÉºÂ≠òÂú®":{type:"func",josi:[["„ÅÆ","„Å´"],["„Åå"]],pure:!0,fn:function(e,t){return t in e}},"ÁßíÂæÖ":{type:"func",josi:[[""]],pure:!0,asyncFn:!0,fn:function(e,t){return new Promise(((n,r)=>{try{const r=setTimeout((()=>{const e=t.__timeout.indexOf(r);e>=0&&t.__timeout.splice(e,1),n()}),1e3*parseFloat(e));t.__timeout.push(r)}catch(e){r(e)}}))},return_none:!0},"ÁßíÂæÖÊ©ü":{type:"func",josi:[[""]],pure:!0,asyncFn:!0,fn:async function(e,t){const n=t.__exec("ÁßíÂæÖ",[e,t]);return await n},return_none:!0},"ÁßíÈÄêÊ¨°ÂæÖÊ©ü":{type:"func",josi:[[""]],pure:!0,asyncFn:!0,fn:async function(e,t){const n=t.__exec("ÁßíÂæÖ",[e,t]);return await n},return_none:!0},"ÁßíÂæå":{type:"func",josi:[["„Çí"],[""]],pure:!0,fn:function(e,t,n){"string"==typeof e&&(e=n.__findFunc(e,"ÁßíÂæå"));const r=setTimeout((()=>{const t=n.__timeout.indexOf(r);t>=0&&n.__timeout.splice(t,1),"ÈùûÂêåÊúü„É¢„Éº„Éâ"===n.__genMode&&(n.newenv=!0);try{e(r,n)}catch(e){let t=e;e instanceof _nako_errors_mjs__WEBPACK_IMPORTED_MODULE_0__.NakoRuntimeError||(t=new _nako_errors_mjs__WEBPACK_IMPORTED_MODULE_0__.NakoRuntimeError(e,n.__getSysVar("__line"))),n.logger.error(t)}}),1e3*parseFloat(t));return n.__timeout.unshift(r),n.__setSysVar("ÂØæË±°",r),r}},"ÁßíÊØé":{type:"func",josi:[["„Çí"],[""]],pure:!1,fn:function(e,t,n){"string"==typeof e&&(e=n.__findFunc(e,"ÁßíÊØé"));const r=setInterval((()=>{"ÈùûÂêåÊúü„É¢„Éº„Éâ"===n.__genMode&&(n.newenv=!0),e(r,n)}),1e3*parseFloat(t));return n.__interval.unshift(r),n.__setSysVar("ÂØæË±°",r),r}},"Áßí„Çø„Ç§„Éû„ÉºÈñãÂßãÊôÇ":{type:"func",josi:[["„Çí"],[""]],pure:!1,fn:function(e,t,n){return n.__exec("ÁßíÊØé",[e,t,n])}},"„Çø„Ç§„Éû„ÉºÂÅúÊ≠¢":{type:"func",josi:[["„ÅÆ","„Åß"]],pure:!0,fn:function(e,t){const n=t.__interval.indexOf(e);if(n>=0)return t.__interval.splice(n,1),clearInterval(e),!0;const r=t.__timeout.indexOf(e);return r>=0&&(t.__timeout.splice(r,1),clearTimeout(e),!0)},return_none:!1},"ÂÖ®„Çø„Ç§„Éû„ÉºÂÅúÊ≠¢":{type:"func",josi:[],pure:!0,fn:function(e){for(let t=0;t<e.__interval.length;t++){const n=e.__interval[t];clearInterval(n)}e.__interval=[];for(let t=0;t<e.__timeout.length;t++){const n=e.__timeout[t];clearTimeout(n)}e.__timeout=[]},return_none:!0},"ÂÖÉÂè∑„Éá„Éº„Çø":{type:"const",value:[{"ÂÖÉÂè∑":"‰ª§Âíå","ÊîπÂÖÉÊó•":"2019/05/01"},{"ÂÖÉÂè∑":"Âπ≥Êàê","ÊîπÂÖÉÊó•":"1989/01/08"},{"ÂÖÉÂè∑":"Êò≠Âíå","ÊîπÂÖÉÊó•":"1926/12/25"},{"ÂÖÉÂè∑":"Â§ßÊ≠£","ÊîπÂÖÉÊó•":"1912/07/30"},{"ÂÖÉÂè∑":"ÊòéÊ≤ª","ÊîπÂÖÉÊó•":"1868/10/23"}]},"‰ªä":{type:"func",josi:[],pure:!0,fn:function(){const e=e=>(e="00"+e).substring(e.length-2,e.length),t=new Date;return e(t.getHours())+":"+e(t.getMinutes())+":"+e(t.getSeconds())}},"„Ç∑„Çπ„ÉÜ„É†ÊôÇÈñì":{type:"func",josi:[],pure:!0,fn:function(){const e=new Date;return Math.floor(e.getTime()/1e3)}},"„Ç∑„Çπ„ÉÜ„É†ÊôÇÈñì„Éü„É™Áßí":{type:"func",josi:[],pure:!0,fn:function(){return(new Date).getTime()}},"‰ªäÊó•":{type:"func",josi:[],pure:!0,fn:function(e){return e.__formatDate(new Date)}},"ÊòéÊó•":{type:"func",josi:[],pure:!0,fn:function(e){const t=Date.now()+864e5;return e.__formatDate(new Date(t))}},"Êò®Êó•":{type:"func",josi:[],pure:!0,fn:function(e){const t=Date.now()-864e5;return e.__formatDate(new Date(t))}},"‰ªäÂπ¥":{type:"func",josi:[],pure:!0,fn:function(){return(new Date).getFullYear()}},"Êù•Âπ¥":{type:"func",josi:[],pure:!0,fn:function(){return(new Date).getFullYear()+1}},"ÂéªÂπ¥":{type:"func",josi:[],pure:!0,fn:function(){return(new Date).getFullYear()-1}},"‰ªäÊúà":{type:"func",josi:[],pure:!0,fn:function(){return(new Date).getMonth()+1}},"Êù•Êúà":{type:"func",josi:[],pure:!0,fn:function(){return(new Date).getMonth()+2}},"ÂÖàÊúà":{type:"func",josi:[],pure:!0,fn:function(){return(new Date).getMonth()}},"ÊõúÊó•":{type:"func",josi:[["„ÅÆ"]],pure:!0,fn:function(e,t){const n=t.__str2date(e);return"Êó•ÊúàÁÅ´Ê∞¥Êú®ÈáëÂúü".charAt(n.getDay()%7)}},"ÊõúÊó•Áï™Âè∑ÂèñÂæó":{type:"func",josi:[["„ÅÆ"]],pure:!0,fn:function(e){const t=e.split("/");return new Date(t[0],t[1]-1,t[2]).getDay()}},"UNIXTIMEÂ§âÊèõ":{type:"func",josi:[["„ÅÆ","„Çí","„Åã„Çâ"]],pure:!0,fn:function(e,t){return t.__str2date(e).getTime()/1e3}},"UNIXÊôÇÈñìÂ§âÊèõ":{type:"func",josi:[["„ÅÆ","„Çí","„Åã„Çâ"]],pure:!0,fn:function(e,t){return t.__str2date(e).getTime()/1e3}},"Êó•ÊôÇÂ§âÊèõ":{type:"func",josi:[["„Çí","„Åã„Çâ"]],pure:!0,fn:function(e,t){const n=1e3*e;return t.__formatDateTime(new Date(n),"2022/01/01 00:00:00")}},"Êó•ÊôÇÊõ∏ÂºèÂ§âÊèõ":{type:"func",josi:[["„Çí"],["„Åß"]],pure:!0,fn:function(e,t,n){const r=n.__str2date(e);return t=t.replace(/(YYYY|ccc|WWW|MMM|YY|MM|DD|HH|mm|ss|[MDHmsW])/g,(e=>{switch(e){case"YYYY":return r.getFullYear();case"YY":return(""+r.getFullYear()).substring(2);case"MM":return n.__zero2(r.getMonth()+1);case"DD":return n.__zero2(r.getDate());case"M":return r.getMonth()+1;case"D":return r.getDate();case"HH":return n.__zero2(r.getHours());case"mm":return n.__zero2(r.getMinutes());case"ss":return n.__zero2(r.getSeconds());case"ccc":return n.__zero(r.getMilliseconds(),3);case"H":return r.getHours();case"m":return r.getMinutes();case"s":return r.getSeconds();case"W":return"Êó•ÊúàÁÅ´Ê∞¥Êú®ÈáëÂúü".charAt(r.getDay()%7);case"WWW":return["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][r.getDay()%7];case"MMM":return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][r.getMonth()]}return e}))}},"ÂíåÊö¶Â§âÊèõ":{type:"func",josi:[["„Çí"]],pure:!0,fn:function(e,t){const n=t.__str2date(e),r=n.getTime();for(const e of t.__getSysVar("ÂÖÉÂè∑„Éá„Éº„Çø")){const s=e["ÂÖÉÂè∑"],o=t.__str2date(e["ÊîπÂÖÉÊó•"]);if(o.getTime()<=r){let e=n.getFullYear()-o.getFullYear()+1;return 1===e&&(e="ÂÖÉ"),s+e+"Âπ¥"+t.__zero2(n.getMonth()+1)+"Êúà"+t.__zero2(n.getDate())+"Êó•"}}throw new Error("„ÄéÂíåÊö¶Â§âÊèõ„Äè„ÅØÊòéÁ§∫‰ª•Ââç„ÅÆÊó•‰ªò„Å´„ÅØÂØæÂøú„Åó„Å¶„ÅÑ„Åæ„Åõ„Çì„ÄÇ")}},"Âπ¥Êï∞Â∑Æ":{type:"func",josi:[["„Å®","„Åã„Çâ"],["„ÅÆ","„Åæ„Åß„ÅÆ"]],pure:!0,fn:function(e,t,n){const r=n.__str2date(e);return n.__str2date(t).getFullYear()-r.getFullYear()}},"ÊúàÊï∞Â∑Æ":{type:"func",josi:[["„Å®","„Åã„Çâ"],["„ÅÆ","„Åæ„Åß„ÅÆ"]],pure:!0,fn:function(e,t,n){const r=n.__str2date(e),s=n.__str2date(t);return 12*s.getFullYear()+s.getMonth()-(12*r.getFullYear()+r.getMonth())}},"Êó•Êï∞Â∑Æ":{type:"func",josi:[["„Å®","„Åã„Çâ"],["„ÅÆ","„Åæ„Åß„ÅÆ"]],pure:!0,fn:function(e,t,n){const r=Math.ceil(n.__str2date(e).getTime()/1e3),s=Math.ceil(n.__str2date(t).getTime()/1e3);return Math.ceil((s-r)/86400)}},"ÊôÇÈñìÂ∑Æ":{type:"func",josi:[["„Å®","„Åã„Çâ"],["„ÅÆ","„Åæ„Åß„ÅÆ"]],pure:!0,fn:function(e,t,n){const r=Math.ceil(n.__str2date(e).getTime()/1e3),s=Math.ceil(n.__str2date(t).getTime()/1e3);return Math.ceil((s-r)/3600)}},"ÂàÜÂ∑Æ":{type:"func",josi:[["„Å®","„Åã„Çâ"],["„ÅÆ","„Åæ„Åß„ÅÆ"]],pure:!0,fn:function(e,t,n){const r=Math.ceil(n.__str2date(e).getTime()/1e3),s=Math.ceil(n.__str2date(t).getTime()/1e3);return Math.ceil((s-r)/60)}},"ÁßíÂ∑Æ":{type:"func",josi:[["„Å®","„Åã„Çâ"],["„ÅÆ","„Åæ„Åß„ÅÆ"]],pure:!0,fn:function(e,t,n){const r=Math.ceil(n.__str2date(e).getTime()/1e3),s=Math.ceil(n.__str2date(t).getTime()/1e3);return Math.ceil(s-r)}},"Êó•ÊôÇÂ∑Æ":{type:"func",josi:[["„Å®","„Åã„Çâ"],["„ÅÆ","„Åæ„Åß„ÅÆ"],["„Å´„Çà„Çã"]],pure:!0,fn:function(e,t,n,r){switch(n){case"Âπ¥":return r.__exec("Âπ¥Êï∞Â∑Æ",[e,t,r]);case"Êúà":return r.__exec("ÊúàÊï∞Â∑Æ",[e,t,r]);case"Êó•":return r.__exec("Êó•Êï∞Â∑Æ",[e,t,r]);case"ÊôÇÈñì":return r.__exec("ÊôÇÈñìÂ∑Æ",[e,t,r]);case"ÂàÜ":return r.__exec("ÂàÜÂ∑Æ",[e,t,r]);case"Áßí":return r.__exec("ÁßíÂ∑Æ",[e,t,r])}throw new Error("„ÄéÊó•ÊôÇÂ∑Æ„Äè„Åß‰∏çÊòé„Å™Âçò‰Ωç„Åß„Åô„ÄÇ")}},"ÊôÇÈñìÂä†ÁÆó":{type:"func",josi:[["„Å´"],["„Çí"]],pure:!0,fn:function(e,t,n){const r=t.charAt(0);"-"!==r&&"+"!==r||(t=t.substring(1));const s=n.__str2date(e),o=(t+":0:0").split(":");let i=60*parseInt(o[0])*60+60*parseInt(o[1])+parseInt(o[2]);"-"===r&&(i*=-1);const u=new Date(s.getTime()+1e3*i);return n.__formatDateTime(u,e)}},"Êó•‰ªòÂä†ÁÆó":{type:"func",josi:[["„Å´"],["„Çí"]],pure:!0,fn:function(e,t,n){let r=1;const s=t.charAt(0);"-"!==s&&"+"!==s||(t=t.substring(1),"-"===s&&(r*=-1));const o=n.__str2date(e),i=(t+"/0/0").split("/"),u=parseInt(i[0])*r,c=parseInt(i[1])*r,a=parseInt(i[2])*r;return o.setFullYear(o.getFullYear()+u),o.setMonth(o.getMonth()+c),o.setDate(o.getDate()+a),n.__formatDateTime(o,e)}},"Êó•ÊôÇÂä†ÁÆó":{type:"func",josi:[["„Å´"],["„Çí"]],pure:!0,fn:function(e,t,n){const r=(""+t).match(/([+|-]?)(\d+)(Âπ¥|„É∂Êúà|Êó•|ÈÄ±Èñì|ÊôÇÈñì|ÂàÜ|Áßí)$/);if(!r)throw new Error("„ÄéÊó•‰ªòÂä†ÁÆó„Äè„ÅØ„Äé(+ÔΩú-)1(Âπ¥|„É∂Êúà|Êó•|ÊôÇÈñì|ÂàÜ|Áßí)„Äè„ÅÆÊõ∏Âºè„ÅßÊåáÂÆö„Åó„Åæ„Åô„ÄÇ");switch(r[3]){case"Âπ¥":return n.__exec("Êó•‰ªòÂä†ÁÆó",[e,`${r[1]}${r[2]}/0/0`,n]);case"„É∂Êúà":return n.__exec("Êó•‰ªòÂä†ÁÆó",[e,`${r[1]}0/${r[2]}/0`,n]);case"ÈÄ±Èñì":return n.__exec("Êó•‰ªòÂä†ÁÆó",[e,`${r[1]}0/0/${7*parseInt(r[2])}`,n]);case"Êó•":return n.__exec("Êó•‰ªòÂä†ÁÆó",[e,`${r[1]}0/0/${r[2]}`,n]);case"ÊôÇÈñì":return n.__exec("ÊôÇÈñìÂä†ÁÆó",[e,`${r[1]}${r[2]}:0:0`,n]);case"ÂàÜ":return n.__exec("ÊôÇÈñìÂä†ÁÆó",[e,`${r[1]}0:${r[2]}:0`,n]);case"Áßí":return n.__exec("ÊôÇÈñìÂä†ÁÆó",[e,`${r[1]}0:0:${r[2]}`,n])}}},"ÊôÇÈñì„Éü„É™ÁßíÂèñÂæó":{type:"func",josi:[],pure:!0,fn:function(){if(performance&&performance.now)return performance.now();if(Date.now)return Date.now();return(new Date).getTime()}},"„Ç®„É©„ÉºÁô∫Áîü":{type:"func",josi:[["„ÅÆ","„Åß"]],pure:!0,fn:function(e){throw new Error(e)},return_none:!0},__DEBUG:{type:"func",josi:[],pure:!0,fn:function(e){e.isDebug=!0,console.log(e)}},"__DEBUGÂº∑Âà∂ÂæÖÊ©ü":{type:"const",value:0},"__DEBUG„Éñ„É¨„Ç§„ÇØ„Éù„Ç§„É≥„Éà‰∏ÄË¶ß":{type:"const",value:[]},"__DEBUGÂæÖÊ©ü„Éï„É©„Ç∞":{type:"const",value:0},__DEBUG_BP_WAIT:{type:"func",josi:[["„Åß"]],pure:!0,asyncFn:!0,fn:function(e,t){return new Promise((n=>{const r=t.__getSysVar("__DEBUG„Éñ„É¨„Ç§„ÇØ„Éù„Ç§„É≥„Éà‰∏ÄË¶ß"),s=t.__getSysVar("__DEBUGÂº∑Âà∂ÂæÖÊ©ü");if(t.__setSysVar("__DEBUGÂº∑Âà∂ÂæÖÊ©ü",0),r.indexOf(e)>=0||s){if("„É°„Ç§„É≥"!==t.__getSysVar("„Éó„É©„Ç∞„Ç§„É≥Âêç"))return;console.log(`@__DEBUG_BP_WAIT(${e})`);const r=setInterval((()=>{1===t.__getSysVar("__DEBUGÂæÖÊ©ü„Éï„É©„Ç∞")&&(t.__setSysVar("__DEBUGÂæÖÊ©ü„Éï„É©„Ç∞",0),clearInterval(r),n(e))}),500)}else n(e)}))}},"„Ç∞„É≠„Éº„Éê„É´Èñ¢Êï∞‰∏ÄË¶ßÂèñÂæó":{type:"func",josi:[],pure:!0,fn:function(e){const t=e.__varslist[1],n=[];for(const e of t.keys())n.push(e);return n}},"„Ç∑„Çπ„ÉÜ„É†Èñ¢Êï∞‰∏ÄË¶ßÂèñÂæó":{type:"func",josi:[],pure:!0,fn:function(e){const t=e.__v0,n=[];for(const e of t.keys())e.startsWith("__")||e.startsWith("!")||"meta"===e||n.push(e);return n}},"„Ç∑„Çπ„ÉÜ„É†Èñ¢Êï∞Â≠òÂú®":{type:"func",josi:[["„Åå","„ÅÆ"]],pure:!0,fn:function(e,t){return void 0!==t.__getSysVar(e)}},"„Éó„É©„Ç∞„Ç§„É≥‰∏ÄË¶ßÂèñÂæó":{type:"func",josi:[],pure:!0,fn:function(e){const t=[];for(const n in e.pluginfiles)t.push(n);return t}},"„É¢„Ç∏„É•„Éº„É´‰∏ÄË¶ßÂèñÂæó":{type:"func",josi:[],pure:!0,fn:function(e){const t=[];for(const n in e.__module)t.push(n);return t}},"Âä©Ë©û‰∏ÄË¶ßÂèñÂæó":{type:"func",josi:[],pure:!0,asyncFn:!0,fn:function(){return new Promise(((e,t)=>{Promise.resolve().then(__webpack_require__.bind(__webpack_require__,"./core/src/nako_josi_list.mjs")).then((t=>{const n=Object.assign({},t);e(n.josiList)})).catch((e=>{t(e)}))}))}},"‰∫àÁ¥ÑË™û‰∏ÄË¶ßÂèñÂæó":{type:"func",josi:[],pure:!0,asyncFn:!0,fn:function(){return new Promise(((e,t)=>{Promise.resolve().then(__webpack_require__.bind(__webpack_require__,"./core/src/nako_reserved_words.mjs")).then((t=>{const n=Object.assign({},t),r=[];for(const e in n.default)r.push(e);e(r)})).catch((e=>{t(e)}))}))}},"„Éó„É©„Ç∞„Ç§„É≥Âêç":{type:"const",value:"„É°„Ç§„É≥"},"„Éó„É©„Ç∞„Ç§„É≥ÂêçË®≠ÂÆö":{type:"func",josi:[["„Å´","„Å∏"]],pure:!0,fn:function(e,t){t.__setSysVar("„Éó„É©„Ç∞„Ç§„É≥Âêç",e)},return_none:!0},"ÂêçÂâçÁ©∫Èñì":{type:"const",value:""},"ÂêçÂâçÁ©∫ÈñìË®≠ÂÆö":{type:"func",josi:[["„Å´","„Å∏"]],pure:!0,fn:function(e,t){t.__namespaceList.push([t.__getSysVar("ÂêçÂâçÁ©∫Èñì"),t.__getSysVar("„Éó„É©„Ç∞„Ç§„É≥Âêç")]),t.__setSysVar("ÂêçÂâçÁ©∫Èñì",e)},return_none:!0},"ÂêçÂâçÁ©∫Èñì„Éù„ÉÉ„Éó":{type:"func",josi:[],pure:!0,fn:function(e){const t=e.__namespaceList.pop();t&&(e.__setSysVar("ÂêçÂâçÁ©∫Èñì",t[0]),e.__setSysVar("„Éó„É©„Ç∞„Ç§„É≥Âêç",t[1]))},return_none:!0},"URL„Ç®„É≥„Ç≥„Éº„Éâ":{type:"func",josi:[["„Çí","„Åã„Çâ"]],pure:!0,fn:function(e){return encodeURIComponent(e)}},"URL„Éá„Ç≥„Éº„Éâ":{type:"func",josi:[["„Çí","„Å∏","„Å´"]],pure:!0,fn:function(e){return decodeURIComponent(e)}},"URL„Éë„É©„É°„Éº„ÇøËß£Êûê":{type:"func",josi:[["„Çí","„ÅÆ","„Åã„Çâ"]],pure:!0,fn:function(e,t){const n={};if("string"!=typeof e)return n;const r=e.split("?");if(r.length<=1)return n;const s=r[1].split("&");for(const e of s){const r=(e+"=").split("=");n[t.__exec("URL„Éá„Ç≥„Éº„Éâ",[r[0]])]=t.__exec("URL„Éá„Ç≥„Éº„Éâ",[r[1]])}return n}},"BASE64„Ç®„É≥„Ç≥„Éº„Éâ":{type:"func",josi:[["„Çí","„Åã„Çâ"]],pure:!0,fn:function(e){if("undefined"!=typeof window&&window.btoa){const t=(new TextEncoder).encode(e),n=String.fromCharCode.apply(null,t);return btoa(n)}if("undefined"!=typeof Buffer)return Buffer.from(e).toString("base64");throw new Error("„ÄéBASE64„Ç®„É≥„Ç≥„Éº„Éâ„Äè„ÅØÂà©Áî®„Åß„Åç„Åæ„Åõ„Çì„ÄÇ")}},"BASE64„Éá„Ç≥„Éº„Éâ":{type:"func",josi:[["„Çí","„Å∏","„Å´"]],pure:!0,fn:function(e){if("undefined"!=typeof window&&window.atob){const t=atob(e),n=Array.prototype.map.call(t,(e=>e.charCodeAt())),r=new Uint8Array(n);return new TextDecoder("UTF-8").decode(r)}if("undefined"!=typeof Buffer)return Buffer.from(e,"base64").toString();throw new Error("„ÄéBASE64„Éá„Ç≥„Éº„Éâ„Äè„ÅØÂà©Áî®„Åß„Åç„Åæ„Åõ„Çì„ÄÇ")}}}},"./core/src/plugin_test.mjs":function(e,t,n){"use strict";n.r(t),t.default={meta:{type:"const",value:{pluginName:"plugin_test",description:"„ÉÜ„Çπ„Éà„ÇíÊèê‰æõ„Åô„Çã„Éó„É©„Ç∞„Ç§„É≥",pluginVersion:"3.6.0",nakoRuntime:["wnako","cnako","phpnako"],nakoVersion:"^3.6.0"}},"ASSERTÁ≠â":{type:"func",josi:[["„Å®"],["„Åå"]],pure:!0,fn:function(e,t){if(e!==t)throw new Error(`‰∏ç‰∏ÄËá¥ [ÂÆüÈöõ]${e} [ÊúüÂæÖ]${t}`);return!0}},"„ÉÜ„Çπ„ÉàÂÆüË°å":{type:"func",josi:[["„Å®"],["„Åß"]],pure:!1,fn:function(e,t,n){n.__exec("ASSERTÁ≠â",[e,t,n])}},"„ÉÜ„Çπ„ÉàÁ≠â":{type:"func",josi:[["„Å®"],["„Åå"]],pure:!1,fn:function(e,t,n){n.__exec("ASSERTÁ≠â",[e,t,n])}}}},"./src/nako_version.mjs":function(e,t,n){"use strict";n.r(t);t.default={version:"3.6.1",major:3,minor:6,patch:1}},"./src/plugin_browser.mjs":function(e,t,n){"use strict";n.r(t);var r=n("./src/plugin_browser_color.mjs"),s=n("./src/plugin_browser_system.mjs"),o=n("./src/plugin_browser_dialog.mjs"),i=n("./src/plugin_browser_location.mjs"),u=n("./src/plugin_browser_ajax.mjs"),c=n("./src/plugin_browser_dom_basic.mjs"),a=n("./src/plugin_browser_dom_event.mjs"),f=n("./src/plugin_browser_dom_parts.mjs"),l=n("./src/plugin_browser_html.mjs"),p=n("./src/plugin_browser_storage.mjs"),h=n("./src/plugin_browser_canvas.mjs"),d=n("./src/plugin_browser_geolocation.mjs"),_=n("./src/plugin_browser_speech.mjs"),y=n("./src/plugin_browser_websocket.mjs"),m=n("./src/plugin_browser_audio.mjs"),g=n("./src/plugin_browser_hotkey.mjs"),k=n("./src/plugin_browser_chart.mjs"),v=n("./src/plugin_browser_crypto.mjs");const b=[r.default,s.default,o.default,i.default,u.default,c.default,a.default,f.default,l.default,p.default,h.default,d.default,_.default,y.default,m.default,g.default,k.default,v.default],w={meta:{type:"const",value:{pluginName:"plugin_browser",description:"„Éñ„É©„Ç¶„Ç∂Áî®„ÅÆ„Éó„É©„Ç∞„Ç§„É≥",pluginVersion:"3.6.0",nakoRuntime:["wnako"],nakoVersion:"3.6.0"}},"ÂàùÊúüÂåñ":{type:"func",josi:[],pure:!0,fn:function(e){const t="undefined"==typeof document?{body:{}}:document,n="undefined"==typeof window?{location:{href:"http://localhost/"}}:window,r="undefined"==typeof navigator?{}:navigator,s=void 0===n.location?{href:"http://localhost/"}:n.location;e.__setSysVar("AJAX:ONERROR",(e=>{console.log(e)})),e.__setSysVar("DOCUMENT",t),e.__setSysVar("WINDOW",n),e.__setSysVar("NAVIGATOR",r),e.__setSysVar("DOMË¶™Ë¶ÅÁ¥†",t.body),e.__setSysVar("„Éñ„É©„Ç¶„Ç∂URL",s.href),e.__tohtml=e=>(""+e).replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;"),e.__tohtmlQ=t=>e.__tohtml(t).replace(/"/g,"&#34;").replace(/'/g,"&#39;"),e.__dom_events=[],e.__addEvent=(n,r,s,o)=>{if("string"==typeof n&&!(n=t.querySelector(n)))throw new Error("DOM„Ç§„Éô„É≥„Éà„ÅåËøΩÂä†„Åß„Åç„Åæ„Åõ„Çì„ÄÇË¶ÅÁ¥†„ÅåË¶ãÂΩì„Åü„Çä„Åæ„Åõ„Çì„ÄÇ");if("string"==typeof s&&!(s=e.__findVar(s,null)))throw new Error("DOM„Ç§„Éô„É≥„Éà„ÅåËøΩÂä†„Åß„Åç„Åæ„Åõ„Çì„ÄÇÈñ¢Êï∞„ÅåË¶ãÂΩì„Åü„Çä„Åæ„Åõ„Çì„ÄÇ");const i=t=>(e.__setSysVar("ÂØæË±°",t.target),e.__setSysVar("ÂØæË±°„Ç§„Éô„É≥„Éà",t),o&&o(t,e),"ÈùûÂêåÊúü„É¢„Éº„Éâ"===e.__genMode&&(e.newenv=!0),s(t,e));e.__dom_events.push({dom:n,event:r,func:i,rawFunc:s}),n.addEventListener(r,i)},e.__keyHandler=(e,t)=>{t.__setSysVar("Êäº„Ç≠„Éº",e.key)},e.__mouseHandler=(e,t)=>{const n=e.target.getBoundingClientRect();t.__setSysVar("„Éû„Ç¶„ÇπX",e.clientX-n.left),t.__setSysVar("„Éû„Ç¶„ÇπY",e.clientY-n.top)},e.__touchHandler=(e,t)=>{const n=e.target.getBoundingClientRect(),r=e.changedTouches;if(r.length<=0)return;const s=[];for(let e=0;e<r.length;e++){const o=r[e],i=o.clientX-n.left,u=o.clientY-n.top;0===e&&(t.__setSysVar("„Çø„ÉÉ„ÉÅX",i),t.__setSysVar("„Çø„ÉÉ„ÉÅY",u)),s.push([i,u])}return t.__setSysVar("„Çø„ÉÉ„ÉÅÈÖçÂàó",s),s},e.__removeEvent=(n,r,s)=>{if("string"==typeof n&&!(n=t.querySelector(n)))throw new Error("DOM„Ç§„Éô„É≥„Éà„ÅåÂâäÈô§„Åß„Åç„Åæ„Åõ„Çì„ÄÇË¶ÅÁ¥†„ÅåË¶ãÂΩì„Åü„Çä„Åæ„Åõ„Çì„ÄÇ");if("string"==typeof s&&!(s=e.__findVar(s,null)))throw new Error("DOM„Ç§„Éô„É≥„Éà„ÅåÂâäÈô§„Åß„Åç„Åæ„Åõ„Çì„ÄÇÈñ¢Êï∞„ÅåË¶ãÂΩì„Åü„Çä„Åæ„Åõ„Çì„ÄÇ");for(let t=0;t<e.__dom_events.length;t++){const o=e.__dom_events[t];if(o.dom===n&&o.event===r&&o.rawFunc===s){o.dom.removeEventListener(o.event,o.func),e.__dom_events.splice(t,1);break}}},e.__requestAnimationFrameLastId=0,e.__removeAllDomEvent=()=>{e.__dom_events.forEach((e=>{e.dom.removeEventListener(e.event,e.func)})),e.__dom_events=[],e.__requestAnimationFrameLastId>0&&(n.cancelAnimationFrame(e.__requestAnimationFrameLastId),e.__requestAnimationFrameLastId=0)},e.__query=(t,n,r)=>{const s="string"==typeof t?document.querySelector(t):t;if(!s){if(!r){const e="string"==typeof t?t:String(t);throw new Error(`„Äé${n}„Äè„Åß„ÇØ„Ç®„É™„Äé${e}„Äè„ÅßDOMÂèñÂæó„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇ`)}console.warn(`[„Éí„É≥„Éà](${e.__getSysVar("__line")})„Äé${n}„Äè„ÅßDOMÂèñÂæó„Å´Â§±Êïó„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇDOM=`,t)}return s},e.__loadScript=e=>new Promise(((t,n)=>{const r=document.createElement("script");r.type="text/javascript",r.src=e,r.onload=t,r.onerror=()=>{n(new Error(`Failed to load script at url: ${e}`))},document.getElementsByTagName("head")[0].appendChild(r)}))}},"!„ÇØ„É™„Ç¢":{type:"func",josi:[],pure:!0,fn:function(e){e.__chartjs&&e.__chartjs.destroy(),e.__removeAllDomEvent()}}};b.forEach((e=>{const t={};Object.assign(t,e),void 0!==t["ÂàùÊúüÂåñ"]&&delete t["ÂàùÊúüÂåñ"],Object.assign(w,t)})),t.default=w},"./src/plugin_browser_ajax.mjs":function(e,t,n){"use strict";n.r(t),t.default={"HTTPÂèñÂæó":{type:"func",josi:[["„ÅÆ","„Åã„Çâ","„Çí"]],pure:!0,asyncFn:!0,fn:async function(e,t){return t.__exec("AJAX„ÉÜ„Ç≠„Çπ„ÉàÂèñÂæó",[e,t])}},"AJAXÂèó‰ø°":{type:"func",josi:[["„Åã„Çâ","„Çí"]],pure:!0,asyncFn:!0,fn:async function(e,t){return t.__exec("AJAX„ÉÜ„Ç≠„Çπ„ÉàÂèñÂæó",[e,t])}},"AJAXÂèó‰ø°ÊôÇ":{type:"func",josi:[["„Åß"],["„Åã„Çâ","„Çí"]],pure:!0,fn:function(e,t,n){n.__exec("AJAXÈÄÅ‰ø°ÊôÇ",[e,t,n])},return_none:!0},"AJAXÈÄÅ‰ø°":{type:"func",josi:[["„Åæ„Åß","„Å∏","„Å´"]],pure:!0,asyncFn:!0,fn:async function(e,t){return t.__exec("AJAX„ÉÜ„Ç≠„Çπ„ÉàÂèñÂæó",[e,t])}},"AJAXÈÄÅ‰ø°ÊôÇ":{type:"func",josi:[["„ÅÆ"],["„Åæ„Åß","„Å∏","„Å´"]],pure:!0,fn:function(e,t,n){let r=n.__getSysVar("AJAX„Ç™„Éó„Ç∑„Éß„É≥");""===r&&(r={method:"GET"}),fetch(t,r).then((e=>200!==e.status?n.__getSysVar("AJAX:ONERROR")(e.status):e.text())).then((t=>{n.__setSysVar("ÂØæË±°",t),e(t,n)})).catch((e=>{n.__getSysVar("AJAX:ONERROR")(e)}))},return_none:!0},"AJAX„Ç™„Éó„Ç∑„Éß„É≥":{type:"const",value:""},"AJAX„Ç™„Éó„Ç∑„Éß„É≥Ë®≠ÂÆö":{type:"func",josi:[["„Å´","„Å∏","„Å®"]],pure:!0,fn:function(e,t){t.__setSysVar("AJAX„Ç™„Éó„Ç∑„Éß„É≥",e)},return_none:!0},"AJAX„Ç™„Éó„Ç∑„Éß„É≥POSTË®≠ÂÆö":{type:"func",josi:[["„Çí","„Åß"]],pure:!0,fn:function(e,t){const n={method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:t.__exec("POST„Éá„Éº„ÇøÁîüÊàê",[e,t])};t.__setSysVar("AJAX„Ç™„Éó„Ç∑„Éß„É≥",n)},return_none:!0},"AJAXÂ§±ÊïóÊôÇ":{type:"func",josi:[["„ÅÆ"]],pure:!0,fn:function(e,t){t.__setSysVar("AJAX:ONERROR",e)}},"AJAX„ÉÜ„Ç≠„Çπ„ÉàÂèñÂæó":{type:"func",josi:[["„Åã„Çâ","„Çí"]],pure:!0,asyncFn:!0,fn:async function(e,t){let n=t.__getSysVar("AJAX„Ç™„Éó„Ç∑„Éß„É≥");""===n&&(n={method:"GET"});const r=await fetch(e,n);return await r.text()},return_none:!1},"AJAX_JSONÂèñÂæó":{type:"func",josi:[["„Åã„Çâ"]],pure:!0,asyncFn:!0,fn:async function(e,t){let n=t.__getSysVar("AJAX„Ç™„Éó„Ç∑„Éß„É≥");""===n&&(n={method:"GET"});const r=await fetch(e,n);return await r.json()},return_none:!1},"AJAX„Éê„Ç§„Éä„É™ÂèñÂæó":{type:"func",josi:[["„Åã„Çâ"]],pure:!0,asyncFn:!0,fn:async function(e,t){let n=t.__getSysVar("AJAX„Ç™„Éó„Ç∑„Éß„É≥");""===n&&(n={method:"GET"});const r=await fetch(e,n);return await r.blob()},return_none:!1},"GETÈÄÅ‰ø°ÊôÇ":{type:"func",josi:[["„ÅÆ"],["„Åæ„Åß","„Å∏","„Å´"]],pure:!0,fn:function(e,t,n){n.__exec("AJAXÈÄÅ‰ø°ÊôÇ",[e,t,n])},return_none:!0},"POSTÈÄÅ‰ø°ÊôÇ":{type:"func",josi:[["„ÅÆ"],["„Åæ„Åß","„Å∏","„Å´"],["„Çí"]],pure:!0,fn:function(e,t,n,r){const s=r.__exec("POST„Éá„Éº„ÇøÁîüÊàê",[n,r]);fetch(t,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:s}).then((e=>e.text())).then((t=>{r.__setSysVar("ÂØæË±°",t),e(t)})).catch((e=>{r.__getSysVar("AJAX:ONERROR")(e)}))}},"POST„Éï„Ç©„Éº„É†ÈÄÅ‰ø°ÊôÇ":{type:"func",josi:[["„ÅÆ"],["„Åæ„Åß","„Å∏","„Å´"],["„Çí"]],pure:!0,fn:function(e,t,n,r){const s=new FormData;for(const e in n)s.set(e,n[e]);fetch(t,{method:"POST",body:s}).then((e=>e.text())).then((t=>{r.__setSysVar("ÂØæË±°",t),e(t)})).catch((e=>{r.__getSysVar("AJAX:ONERROR")(e)}))}},"POST„Éá„Éº„ÇøÁîüÊàê":{type:"func",josi:[["„ÅÆ","„Çí"]],pure:!0,fn:function(e,t){const n=[];for(const t in e){const r=e[t],s=encodeURIComponent(t)+"="+encodeURIComponent(r);n.push(s)}return n.join("&")}},"POSTÈÄÅ‰ø°":{type:"func",josi:[["„Åæ„Åß","„Å∏","„Å´"],["„Çí"]],pure:!0,asyncFn:!0,fn:function(e,t,n){return new Promise(((r,s)=>{const o=n.__exec("POST„Éá„Éº„ÇøÁîüÊàê",[t,n]);fetch(e,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:o}).then((e=>e.text())).then((e=>{r(e)})).catch((e=>{s(e.message)}))}))}},"POST„Éï„Ç©„Éº„É†ÈÄÅ‰ø°":{type:"func",josi:[["„Åæ„Åß","„Å∏","„Å´"],["„Çí"]],pure:!0,asyncFn:!0,fn:function(e,t,n){return new Promise(((n,r)=>{const s=new FormData;for(const e in t)s.set(e,t[e]);fetch(e,{method:"POST",body:s}).then((e=>e.text())).then((e=>{n(e)})).catch((e=>{r(e.message)}))}))}},"AJAX‰øùÈöúÈÄÅ‰ø°":{type:"func",josi:[["„Åæ„Åß","„Å∏","„Å´"]],pure:!0,fn:function(e,t){let n=t.__getSysVar("AJAX„Ç™„Éó„Ç∑„Éß„É≥");return""===n&&(n={method:"GET"}),fetch(e,n)},return_none:!1},"HTTP‰øùÈöúÂèñÂæó":{type:"func",josi:[["„ÅÆ","„Åã„Çâ","„Çí"]],pure:!0,fn:function(e,t){return t.__exec("AJAX‰øùÈöúÈÄÅ‰ø°",[e,t])},return_none:!1},"POST‰øùÈöúÈÄÅ‰ø°":{type:"func",josi:[["„Åæ„Åß","„Å∏","„Å´"],["„Çí"]],pure:!0,fn:function(e,t,n){const r=n.__exec("POST„Éá„Éº„ÇøÁîüÊàê",[t,n]);return fetch(e,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:r})},return_none:!1},"POST„Éï„Ç©„Éº„É†‰øùÈöúÈÄÅ‰ø°":{type:"func",josi:[["„Åæ„Åß","„Å∏","„Å´"],["„Çí"]],pure:!0,fn:function(e,t,n){const r=new FormData;for(const e in t)r.set(e,t[e]);return fetch(e,{method:"POST",body:r})},return_none:!1},"AJAXÂÜÖÂÆπÂèñÂæó":{type:"func",josi:[["„Åã„Çâ"],["„Åß"]],pure:!0,fn:function(e,t,n){return"TEXT"===(t=t.toString().toUpperCase())||"„ÉÜ„Ç≠„Çπ„Éà"===t?e.text():"JSON"===t?e.json():"BLOB"===t?e.blob():"ARRAY"===t||"ÈÖçÂàó"===t?e.arrayBuffer():"BODY"===t||"Êú¨‰Ωì"===t?e.body:e.body()},return_none:!1},"BLOB‰ΩúÊàê":{type:"func",josi:[["„Çí","„Åã„Çâ"],["„Åß"]],pure:!0,fn:function(e,t){return e instanceof Array||(e=[e]),new Blob(e,t)}},"AJAXÈÄêÊ¨°ÈÄÅ‰ø°":{type:"func",josi:[["„Åæ„Åß","„Å∏","„Å´"]],pure:!0,fn:function(e,t){if(!t.resolve)throw new Error("„ÄéAJAXÈÄêÊ¨°ÈÄÅ‰ø°„Äè„ÅØ„ÄéÈÄêÊ¨°ÂÆüË°å„ÄèÊßãÊñáÂÜÖ„ÅßÂà©Áî®„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ");t.resolveCount++;const n=t.resolve,r=t.reject;let s=t.__getSysVar("AJAX„Ç™„Éó„Ç∑„Éß„É≥");""===s&&(s={method:"GET"}),fetch(e,s).then((e=>e.text())).then((e=>{t.__setSysVar("ÂØæË±°",e),n()})).catch((e=>{r(e.message)}))},return_none:!0},"HTTPÈÄêÊ¨°ÂèñÂæó":{type:"func",josi:[["„ÅÆ","„Åã„Çâ","„Çí"]],pure:!0,fn:function(e,t){if(!t.resolve)throw new Error("„ÄéHTTPÈÄêÊ¨°ÂèñÂæó„Äè„ÅØ„ÄéÈÄêÊ¨°ÂÆüË°å„ÄèÊßãÊñáÂÜÖ„ÅßÂà©Áî®„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ");t.__exec("AJAXÈÄêÊ¨°ÈÄÅ‰ø°",[e,t])},return_none:!0},"POSTÈÄêÊ¨°ÈÄÅ‰ø°":{type:"func",josi:[["„Åæ„Åß","„Å∏","„Å´"],["„Çí"]],pure:!0,fn:function(e,t,n){if(!n.resolve)throw new Error("„ÄéPOSTÈÄÅ‰ø°„Äè„ÅØ„ÄéÈÄêÊ¨°ÂÆüË°å„ÄèÊßãÊñáÂÜÖ„ÅßÂà©Áî®„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ");n.resolveCount++;const r=n.resolve,s=n.reject,o=n.__exec("POST„Éá„Éº„ÇøÁîüÊàê",[t,n]);fetch(e,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:o}).then((e=>e.text())).then((e=>{n.__setSysVar("ÂØæË±°",e),r(e)})).catch((e=>{s(e.message)}))},return_none:!0},"POST„Éï„Ç©„Éº„É†ÈÄêÊ¨°ÈÄÅ‰ø°":{type:"func",josi:[["„Åæ„Åß","„Å∏","„Å´"],["„Çí"]],pure:!0,fn:function(e,t,n){if(!n.resolve)throw new Error("„ÄéPOST„Éï„Ç©„Éº„É†ÈÄêÊ¨°ÈÄÅ‰ø°„Äè„ÅØ„ÄéÈÄêÊ¨°ÂÆüË°å„ÄèÊßãÊñáÂÜÖ„ÅßÂà©Áî®„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ");n.resolveCount++;const r=n.resolve,s=n.reject,o=new FormData;for(const e in t)o.set(e,t[e]);fetch(e,{method:"POST",body:o}).then((e=>e.text())).then((e=>{n.__setSysVar("ÂØæË±°",e),r(e)})).catch((e=>{s(e.message)}))},return_none:!0}}},"./src/plugin_browser_audio.mjs":function(e,t,n){"use strict";n.r(t),t.default={"„Ç™„Éº„Éá„Ç£„Ç™Èñã":{type:"func",josi:[["„Çí","„ÅÆ"]],pure:!0,fn:function(e,t){const n=new Audio;return n.src=e,n},return_none:!1},"„Ç™„Éº„Éá„Ç£„Ç™ÂÜçÁîü":{type:"func",josi:[["„Çí"]],pure:!0,fn:function(e,t){if(!e)throw new Error("„Ç™„Éº„Éá„Ç£„Ç™ÂÜçÁîü„Åô„ÇãÂâç„Å´„ÄÅ„Ç™„Éº„Éá„Ç£„Ç™Èñã„Åè„ÅßÈü≥Â£∞„Éï„Ç°„Ç§„É´„ÇíË™≠„ÅøËæº„Çì„Åß„Åè„Å†„Åï„ÅÑ");e.loop=!1,e.play()},return_none:!0},"„Ç™„Éº„Éá„Ç£„Ç™„É´„Éº„ÉóÂÜçÁîü":{type:"func",josi:[["„Çí"]],pure:!0,fn:function(e,t){if(!e)throw new Error("„Ç™„Éº„Éá„Ç£„Ç™ÂÜçÁîü„Åô„ÇãÂâç„Å´„ÄÅ„Ç™„Éº„Éá„Ç£„Ç™Èñã„Åè„ÅßÈü≥Â£∞„Éï„Ç°„Ç§„É´„ÇíË™≠„ÅøËæº„Çì„Åß„Åè„Å†„Åï„ÅÑ");e.loop=!0,e.play()},return_none:!0},"„Ç™„Éº„Éá„Ç£„Ç™ÂÅúÊ≠¢":{type:"func",josi:[["„Çí"]],pure:!0,fn:function(e,t){if(!e)throw new Error("„Ç™„Éº„Éá„Ç£„Ç™ÂÅúÊ≠¢„Åô„ÇãÂâç„Å´„ÄÅ„Ç™„Éº„Éá„Ç£„Ç™Èñã„Åè„ÅßÈü≥Â£∞„Éï„Ç°„Ç§„É´„ÇíË™≠„ÅøËæº„Çì„Åß„Åè„Å†„Åï„ÅÑ");e.pause(),e.currentTime=0,setTimeout((()=>{e.currentTime=0}),10)},return_none:!0},"„Ç™„Éº„Éá„Ç£„Ç™‰∏ÄÊôÇÂÅúÊ≠¢":{type:"func",josi:[["„Çí"]],pure:!0,fn:function(e,t){if(!e)throw new Error("„Ç™„Éº„Éá„Ç£„Ç™‰∏ÄÊôÇÂÅúÊ≠¢„Åô„ÇãÂâç„Å´„ÄÅ„Ç™„Éº„Éá„Ç£„Ç™Èñã„Åè„ÅßÈü≥Â£∞„Éï„Ç°„Ç§„É´„ÇíË™≠„ÅøËæº„Çì„Åß„Åè„Å†„Åï„ÅÑ");e.pause()},return_none:!0},"„Ç™„Éº„Éá„Ç£„Ç™Èü≥ÈáèÂèñÂæó":{type:"func",josi:[["„ÅÆ","„Åã„Çâ"]],pure:!0,fn:function(e,t){if(!e)throw new Error("„Ç™„Éº„Éá„Ç£„Ç™Èï∑ÂèñÂæó„Åô„ÇãÂâç„Å´„ÄÅ„Ç™„Éº„Éá„Ç£„Ç™Èñã„Åè„ÅßÈü≥Â£∞„Éï„Ç°„Ç§„É´„ÇíË™≠„ÅøËæº„Çì„Åß„Åè„Å†„Åï„ÅÑ");return e.volume}},"„Ç™„Éº„Éá„Ç£„Ç™Èü≥ÈáèË®≠ÂÆö":{type:"func",josi:[["„Çí"],["„Å´","„Å∏"]],pure:!0,fn:function(e,t,n){if(!e)throw new Error("„Ç™„Éº„Éá„Ç£„Ç™Èï∑ÂèñÂæó„Åô„ÇãÂâç„Å´„ÄÅ„Ç™„Éº„Éá„Ç£„Ç™Èñã„Åè„ÅßÈü≥Â£∞„Éï„Ç°„Ç§„É´„ÇíË™≠„ÅøËæº„Çì„Åß„Åè„Å†„Åï„ÅÑ");e.volume=t},return_none:!0},"„Ç™„Éº„Éá„Ç£„Ç™Èï∑ÂèñÂæó":{type:"func",josi:[["„ÅÆ","„Åã„Çâ"]],pure:!0,fn:function(e,t){if(!e)throw new Error("„Ç™„Éº„Éá„Ç£„Ç™Èï∑ÂèñÂæó„Åô„ÇãÂâç„Å´„ÄÅ„Ç™„Éº„Éá„Ç£„Ç™Èñã„Åè„ÅßÈü≥Â£∞„Éï„Ç°„Ç§„É´„ÇíË™≠„ÅøËæº„Çì„Åß„Åè„Å†„Åï„ÅÑ");return e.duration}},"„Ç™„Éº„Éá„Ç£„Ç™ÂÜçÁîü‰ΩçÁΩÆÂèñÂæó":{type:"func",josi:[["„ÅÆ","„Åã„Çâ"]],pure:!0,fn:function(e,t){if(!e)throw new Error("„Ç™„Éº„Éá„Ç£„Ç™ÂÜçÁîü‰ΩçÁΩÆÂèñÂæó„Åô„ÇãÂâç„Å´„ÄÅ„Ç™„Éº„Éá„Ç£„Ç™Èñã„Åè„ÅßÈü≥Â£∞„Éï„Ç°„Ç§„É´„ÇíË™≠„ÅøËæº„Çì„Åß„Åè„Å†„Åï„ÅÑ");return e.currentTime}},"„Ç™„Éº„Éá„Ç£„Ç™ÂÜçÁîü‰ΩçÁΩÆË®≠ÂÆö":{type:"func",josi:[["„Çí"],["„Å´","„Å∏"]],pure:!0,fn:function(e,t,n){if(!e)throw new Error("„Ç™„Éº„Éá„Ç£„Ç™ÂÅúÊ≠¢„Åô„ÇãÂâç„Å´„ÄÅ„Ç™„Éº„Éá„Ç£„Ç™Èñã„Åè„ÅßÈü≥Â£∞„Éï„Ç°„Ç§„É´„ÇíË™≠„ÅøËæº„Çì„Åß„Åè„Å†„Åï„ÅÑ");e.currentTime=t},return_none:!0}}},"./src/plugin_browser_canvas.mjs":function(e,t,n){"use strict";n.r(t);const r="ÊèèÁîª„ÇíË°å„ÅÜ„Åü„ÇÅ„Å´„ÅØ„ÄÅHTMLÂÜÖ„Å´canvas„ÇíÈÖçÁΩÆ„Åó„ÄÅid„ÇíÊåØ„Å£„Å¶„ÄéÊèèÁîªÈñãÂßã„ÄèÂëΩ‰ª§„Å´ÊåáÂÆö„Åó„Åæ„Åô„ÄÇ";t.default={"ÊèèÁîªÈñãÂßã":{type:"func",josi:[["„ÅÆ","„Å∏","„Åß"]],pure:!0,fn:function(e,t){if("string"==typeof e&&(e=document.querySelector(e)||document.getElementById(e)),!e)throw new Error("„ÄéÊèèÁîªÈñãÂßã„Äè„ÅßCanvas„ÇíÂèñÂæó„Åß„Åç„Åæ„Åõ„Çì„Åß„Åó„Åü„ÄÇ");t.__canvas=e,t.__ctx=e.getContext("2d"),t.__fillStyle="black",t.__strokeStyle="black",t.__setSysVar("ÊèèÁîª‰∏≠„Ç≠„É£„É≥„Éê„Çπ",e),t.__setSysVar("ÊèèÁîª‰∏≠„Ç≥„É≥„ÉÜ„Ç≠„Çπ„Éà",t.__ctx)},return_none:!0},"ÊèèÁîª‰∏≠„Ç≠„É£„É≥„Éê„Çπ":{type:"const",value:null},"ÊèèÁîª‰∏≠„Ç≥„É≥„ÉÜ„Ç≠„Çπ„Éà":{type:"const",value:null},"„Ç≠„É£„É≥„Éê„ÇπÁä∂ÊÖã‰øùÂ≠ò":{type:"func",josi:[],pure:!0,fn:function(e){if(!e.__ctx)throw new Error(r);e.__ctx.save()},return_none:!0},"„Ç≠„É£„É≥„Éê„ÇπÁä∂ÊÖãÂæ©ÂÖÉ":{type:"func",josi:[],pure:!0,fn:function(e){if(!e.__ctx)throw new Error(r);e.__ctx.restore()},return_none:!0},"Á∑öËâ≤Ë®≠ÂÆö":{type:"func",josi:[["„Å´","„Å∏"]],pure:!0,fn:function(e,t){if(!t.__ctx)throw new Error(r);t.__strokeStyle=e,""!==e&&(t.__ctx.strokeStyle=e)},return_none:!0},"Â°óËâ≤Ë®≠ÂÆö":{type:"func",josi:[["„Å´","„Å∏"]],pure:!0,fn:function(e,t){if(!t.__ctx)throw new Error(r);t.__fillStyle=e,""!==e&&(t.__ctx.fillStyle=e)},return_none:!0},"Á∑öÊèèÁîª":{type:"func",josi:[["„Åã„Çâ"],["„Å∏","„Åæ„Åß"]],pure:!0,fn:function(e,t,n){if(!n.__ctx)throw new Error(r);n.__ctx.beginPath(),n.__ctx.moveTo(e[0],e[1]),n.__ctx.lineTo(t[0],t[1]),n.__ctx.stroke()},return_none:!0},"Á∑öÂ§™Ë®≠ÂÆö":{type:"func",josi:[["„Å´","„Å∏"]],pure:!0,fn:function(e,t){if(!t.__ctx)throw new Error(r);t.__ctx.lineWidth=e},return_none:!0},"ÂõõËßíÊèèÁîª":{type:"func",josi:[["„ÅÆ","„Å∏","„Å´"]],pure:!0,fn:function(e,t){if(!t.__ctx)throw new Error(r);""===t.__fillStyle&&""===t.__strokeStyle||(t.__ctx.beginPath(),t.__ctx.rect(e[0],e[1],e[2],e[3]),""!==t.__fillStyle&&t.__ctx.fill(),""!==t.__strokeStyle&&t.__ctx.stroke())},return_none:!0},"ÂÖ®ÊèèÁîª„ÇØ„É™„Ç¢":{type:"func",josi:[],pure:!0,fn:function(e){if(!e.__ctx)throw new Error(r);e.__ctx.clearRect(0,0,e.__canvas.width,e.__canvas.height)},return_none:!0},"ÊèèÁîª„ÇØ„É™„Ç¢":{type:"func",josi:[["„ÅÆ","„Å∏","„Å´"]],pure:!0,fn:function(e,t){if(!t.__ctx)throw new Error(r);e instanceof Array||(e=[]),0===e.length?e=[0,0,t.__canvas.width,t.__canvas.height]:e.length<=2&&(e.unshift(0),e.unshift(0)),t.__ctx.clearRect(e[0],e[1],e[2],e[3])},return_none:!0},"ÂÜÜÊèèÁîª":{type:"func",josi:[["„Å∏","„Å´"],["„ÅÆ"]],pure:!0,fn:function(e,t,n){if(!n.__ctx)throw new Error(r);""===n.__fillStyle&&""===n.__strokeStyle||(n.__ctx.beginPath(),n.__ctx.arc(e[0],e[1],t,0,2*Math.PI,!1),""!==n.__fillStyle&&n.__ctx.fill(),""!==n.__strokeStyle&&n.__ctx.stroke())},return_none:!0},"Ê•ïÂÜÜÊèèÁîª":{type:"func",josi:[["„Å∏","„Å´","„ÅÆ"]],pure:!0,fn:function(e,t){if(!t.__ctx)throw new Error(r);if(!e)throw new Error("Ê•ïÂÜÜÊèèÁîª„ÅÆÂºïÊï∞ÈÖçÂàó„ÅåÁÑ°Âäπ„Åß„Åô");if(e.length<4)throw new Error("Ê•ïÂÜÜÊèèÁîª„ÅÆÂºïÊï∞ÈÖçÂàó„Åå‰∏çË∂≥„Åó„Å¶„ÅÑ„Åæ„Åô");e.length<7&&(e[4]||(e[4]=0),e[5]||(e[5]=0),e[6]||(e[6]=2*Math.PI),e[7]||(e[7]=!0)),""===t.__fillStyle&&""===t.__strokeStyle||(t.__ctx.beginPath(),t.__ctx.ellipse(...e),""!==t.__fillStyle&&t.__ctx.fill(),""!==t.__strokeStyle&&t.__ctx.stroke())},return_none:!0},"Â§öËßíÂΩ¢ÊèèÁîª":{type:"func",josi:[["„Åß","„ÅÆ","„Çí"]],pure:!0,fn:function(e,t){if(!t.__ctx)throw new Error(r);if(""===t.__fillStyle&&""===t.__strokeStyle)return;t.__ctx.beginPath();const n=e[0];t.__ctx.moveTo(n[0],n[1]);for(let n=1;n<e.length;n++){const r=e[n];t.__ctx.lineTo(r[0],r[1])}t.__ctx.lineTo(n[0],n[1]),""!==t.__fillStyle&&t.__ctx.fill(),""!==t.__strokeStyle&&t.__ctx.stroke()},return_none:!0},"ÁîªÂÉèË™≠":{type:"func",josi:[["„ÅÆ","„Çí"]],pure:!0,fn:function(e,t){const n=new window.Image;return n.src=e,n.crossOrigin="Anonymous",n}},"ÁîªÂÉèË™≠ÂæÖ":{type:"func",josi:[["„ÅÆ","„Çí"]],pure:!0,asyncFn:!0,fn:function(e){return new Promise(((t,n)=>{const r=new window.Image;r.src=e,r.crossOrigin="Anonymous",r.onload=()=>{t(r)},r.onerror=()=>{n(new Error(`„ÄéÁîªÂÉèË™≠ÂæÖ„Äè„ÅßË™≠Ëæº„Åø„Ç®„É©„Éº„ÄÇURL=„Äé${e}„Äè`))}}))}},"ÁîªÂÉèÈÄêÊ¨°Ë™≠":{type:"func",josi:[["„ÅÆ","„Çí"]],pure:!0,fn:function(e,t){if(void 0===t.resolve)throw new Error("„ÄéÁîªÂÉèÈÄêÊ¨°Ë™≠„Äè„ÅØ„ÄéÈÄêÊ¨°ÂÆüË°å„ÄèÊßãÊñá„Åß‰Ωø„Å£„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ");t.resolveCount++;const n=new window.Image;return n.src=e,n.crossOrigin="Anonymous",n.onload=()=>{t.__setSysVar("ÂØæË±°",n),t.resolve()},n.onerror=()=>{t.__setSysVar("ÂØæË±°",""),t.reject()},n}},"ÁîªÂÉèË™≠ÊôÇ":{type:"func",josi:[["„Åß"],["„ÅÆ","„Çí"]],pure:!0,fn:function(e,t,n){const r=n.__findVar(e,null),s=new window.Image;s.src=t,s.crossOrigin="Anonymous",s.onload=()=>{n.__setSysVar("ÂØæË±°",s),r(n)},s.onerror=()=>{n.__setSysVar("ÂØæË±°",""),r(n)}},return_none:!0},"ÁîªÂÉèÊèèÁîª":{type:"func",josi:[["„ÅÆ","„Çí"],["„Å∏","„Å´"]],pure:!0,fn:function(e,t,n){if(!n.__ctx)throw new Error(r);const s=(e,n)=>{if(2===t.length)n.drawImage(e,t[0],t[1]);else if(4===t.length)n.drawImage(e,t[0],t[1],t[2],t[3]);else{if(8!==t.length)throw new Error("„ÄéÁîªÂÉèÊèèÁîª„Äè„ÅÆÁ¨¨‰∫åÂºïÊï∞„ÅÆÈÖçÂàóË¶ÅÁ¥†„ÅØ2,4,8ÂÄã„ÅÆ„ÅÑ„Åö„Çå„Åã„Åß„Åô„ÄÇ");n.drawImage(e,t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7])}};if("string"==typeof e){const t=new window.Image;return t.src=e,t.crossOrigin="Anonymous",t.onload=()=>{s(t,n.__ctx)},t}return s(e,n.__ctx),e},return_none:!1},"ÁîªÂÉèÈÉ®ÂàÜÊèèÁîª":{type:"func",josi:[["„ÅÆ"],["„Çí","„Åã„Çâ"],["„Å∏","„Å´"]],pure:!0,fn:function(e,t,n,s){const o="„ÄéÁîªÂÉèÈÉ®ÂàÜÊèèÁîª„Äè„Å´‰Ωø„Åà„ÇãÂºïÊï∞„ÅØÁîªÂÉè„Å®„ÄÅÊèèÁîª„Åô„ÇãÂ∫ßÊ®ô„Å∏2„Å§„Åã„ÄÅÊèèÁîª„Åô„ÇãÂ∫ßÊ®ô„Å®„Åù„ÅÆ‰ΩçÁΩÆ„ÅÆ4„Å§„Åã„ÄÅ‰ΩøÁî®„Åô„ÇãÂ∫ßÊ®ô„Å®‰ΩøÁî®„Åô„Çã‰ΩçÁΩÆ„Å®ÊèèÁîª„Åô„ÇãÂ∫ßÊ®ô„Å®Â§ß„Åç„Åï„ÅÆ8„Å§„Å†„Åë„Åß„Åô„ÄÇ";if(e&&t&&!Array.isArray(t)&&Array.isArray(e)&&("string"==typeof t||"[object HTMLImageElement]"===String(t.__proto__))){const n=e;e=t,t=n}if(!s.__ctx)throw new Error(r);const i=(e,r)=>{if(n||(t?t.length>=2&&(n=t,t=void 0):r.drawImage(e)),2===n.length)r.drawImage(e,n[0],n[1]);else{if(4!==n.length)throw new Error(o);if(t){if(4!==t.length)throw new Error(o);r.drawImage(e,t[0],t[1],t[2],t[3],n[0],n[1],n[2],n[3])}else r.drawImage(e,n[0],n[1],n[2],n[3])}};if("string"==typeof e){const t=new window.Image;return t.src=e,t.crossOrigin="Anonymous",t.onload=()=>{i(t,s.__ctx)},t}return i(e,s.__ctx),e},return_none:!1},"ÊèèÁîª„Éï„Ç©„É≥„ÉàË®≠ÂÆö":{type:"func",josi:[["„Çí","„ÅÆ","„Åß","„Å´"]],pure:!0,fn:function(e,t){"number"==typeof e&&(e+="px sans-serif"),/^[0-9]+(px|em)$/.test(e)&&(e+=" sans-serif"),t.__ctx.font=e},return_none:!0},"ÊñáÂ≠óÊèèÁîª":{type:"func",josi:[["„Å∏","„Å´"],["„ÅÆ","„Çí"]],pure:!0,fn:function(e,t,n){if(!n.__ctx)throw new Error(r);n.__ctx.fillText(t,e[0],e[1])},return_none:!0},"ÊñáÂ≠óÊèèÁîªÂπÖÂèñÂæó":{type:"func",josi:[["„ÅÆ"]],pure:!0,fn:function(e,t){if(!t.__ctx)throw new Error(r);return t.__ctx.measureText(e)},return_none:!0},"ÊèèÁîªËµ∑ÁÇπË®≠ÂÆö":{type:"func",josi:[["„Å∏","„Å´"]],pure:!0,fn:function(e,t){if(!t.__ctx)throw new Error(r);t.__ctx.translate(e[0],e[1])},return_none:!0},"ÊèèÁîªÂõûËª¢":{type:"func",josi:[["„Å†„Åë","„Å´","„Å∏"]],pure:!0,fn:function(e,t){if(!t.__ctx)throw new Error(r);t.__ctx.rotate(e*Math.PI/180)},return_none:!0},"ÊèèÁîªÊã°Â§ß":{type:"func",josi:[["„Å†„Åë","„Å´","„Å∏"]],pure:!0,fn:function(e,t){if(!t.__ctx)throw new Error(r);t.__ctx.scale(e[0],e[1])},return_none:!0},"ÊèèÁîªÂ§âÊèõ„Éû„Éà„É™„ÇØ„ÇπË®≠ÂÆö":{type:"func",josi:[["„Å†„Åë","„Å´","„Å∏"]],pure:!0,fn:function(e,t){if(!t.__ctx)throw new Error(r);t.__ctx.setTransform(e[0],e[1],e[2],e[3],e[4],e[5],e[6])},return_none:!0},"ÊèèÁîªÂ§âÊèõ„Éû„Éà„É™„ÇØ„ÇπËøΩÂä†":{type:"func",josi:[["„Å†„Åë","„Å´","„Å∏"]],pure:!0,fn:function(e,t){if(!t.__ctx)throw new Error(r);t.__ctx.transform(e[0],e[1],e[2],e[3],e[4],e[5],e[6])},return_none:!0},"ÊèèÁîª„Éá„Éº„ÇøURLÂ§âÊèõ":{type:"func",josi:[],pure:!0,fn:function(e){return e.__getSysVar("ÊèèÁîª‰∏≠„Ç≠„É£„É≥„Éê„Çπ").toDataURL("image/png")}},"ÊèèÁîª„Éá„Éº„ÇøBLOBÂ§âÊèõ":{type:"func",josi:[],pure:!0,asyncFn:!0,fn:function(e){return new Promise(((t,n)=>{e.__getSysVar("ÊèèÁîª‰∏≠„Ç≠„É£„É≥„Éê„Çπ").toBlob((e=>{t(e)}),"image/png")}))}},"ÊèèÁîª„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ„É™„É≥„ÇØ‰ΩúÊàê":{type:"func",josi:[["„Å∏","„Å´"]],pure:!0,fn:function(e,t){if("string"==typeof e&&(e=document.querySelector(e)),!e)throw new Error("„ÄéÊèèÁîª„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ„É™„É≥„ÇØ‰ΩúÊàê„Äè„ÅßDOM„ÅåË¶ãÂΩì„Åü„Çä„Åæ„Åõ„Çì„ÄÇ");const n=t.__getSysVar("ÊèèÁîª‰∏≠„Ç≠„É£„É≥„Éê„Çπ");if(!n)throw new Error("„ÄéÊèèÁîª„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ„Äè„ÅßÊèèÁîª‰∏≠„Ç≠„É£„É≥„Éê„Çπ„ÅåË®≠ÂÆö„Åï„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì„ÄÇ");e.href=n.toDataURL("image/png"),e.download="canvas.png"},return_none:!0},"ÊèèÁîª„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ":{type:"func",josi:[],pure:!0,fn:function(e){const t=e.__getSysVar("ÊèèÁîª‰∏≠„Ç≠„É£„É≥„Éê„Çπ");if(!t)throw new Error("„ÄéÊèèÁîª„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ„Äè„ÅßÊèèÁîª‰∏≠„Ç≠„É£„É≥„Éê„Çπ„ÅåË®≠ÂÆö„Åï„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì„ÄÇ");const n=document.createElement("a");return n.href=t.toDataURL("image/png"),n.download="canvas.png",n.click(),!0}}}},"./src/plugin_browser_chart.mjs":function(e,t,n){"use strict";n.r(t),t.default={"„Ç∞„É©„ÉïÊèèÁîª":{type:"func",josi:[["„Çí","„Åß","„ÅÆ"]],asyncFn:!0,fn:async function(e,t){const n=t.__getSysVar("WINDOW");if(void 0===n)throw new Error("„Äé„Ç∞„É©„ÉïÊèèÁîª„Äè„ÅÆ„Ç®„É©„Éº„ÄÇ„Éñ„É©„Ç¶„Ç∂„ÅßÂÆüË°å„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ");if(void 0===n.Chart&&(console.log("try to load chart.js"),await t.__loadScript("https://cdn.jsdelivr.net/npm/chart.js@4.4.0"),console.log("loaded chart.js")),void 0===n.Chart)throw new Error("„Äé„Ç∞„É©„ÉïÊèèÁîª„Äè„ÅÆ„Ç®„É©„Éº„ÄÇChart.js„ÇíÂèñ„ÇäËæº„Åø„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇ");const r=n.Chart;if(!t.__canvas)throw new Error("„Äé„Ç∞„É©„ÉïÊèèÁîª„Äè„ÅÆ„Ç®„É©„Éº„ÄÇ„ÄéÊèèÁîªÈñãÂßã„ÄèÂëΩ‰ª§„ÅßÊèèÁîªÂÖà„ÅÆCanvas„ÇíÊåáÂÆö„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ ");e["„Çø„Ç§„Éó"]&&(e.type=e["„Çø„Ç§„Éó"]),e["„Éá„Éº„Çø"]&&(e.data=e["„Éá„Éº„Çø"]),e["„Ç™„Éó„Ç∑„Éß„É≥"]&&(e.options=e["„Ç™„Éó„Ç∑„Éß„É≥"]),t.__chartjs&&t.__chartjs.destroy();const s=new r(t.__canvas,e);return t.__chartjs=s,s}},"„Ç∞„É©„Éï„Ç™„Éó„Ç∑„Éß„É≥":{type:"const",value:{}},"Á∑ö„Ç∞„É©„ÉïÊèèÁîª":{type:"func",josi:[["„Çí","„Åß","„ÅÆ"]],asyncFn:!0,fn:async function(e,t){const n={type:"line",data:e=t.__exec("‰∫åÊ¨°ÂÖÉ„Ç∞„É©„Éï„Éá„Éº„ÇøÂ§âÂΩ¢",["line",e,t]),options:t.__getSysVar("„Ç∞„É©„Éï„Ç™„Éó„Ç∑„Éß„É≥")};return t.__exec("„Ç∞„É©„ÉïÊèèÁîª",[n,t])}},"Ê£í„Ç∞„É©„ÉïÊèèÁîª":{type:"func",josi:[["„Çí","„Åß","„ÅÆ"]],asyncFn:!0,fn:async function(e,t){const n=Object.assign({},t.__getSysVar("„Ç∞„É©„Éï„Ç™„Éó„Ç∑„Éß„É≥"),{indexAxis:"x"}),r={type:"bar",data:e=t.__exec("‰∫åÊ¨°ÂÖÉ„Ç∞„É©„Éï„Éá„Éº„ÇøÂ§âÂΩ¢",["bar",e,t]),options:n};return t.__exec("„Ç∞„É©„ÉïÊèèÁîª",[r,t])}},"Ê®™Ê£í„Ç∞„É©„ÉïÊèèÁîª":{type:"func",josi:[["„Çí","„Åß","„ÅÆ"]],pure:!0,asyncFn:!0,fn:async function(e,t){const n=Object.assign({},t.__getSysVar("„Ç∞„É©„Éï„Ç™„Éó„Ç∑„Éß„É≥"),{indexAxis:"y"}),r={type:"bar",data:e=t.__exec("‰∫åÊ¨°ÂÖÉ„Ç∞„É©„Éï„Éá„Éº„ÇøÂ§âÂΩ¢",["bar",e,t]),options:n};return t.__exec("„Ç∞„É©„ÉïÊèèÁîª",[r,t])}},"Á©ç‰∏äÊ£í„Ç∞„É©„ÉïÊèèÁîª":{type:"func",josi:[["„Çí","„Åß","„ÅÆ"]],asyncFn:!0,fn:async function(e,t){const n=Object.assign({},t.__getSysVar("„Ç∞„É©„Éï„Ç™„Éó„Ç∑„Éß„É≥"),{indexAxis:"x",scales:{x:{stacked:!0},y:{stacked:!0}}}),r={type:"bar",data:e=t.__exec("‰∫åÊ¨°ÂÖÉ„Ç∞„É©„Éï„Éá„Éº„ÇøÂ§âÂΩ¢",["bar",e,t]),options:n};return t.__exec("„Ç∞„É©„ÉïÊèèÁîª",[r,t])}},"Á©ç‰∏äÊ®™Ê£í„Ç∞„É©„ÉïÊèèÁîª":{type:"func",josi:[["„Çí","„Åß","„ÅÆ"]],asyncFn:!0,fn:async function(e,t){const n=Object.assign({},t.__getSysVar("„Ç∞„É©„Éï„Ç™„Éó„Ç∑„Éß„É≥"),{indexAxis:"y",scales:{x:{stacked:!0},y:{stacked:!0}}}),r={type:"bar",data:e=t.__exec("‰∫åÊ¨°ÂÖÉ„Ç∞„É©„Éï„Éá„Éº„ÇøÂ§âÂΩ¢",["bar",e,t]),options:n};return t.__exec("„Ç∞„É©„ÉïÊèèÁîª",[r,t])}},"Êï£Â∏ÉÂõ≥ÊèèÁîª":{type:"func",josi:[["„Çí","„Åß","„ÅÆ"]],asyncFn:!0,fn:async function(e,t){const n=Object.assign({},t.__getSysVar("„Ç∞„É©„Éï„Ç™„Éó„Ç∑„Éß„É≥"),{}),r={type:"scatter",data:e=t.__exec("‰∫åÊ¨°ÂÖÉ„Ç∞„É©„Éï„Éá„Éº„ÇøÂ§âÂΩ¢",["scatter",e,t]),options:n};return t.__exec("„Ç∞„É©„ÉïÊèèÁîª",[r,t])}},"ÂÜÜ„Ç∞„É©„ÉïÊèèÁîª":{type:"func",josi:[["„Çí","„Åß","„ÅÆ"]],asyncFn:!0,fn:async function(e,t){const n={type:"pie",data:e=t.__exec("‰∫åÊ¨°ÂÖÉ„Ç∞„É©„Éï„Éá„Éº„ÇøÂ§âÂΩ¢",["pie",e,t]),options:t.__getSysVar("„Ç∞„É©„Éï„Ç™„Éó„Ç∑„Éß„É≥")};return t.__exec("„Ç∞„É©„ÉïÊèèÁîª",[n,t])}},"„Éâ„Éº„Éä„ÉÑ„Ç∞„É©„ÉïÊèèÁîª":{type:"func",josi:[["„Çí","„Åß","„ÅÆ"]],asyncFn:!0,fn:async function(e,t){const n={type:"doughnut",data:e=t.__exec("‰∫åÊ¨°ÂÖÉ„Ç∞„É©„Éï„Éá„Éº„ÇøÂ§âÂΩ¢",["pie",e,t]),options:t.__getSysVar("„Ç∞„É©„Éï„Ç™„Éó„Ç∑„Éß„É≥")};return t.__exec("„Ç∞„É©„ÉïÊèèÁîª",[n,t])}},"„Éù„Éº„É©„Éº„Ç∞„É©„ÉïÊèèÁîª":{type:"func",josi:[["„Çí","„Åß","„ÅÆ"]],asyncFn:!0,fn:async function(e,t){const n={type:"polarArea",data:e=t.__exec("‰∫åÊ¨°ÂÖÉ„Ç∞„É©„Éï„Éá„Éº„ÇøÂ§âÂΩ¢",["pie",e,t]),options:t.__getSysVar("„Ç∞„É©„Éï„Ç™„Éó„Ç∑„Éß„É≥")};return t.__exec("„Ç∞„É©„ÉïÊèèÁîª",[n,t])}},"„É¨„Éº„ÉÄ„Éº„Ç∞„É©„ÉïÊèèÁîª":{type:"func",josi:[["„Çí","„Åß","„ÅÆ"]],asyncFn:!0,fn:async function(e,t){const n={type:"radar",data:e=t.__exec("‰∫åÊ¨°ÂÖÉ„Ç∞„É©„Éï„Éá„Éº„ÇøÂ§âÂΩ¢",["bar",e,t]),options:t.__getSysVar("„Ç∞„É©„Éï„Ç™„Éó„Ç∑„Éß„É≥")};return t.__exec("„Ç∞„É©„ÉïÊèèÁîª",[n,t])}},"‰∫åÊ¨°ÂÖÉ„Ç∞„É©„Éï„Éá„Éº„ÇøÂ§âÂΩ¢":{type:"func",josi:[["„ÅÆ"],["„Çí"]],fn:function(e,t,n){const r=JSON.parse(JSON.stringify(t)),s=["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],o=["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],i={},u=[],c=[];if(i.labels=[],r instanceof Array){if(r[0]instanceof Array){if("pie"===e){const e={data:[]};i.datasets=[e];for(let t=0;t<r.length;t++)i.labels.push(r[t][0]),e.data.push(r[t][1]),u.push(s[t%6]),c.push(o[t%6]);return e.backgroundColor=u,e.borderColor=c,i}if("string"==typeof r[1][0]){for(let e=1;e<r.length;e++)i.labels.push(r[e][0]),r[e]=r[e].slice(1);r[0]=r[0].slice(1)}else for(let e=1;e<r.length;e++)i.labels.push(e);i.datasets=[];for(let e=0;e<r[0].length;e++){const t={};i.datasets.push(t),t.label=r[0][e],t.backgroundColor=s[e%6],t.borderColor=o[e%6],t.data=[];for(let n=1;n<r.length;n++)t.data.push(r[n][e])}return i}for(let e=0;e<r.length;e++)i.labels.push(e+1),u.push(s[e%6]),c.push(o[e%6]);const t={};return i.datasets=[t],t.label="„Éá„Éº„Çø",t.data=r,t.backgroundColor=u,t.borderColor=c,i}return r instanceof Object?r:n.__exec("‰∫åÊ¨°ÂÖÉ„Ç∞„É©„Éï„Éá„Éº„ÇøÂ§âÂΩ¢",[[r],n])}}}},"./src/plugin_browser_color.mjs":function(e,t,n){"use strict";n.r(t),t.default={"Ê∞¥Ëâ≤":{type:"const",value:"aqua"},"Á¥´Ëâ≤":{type:"const",value:"fuchsia"},"Á∑ëËâ≤":{type:"const",value:"lime"},"ÈùíËâ≤":{type:"const",value:"blue"},"Ëµ§Ëâ≤":{type:"const",value:"red"},"ÈªÑËâ≤":{type:"const",value:"yellow"},"ÈªíËâ≤":{type:"const",value:"black"},"ÁôΩËâ≤":{type:"const",value:"white"},"Ëå∂Ëâ≤":{type:"const",value:"maroon"},"ÁÅ∞Ëâ≤":{type:"const",value:"gray"},"ÈáëËâ≤":{type:"const",value:"gold"},"ÈªÑÈáëËâ≤":{type:"const",value:"gold"},"ÈäÄËâ≤":{type:"const",value:"silver"},"ÁôΩÈáëËâ≤":{type:"const",value:"silver"},"„Ç™„É™„Éº„ÉñËâ≤":{type:"const",value:"olive"},"„Éô„Éº„Ç∏„É•Ëâ≤":{type:"const",value:"beige"},"„Ç¢„É™„Çπ„Éñ„É´„ÉºËâ≤":{type:"const",value:"aliceblue"},RGB:{type:"func",josi:[["„Å®"],["„Å®"],["„Åß","„ÅÆ"]],pure:!0,fn:function(e,t,n){const r=e=>{const t="00"+e.toString(16);return t.substr(t.length-2,2)};return"#"+r(e)+r(t)+r(n)},return_none:!1},"Ëâ≤Ê∑∑":{type:"func",josi:[["„ÅÆ"]],pure:!0,fn:function(e){const t=e=>{const t="00"+e.toString(16);return t.substr(t.length-2,2)};if(!e)throw new Error("„ÄéËâ≤Ê∑∑„Åú„Çã„Äè„ÅÆÂºïÊï∞„Å´„ÅØÈÖçÂàó„ÇíÊåáÂÆö„Åó„Åæ„Åô");if(e.length<3)throw new Error("„ÄéËâ≤Ê∑∑„Åú„Çã„Äè„ÅÆÂºïÊï∞„Å´„ÅØ[RR,GG,BB]ÂΩ¢Âºè„ÅÆÈÖçÂàó„ÇíÊåáÂÆö„Åó„Åæ„Åô");return"#"+t(e[0])+t(e[1])+t(e[2])},return_none:!1}}},"./src/plugin_browser_crypto.mjs":function(e,t,n){"use strict";n.r(t),t.default={"„Éè„ÉÉ„Ç∑„É•ÂÄ§Ë®àÁÆóÊôÇ":{type:"func",josi:[["„Å∏"],["„Çí"],["„Åß"]],pure:!0,fn:function(e,t,n,r){e=r.__findVar(e,null);const s=(new TextEncoder).encode(t);crypto.subtle.digest(n,s).then((function(t){const n=[],s=new DataView(t);for(let e=0;e<s.byteLength;e+=4){const t="00"+s.getUint32(e).toString(16);n.push(t.substr(t.length-2,2))}const o=r.__setSysVar("ÂØæË±°",n.join(""));e(o)}))},return_none:!0}}},"./src/plugin_browser_dialog.mjs":function(e,t,n){"use strict";n.r(t),t.default={"Ë®Ä":{type:"func",josi:[["„Å®","„Çí"]],pure:!0,fn:function(e){window.alert(e)},return_none:!0},"„ÉÄ„Ç§„Ç¢„É≠„Ç∞„Ç≠„É£„É≥„Çª„É´ÂÄ§":{type:"var",value:""},"Â∞ã":{type:"func",josi:[["„Å®","„Çí"]],pure:!0,fn:function(e,t){const n=window.prompt(e);return null===n?t.__getSysVar("„ÉÄ„Ç§„Ç¢„É≠„Ç∞„Ç≠„É£„É≥„Çª„É´ÂÄ§"):/^[-+]?[0-9]+(\.[0-9]+)?$/.test(n)?parseFloat(n):/^[-+ÔºçÔºã]?[0-9Ôºê-Ôºô]+([.Ôºé][0-9Ôºê-Ôºô]+)?$/.test(n)?parseFloat(n.replace(/[ÔºçÔºãÔºê-ÔºôÔºé]/g,(e=>String.fromCharCode(e.charCodeAt(0)-65248)))):n}},"ÊñáÂ≠óÂ∞ã":{type:"func",josi:[["„Å®","„Çí"]],pure:!0,fn:function(e,t){const n=window.prompt(e);return null===n?t.__getSysVar("„ÉÄ„Ç§„Ç¢„É≠„Ç∞„Ç≠„É£„É≥„Çª„É´ÂÄ§"):n}},"‰∫åÊäû":{type:"func",josi:[["„Åß","„ÅÆ","„Å®","„Çí"]],pure:!0,fn:function(e){return window.confirm(e)}}}},"./src/plugin_browser_dom_basic.mjs":function(e,t,n){"use strict";n.r(t),t.default={DOCUMENT:{type:"const",value:""},WINDOW:{type:"const",value:""},NAVIGATOR:{type:"const",value:""},"DOMË¶ÅÁ¥†IDÂèñÂæó":{type:"func",josi:[["„ÅÆ","„Çí"]],pure:!0,fn:function(e){return document.getElementById(e)}},"DOMË¶ÅÁ¥†ÂèñÂæó":{type:"func",josi:[["„ÅÆ","„Çí"]],pure:!0,fn:function(e){return"string"==typeof e?document.querySelector(e):e}},"DOMË¶ÅÁ¥†ÂÖ®ÂèñÂæó":{type:"func",josi:[["„ÅÆ","„Çí"]],pure:!0,fn:function(e){return Array.from(document.querySelectorAll(e))}},"„Çø„Ç∞‰∏ÄË¶ßÂèñÂæó":{type:"func",josi:[["„ÅÆ","„Çí"]],pure:!0,fn:function(e){return Array.from(document.getElementsByTagName(e))}},"DOMÂ≠êË¶ÅÁ¥†ÂèñÂæó":{type:"func",josi:[["„ÅÆ"],["„Çí"]],pure:!0,fn:function(e,t,n){if(!(e=n.__query(e,"DOMÂ≠êË¶ÅÁ¥†ÂèñÂæó",!0)).querySelector)throw new Error("„ÄéDOMÂ≠êË¶ÅÁ¥†ÂèñÂæó„Äè„ÅßË¶™Ë¶ÅÁ¥†„ÅåDOM„Åß„ÅØ„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ");return e.querySelector(t)}},"DOMÂ≠êË¶ÅÁ¥†ÂÖ®ÂèñÂæó":{type:"func",josi:[["„ÅÆ"],["„Çí"]],pure:!0,fn:function(e,t,n){if(!(e=n.__query(e,"DOMÂ≠êË¶ÅÁ¥†ÂÖ®ÂèñÂæó",!0)).querySelectorAll)throw new Error("„ÄéDOMÂ≠êË¶ÅÁ¥†ÂÖ®ÂèñÂæó„Äè„ÅßË¶™Ë¶ÅÁ¥†„ÅåDOM„Åß„ÅØ„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ");return Array.from(e.querySelectorAll(t))}},"DOM„Ç§„Éô„É≥„ÉàË®≠ÂÆö":{type:"func",josi:[["„ÅÆ"],["„Å´","„Å∏"],["„Çí"]],pure:!0,fn:function(e,t,n,r){(e=r.__query(e,"DOM„Ç§„Éô„É≥„ÉàË®≠ÂÆö",!1))[t]=r.__findVar(n,null)},return_none:!0},"DOM„ÉÜ„Ç≠„Çπ„ÉàË®≠ÂÆö":{type:"func",josi:[["„Å´","„ÅÆ","„Å∏"],["„Çí"]],pure:!0,fn:function(e,t,n){const r=(e=n.__query(e,"DOM„ÉÜ„Ç≠„Çπ„ÉàË®≠ÂÆö",!1)).tagName.toUpperCase();if("INPUT"===r||"TEXTAREA"===r)e.value=t;else if("SELECT"===r)for(let n=0;n<e.options.length;n++){const r=e.options[n].value;if(String(r)===t){e.selectedIndex=n;break}}else e.innerHTML=t},return_none:!0},"DOM„ÉÜ„Ç≠„Çπ„ÉàÂèñÂæó":{type:"func",josi:[["„ÅÆ","„Åã„Çâ"]],pure:!0,fn:function(e,t){if(!(e=t.__query(e,"DOM„ÉÜ„Ç≠„Çπ„ÉàÂèñÂæó",!0)))return"";const n=e.tagName.toUpperCase();if("INPUT"===n||"TEXTAREA"===n)return e.value;if("SELECT"===n){const t=e.selectedIndex;return t<0?null:e.options[t].value}return e.innerHTML}},"DOM_HTMLË®≠ÂÆö":{type:"func",josi:[["„Å´","„ÅÆ","„Å∏"],["„Çí"]],pure:!0,fn:function(e,t,n){(e=n.__query(e,"DOM_HTMLË®≠ÂÆö",!1)).innerHTML=t},return_none:!0},"DOM_HTMLÂèñÂæó":{type:"func",josi:[["„ÅÆ","„Åã„Çâ"]],pure:!0,fn:function(e,t){return(e=t.__query(e,"DOM_HTMLÂèñÂæó",!0))?e.innerHTML:""}},"„ÉÜ„Ç≠„Çπ„ÉàË®≠ÂÆö":{type:"func",josi:[["„Å´","„ÅÆ","„Å∏"],["„Çí"]],pure:!0,fn:function(e,t,n){return n.__exec("DOM„ÉÜ„Ç≠„Çπ„ÉàË®≠ÂÆö",[e,t,n])}},"„ÉÜ„Ç≠„Çπ„ÉàÂèñÂæó":{type:"func",josi:[["„ÅÆ","„Åã„Çâ"]],pure:!0,fn:function(e,t){return t.__exec("DOM„ÉÜ„Ç≠„Çπ„ÉàÂèñÂæó",[e,t])}},"HTMLË®≠ÂÆö":{type:"func",josi:[["„Å´","„ÅÆ","„Å∏"],["„Çí"]],pure:!0,fn:function(e,t,n){return n.__exec("DOM_HTMLË®≠ÂÆö",[e,t,n])}},"HTMLÂèñÂæó":{type:"func",josi:[["„ÅÆ","„Åã„Çâ"]],pure:!0,fn:function(e,t){return t.__exec("DOM_HTMLÂèñÂæó",[e,t])}},"DOMÂ±ûÊÄßË®≠ÂÆö":{type:"func",josi:[["„ÅÆ"],["„Å´","„Å∏"],["„Çí"]],uses:["DOMÂíåÂ±ûÊÄß"],pure:!0,fn:function(e,t,n,r){e=r.__query(e,"DOMÂ±ûÊÄßË®≠ÂÆö",!1);const s=r.__getSysVar("DOMÂíåÂ±ûÊÄß");s[t]&&(t=s[t]),t in e?e[t]=n:e.setAttribute(t,n)},return_none:!0},"DOMÂ±ûÊÄßÂèñÂæó":{type:"func",josi:[["„ÅÆ","„Åã„Çâ"],["„Çí"]],uses:["DOMÂíåÂ±ûÊÄß"],pure:!0,fn:function(e,t,n){if(!(e=n.__query(e,"DOMÂ±ûÊÄßÂèñÂæó",!0)))return"";const r=n.__getSysVar("DOMÂíåÂ±ûÊÄß");return r[t]&&(t=r[t]),t in e?e[t]:e.getAttribute(t)}},"DOMÂíåÂ±ûÊÄß":{type:"const",value:{"ÂπÖ":"width","È´ò„Åï":"height","È´ò":"height","„Çø„Ç§„Éó":"type","„Éá„Éº„Çø":"data","ÂêçÂâç":"name",ID:"id","Ë™≠ÂèñÂ∞ÇÁî®":"readOnly","Ë™≠„ÅøÂèñ„ÇäÂ∞ÇÁî®":"readOnly","ÁÑ°ÂäπÂåñ":"disabled"}},"DOMÂíå„Çπ„Çø„Ç§„É´":{type:"const",value:{"ÂπÖ":"width","È´ò„Åï":"height","È´ò":"height","ËÉåÊôØËâ≤":"background-color","Ëâ≤":"color","„Éû„Éº„Ç∏„É≥":"margin","‰ΩôÁôΩ":"padding","ÊñáÂ≠ó„Çµ„Ç§„Ç∫":"font-size","Ë°åÊèÉ„Åà":"text-align","Â∑¶":"left","Âè≥":"right","‰∏≠Â§Æ":"center","„Éú„Éº„ÉÄ„Éº":"border","„Éú„ÉÉ„ÇØ„ÇπË°®Á§∫":"display","„Å™„Åó":"none","„Éñ„É≠„ÉÉ„ÇØ":"block","Ë°®Á§∫‰ΩçÁΩÆ":"float","Èáç„Å™„Çä":"z-index","Ë™≠ÂèñÂ∞ÇÁî®":"readOnly","Ë™≠„ÅøÂèñ„ÇäÂ∞ÇÁî®":"readOnly",readonly:"readOnly"}},"DOM„Çπ„Çø„Ç§„É´Ë®≠ÂÆö":{type:"func",josi:[["„ÅÆ"],["„Å´","„Å∏"],["„Çí"]],uses:["DOMÂíå„Çπ„Çø„Ç§„É´"],pure:!0,fn:function(e,t,n,r){e=r.__query(e,"DOM„Çπ„Çø„Ç§„É´Ë®≠ÂÆö",!1);const s=r.__getSysVar("DOMÂíå„Çπ„Çø„Ç§„É´");void 0!==s[t]&&(t=s[t]),void 0!==s[n]&&(n=s[n]),e.style[t]=n},return_none:!0},"DOM„Çπ„Çø„Ç§„É´‰∏ÄÊã¨Ë®≠ÂÆö":{type:"func",josi:[["„Å´","„Å∏"],["„Çí"]],uses:["DOMÂíå„Çπ„Çø„Ç§„É´"],pure:!0,fn:function(e,t,n){(e=n.__query(e,"DOM„Çπ„Çø„Ç§„É´‰∏ÄÊã¨Ë®≠ÂÆö",!1))instanceof window.HTMLElement&&(e=[e]);const r=n.__getSysVar("DOMÂíå„Çπ„Çø„Ç§„É´");for(let n=0;n<e.length;n++){const s=e[n];for(const e in t){let n=e,o=t[e];void 0!==r[n]&&(n=r[n]),void 0!==r[o]&&(o=r[o]),s.style[n]=o}}},return_none:!0},"DOM„Çπ„Çø„Ç§„É´ÂèñÂæó":{type:"func",josi:[["„ÅÆ"],["„Çí"]],uses:["DOMÂíå„Çπ„Çø„Ç§„É´"],pure:!0,fn:function(e,t,n){if(!(e=n.__query(e,"DOM„Çπ„Çø„Ç§„É´ÂèñÂæó",!0)))return"";const r=n.__getSysVar("DOMÂíå„Çπ„Çø„Ç§„É´");return r[t]&&(t=r[t]),e.style[t]}},"DOM„Çπ„Çø„Ç§„É´‰∏ÄÊã¨ÂèñÂæó":{type:"func",josi:[["„ÅÆ"],["„Çí"]],uses:["DOMÂíå„Çπ„Çø„Ç§„É´"],pure:!0,fn:function(e,t,n){const r={};if(!(e=n.__query(e,"DOM„Çπ„Çø„Ç§„É´‰∏ÄÊã¨ÂèñÂæó",!0)))return r;t instanceof String&&(t=[t]);const s=n.__getSysVar("DOMÂíå„Çπ„Çø„Ç§„É´");if(t instanceof Array)return t.forEach((t=>{s[t]&&(t=s[t]),r[t]=e.style[t]})),r;if(t instanceof Object){for(let n in t)s[n]&&(n=s[n]),r[n]=e.style[n];return r}return e.style[t]}},"DOMË¶ÅÁ¥†‰ΩúÊàê":{type:"func",josi:[["„ÅÆ","„Çí"]],pure:!0,fn:function(e){return document.createElement(e)}},"DOMÂ≠êË¶ÅÁ¥†ËøΩÂä†":{type:"func",josi:[["„Å´","„Å∏"],["„Çí"]],pure:!0,fn:function(e,t,n){e=n.__query(e,"DOMÂ≠êË¶ÅÁ¥†ËøΩÂä†",!1),t=n.__query(t,"DOMÂ≠êË¶ÅÁ¥†ËøΩÂä†",!1),e.appendChild(t)}},"DOMÂ≠êË¶ÅÁ¥†ÂâäÈô§":{type:"func",josi:[["„Åã„Çâ"],["„Çí"]],pure:!0,fn:function(e,t,n){e=n.__query(e,"DOMÂ≠êË¶ÅÁ¥†ÂâäÈô§",!1),t=n.__query(t,"DOMÂ≠êË¶ÅÁ¥†ÂâäÈô§",!1),e.removeChild(t)}},"Ê≥®ÁõÆ":{type:"func",josi:[["„Çí","„Å∏","„Å´"]],pure:!0,fn:function(e,t){(e=t.__query(e,"Ê≥®ÁõÆ",!0))&&e.focus&&e.focus()},return_none:!0}}},"./src/plugin_browser_dom_event.mjs":function(e,t,n){"use strict";n.r(t),t.default={"ÂØæË±°„Ç§„Éô„É≥„Éà":{type:"const",value:""},"DOM„Ç§„Éô„É≥„ÉàËøΩÂä†":{type:"func",josi:[["„ÅÆ"],["„Å´","„Å∏"],["„Çí"]],pure:!0,fn:function(e,t,n,r){r.__addEvent(e,t,n,null)},return_none:!0},"DOM„Ç§„Éô„É≥„ÉàÂâäÈô§":{type:"func",josi:[["„ÅÆ"],["„Åã„Çâ"],["„Çí"]],pure:!0,fn:function(e,t,n,r){r.__removeEvent(e,t,n)},return_none:!0},"DOM„Ç§„Éô„É≥„ÉàÁô∫ÁÅ´ÊôÇ":{type:"func",josi:[["„Åß"],["„ÅÆ"],["„Åå"]],pure:!0,fn:function(e,t,n,r){r.__addEvent(t,n,e,null)},return_none:!0},"DOM„Ç§„Éô„É≥„ÉàÂá¶ÁêÜÂÅúÊ≠¢":{type:"func",josi:[["„Çí","„ÅÆ"]],pure:!0,fn:function(e,t){e.preventDefault()},return_none:!0},"„ÇØ„É™„ÉÉ„ÇØÊôÇ":{type:"func",josi:[["„Åß"],["„Çí"]],pure:!0,fn:function(e,t,n){n.__addEvent(t,"click",e,null)},return_none:!0},"Ë™≠ËæºÊôÇ":{type:"func",josi:[["„Åß"],["„Çí","„ÅÆ"]],pure:!0,fn:function(e,t,n){n.__addEvent(t,"load",e,null)},return_none:!0},"„Éï„Ç©„Éº„É†ÈÄÅ‰ø°ÊôÇ":{type:"func",josi:[["„Åß"],["„Çí","„ÅÆ"]],pure:!0,fn:function(e,t,n){n.__addEvent(t,"submit",e,null)},return_none:!0},"Êäº„Ç≠„Éº":{type:"const",value:""},"„Ç≠„ÉºÊäºÊôÇ":{type:"func",josi:[["„Åß"],["„Çí","„ÅÆ"]],pure:!0,fn:function(e,t,n){n.__addEvent(t,"keydown",e,n.__keyHandler)},return_none:!0},"„Ç≠„ÉºÈõ¢ÊôÇ":{type:"func",josi:[["„Åß"],["„Çí","„ÅÆ"]],pure:!0,fn:function(e,t,n){n.__addEvent(t,"keyup",e,n.__keyHandler)},return_none:!0},"„Ç≠„Éº„Çø„Ç§„Éî„É≥„Ç∞ÊôÇ":{type:"func",josi:[["„Åß"],["„Çí","„ÅÆ"]],pure:!0,fn:function(e,t,n){n.__addEvent(t,"keypress",e,n.__keyHandler)},return_none:!0},"„Éû„Ç¶„ÇπX":{type:"const",value:0},"„Éû„Ç¶„ÇπY":{type:"const",value:0},"„Éû„Ç¶„ÇπÊäºÊôÇ":{type:"func",josi:[["„Åß"],["„Çí","„ÅÆ"]],pure:!0,fn:function(e,t,n){n.__addEvent(t,"mousedown",e,n.__mouseHandler)},return_none:!0},"„Éû„Ç¶„ÇπÁßªÂãïÊôÇ":{type:"func",josi:[["„Åß"],["„Çí","„ÅÆ"]],pure:!0,fn:function(e,t,n){n.__addEvent(t,"mousemove",e,n.__mouseHandler)},return_none:!0},"„Éû„Ç¶„ÇπÈõ¢ÊôÇ":{type:"func",josi:[["„Åß"],["„Çí","„ÅÆ"]],pure:!0,fn:function(e,t,n){n.__addEvent(t,"mouseup",e,n.__mouseHandler)},return_none:!0},"„Çø„ÉÉ„ÉÅX":{type:"const",value:0},"„Çø„ÉÉ„ÉÅY":{type:"const",value:0},"„Çø„ÉÉ„ÉÅÈÖçÂàó":{type:"const",value:[]},"„Çø„ÉÉ„ÉÅ„Ç§„Éô„É≥„ÉàË®àÁÆó":{type:"func",josi:[["„ÅÆ"]],pure:!0,fn:function(e,t){return t.__touchHandler(e,t)}},"„Çø„ÉÉ„ÉÅÈñãÂßãÊôÇ":{type:"func",josi:[["„Åß"],["„Çí","„ÅÆ"]],pure:!0,fn:function(e,t,n){n.__addEvent(t,"touchstart",e,n.__touchHandler)},return_none:!0},"„Çø„ÉÉ„ÉÅÊôÇ":{type:"func",josi:[["„Åß"],["„Çí","„ÅÆ"]],pure:!0,fn:function(e,t,n){n.__addEvent(t,"touchmove",e,n.__touchHandler)},return_none:!0},"„Çø„ÉÉ„ÉÅÁµÇ‰∫ÜÊôÇ":{type:"func",josi:[["„Åß"],["„Çí","„ÅÆ"]],pure:!0,fn:function(e,t,n){n.__addEvent(t,"touchend",e,n.__touchHandler)},return_none:!0},"„Çø„ÉÉ„ÉÅ„Ç≠„É£„É≥„Çª„É´ÊôÇ":{type:"func",josi:[["„Åß"],["„Çí","„ÅÆ"]],pure:!0,fn:function(e,t,n){n.__addEvent(t,"touchcancel",e,n.__touchHandler)},return_none:!0},"ÁîªÈù¢Êõ¥Êñ∞ÊôÇÂÆüË°å":{type:"func",josi:[["„Çí"]],pure:!0,fn:function(e,t){if(!(e=t.__findVar(e,null)))throw new Error("„ÄéÁîªÈù¢Êõ¥Êñ∞ÊôÇÂÆüË°å„Äè„ÅßÈñ¢Êï∞„ÅÆÂèñÂæó„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇ");return t.__requestAnimationFrameLastId=window.requestAnimationFrame(e),t.__requestAnimationFrameLastId}},"ÁîªÈù¢Êõ¥Êñ∞Âá¶ÁêÜÂèñÊ∂à":{type:"func",josi:[["„ÅÆ","„Çí"]],pure:!0,fn:function(e,t){window.cancelAnimationFrame(e),t.__requestAnimationFrameLastId===e&&(t.__requestAnimationFrameLastId=0)},return_none:!0}}},"./src/plugin_browser_dom_parts.mjs":function(e,t,n){"use strict";n.r(t),t.default={"DOMË¶™Ë¶ÅÁ¥†":{type:"const",value:""},"DOMÈÉ®ÂìÅÂÄãÊï∞":{type:"const",value:0},"DOMÈÉ®ÂìÅ„Ç™„Éó„Ç∑„Éß„É≥":{type:"const",value:{"Ëá™ÂãïÊîπË°å":!1,"„ÉÜ„Éº„Éñ„É´ËÉåÊôØËâ≤":["#AA4040","#ffffff","#fff0f0"]}},"DOMË¶™Ë¶ÅÁ¥†Ë®≠ÂÆö":{type:"func",josi:[["„Å´","„Å∏"]],pure:!0,fn:function(e,t){return"string"==typeof e&&(e=document.querySelector(e)||document.getElementById(e)),t.__setSysVar("DOMË¶™Ë¶ÅÁ¥†",e),e}},"DOMË¶™ÈÉ®ÂìÅË®≠ÂÆö":{type:"func",josi:[["„Å´","„Å∏"]],pure:!0,fn:function(e,t){return t.__exec("DOMË¶™Ë¶ÅÁ¥†Ë®≠ÂÆö",[e,t])}},"DOM„Çπ„Ç≠„É≥":{type:"const",value:""},"DOM„Çπ„Ç≠„É≥ËæûÊõ∏":{type:"const",value:{}},"DOM„Çπ„Ç≠„É≥Ë®≠ÂÆö":{type:"func",josi:[["„Çí","„Å´","„ÅÆ"]],pure:!0,fn:function(e,t){t.__setSysVar("DOM„Çπ„Ç≠„É≥",e)},return_none:!0},"DOMÈÉ®ÂìÅ‰ΩúÊàê":{type:"func",josi:[["„ÅÆ"]],pure:!0,fn:function(e,t){const n=t.__getSysVar("DOMË¶™Ë¶ÅÁ¥†"),r="string"==typeof e?document.createElement(e):e;r.id="nadesi-dom-"+t.__getSysVar("DOMÈÉ®ÂìÅÂÄãÊï∞");const s=t.__getSysVar("DOM„Çπ„Ç≠„É≥ËæûÊõ∏")[t.__getSysVar("DOM„Çπ„Ç≠„É≥")];"function"==typeof s&&s(e,r,t),n.appendChild(r),t.__setSysVar("DOMÈÉ®ÂìÅÂÄãÊï∞",t.__getSysVar("DOMÈÉ®ÂìÅÂÄãÊï∞",0)+1);return t.__getSysVar("DOMÈÉ®ÂìÅ„Ç™„Éó„Ç∑„Éß„É≥")["Ëá™ÂãïÊîπË°å"]&&n.appendChild(document.createElement("br")),r}},"„Éú„Çø„É≥‰ΩúÊàê":{type:"func",josi:[["„ÅÆ"]],pure:!0,fn:function(e,t){const n=t.__exec("DOMÈÉ®ÂìÅ‰ΩúÊàê",["button",t]);return n.innerHTML=e,n}},"„Ç®„Éá„Ç£„Çø‰ΩúÊàê":{type:"func",josi:[["„ÅÆ"]],pure:!0,fn:function(e,t){const n=t.__exec("DOMÈÉ®ÂìÅ‰ΩúÊàê",["input",t]);return n.type="text",n.value=e,n}},"„ÉÜ„Ç≠„Çπ„Éà„Ç®„É™„Ç¢‰ΩúÊàê":{type:"func",josi:[["„ÅÆ"]],pure:!0,fn:function(e,t){const n=t.__exec("DOMÈÉ®ÂìÅ‰ΩúÊàê",["textarea",t]);return n.value=e,n}},"„É©„Éô„É´‰ΩúÊàê":{type:"func",josi:[["„ÅÆ"]],pure:!0,fn:function(e,t){const n=t.__exec("DOMÈÉ®ÂìÅ‰ΩúÊàê",["span",t]);return n.innerHTML=e,n}},"„Ç≠„É£„É≥„Éê„Çπ‰ΩúÊàê":{type:"func",josi:[["„ÅÆ"]],pure:!0,fn:function(e,t){const n=t.__exec("DOMÈÉ®ÂìÅ‰ΩúÊàê",["canvas",t]);return n.width=e[0],n.height=e[1],n.style.width=e[0],n.style.height=e[1],t.__exec("ÊèèÁîªÈñãÂßã",[n,t]),n}},"ÁîªÂÉè‰ΩúÊàê":{type:"func",josi:[["„ÅÆ","„Åã„Çâ"]],pure:!0,fn:function(e,t){const n=t.__exec("DOMÈÉ®ÂìÅ‰ΩúÊàê",["img",t]);return n.src=e,n}},"ÊîπË°å‰ΩúÊàê":{type:"func",josi:[],pure:!0,fn:function(e){return e.__exec("DOMÈÉ®ÂìÅ‰ΩúÊàê",["br",e])}},"„ÉÅ„Çß„ÉÉ„ÇØ„Éú„ÉÉ„ÇØ„Çπ‰ΩúÊàê":{type:"func",josi:[["„ÅÆ"]],pure:!0,fn:function(e,t){const n=document.createElement("span"),r=document.createElement("input");r.type="checkbox",r.id="nadesi-dom-"+t.__getSysVar("DOMÈÉ®ÂìÅÂÄãÊï∞",0),t.__setSysVar("DOMÈÉ®ÂìÅÂÄãÊï∞",t.__getSysVar("DOMÈÉ®ÂìÅÂÄãÊï∞",0)+1);const s=document.createElement("label");return s.innerHTML=e,s.htmlFor=r.id,n.appendChild(r),n.appendChild(s),t.__exec("DOMÈÉ®ÂìÅ‰ΩúÊàê",[n,t]),r}},"„Çª„É¨„ÇØ„Éà„Éú„ÉÉ„ÇØ„Çπ‰ΩúÊàê":{type:"func",josi:[["„ÅÆ"]],pure:!0,fn:function(e,t){const n=document.createElement("select");for(let t=0;t<e.length;t++){const r=document.createElement("option");r.value=e[t],r.appendChild(document.createTextNode(e[t])),n.appendChild(r)}return t.__exec("DOMÈÉ®ÂìÅ‰ΩúÊàê",[n,t]),n}},"„Çª„É¨„ÇØ„Éà„Éú„ÉÉ„ÇØ„Çπ„Ç¢„Ç§„ÉÜ„É†Ë®≠ÂÆö":{type:"func",josi:[["„Çí"],["„Å∏","„Å´"]],pure:!0,fn:function(e,t,n){"string"==typeof t&&(t=document.querySelector(t)),t.options.length=0;for(let n=0;n<e.length;n++){const r=document.createElement("option");r.value=e[n],r.appendChild(document.createTextNode(e[n])),t.appendChild(r)}},return_none:!0},"Ëâ≤ÈÅ∏Êäû„Éú„ÉÉ„ÇØ„Çπ‰ΩúÊàê":{type:"func",josi:[],pure:!0,fn:function(e){const t=e.__exec("DOMÈÉ®ÂìÅ‰ΩúÊàê",["input",e]);return t.type="color",t}},"Êó•‰ªòÈÅ∏Êäû„Éú„ÉÉ„ÇØ„Çπ‰ΩúÊàê":{type:"func",josi:[],pure:!0,fn:function(e){const t=e.__exec("DOMÈÉ®ÂìÅ‰ΩúÊàê",["input",e]);return t.type="date",t}},"„Éë„Çπ„ÉØ„Éº„ÉâÂÖ•Âäõ„Ç®„Éá„Ç£„Çø‰ΩúÊàê":{type:"func",josi:[["„ÅÆ","„Åß"]],pure:!0,fn:function(e,t){const n=t.__exec("DOMÈÉ®ÂìÅ‰ΩúÊàê",["input",t]);return n.type="password",n.value=e,n}},"ÂÄ§ÊåáÂÆö„Éê„Éº‰ΩúÊàê":{type:"func",josi:[["„ÅÆ","„Åß"]],pure:!0,fn:function(e,t){e instanceof Array&&!(e.length<2)||(e=[0,100,50]),e.length<=2&&e.push(Math.floor((e[1]-e[0])/2));const n=t.__exec("DOMÈÉ®ÂìÅ‰ΩúÊàê",["input",t]);return n.type="range",n.min=e[0],n.max=e[1],n.value=e[2],n}},"ÈÄÅ‰ø°„Éú„Çø„É≥‰ΩúÊàê":{type:"func",josi:[["„ÅÆ"]],pure:!0,fn:function(e,t){const n=t.__exec("DOMÈÉ®ÂìÅ‰ΩúÊàê",["input",t]);return n.type="submit",n.value=e,n}},"„Éï„Ç©„Éº„É†‰ΩúÊàê":{type:"func",josi:[["„Åß","„ÅÆ"],["„Çí"]],pure:!0,fn:function(e,t,n){const r=n.__exec("DOMÈÉ®ÂìÅ‰ΩúÊàê",["form",n]);if(e instanceof Object)for(const t in e)r[t]&&(r[t]=e[t]);const s=t.split("\n"),o=document.createElement("table");for(const e in s){let t=""+s[e];if(""===t)continue;t.indexOf("=")<0&&(t+="=");const r=t.split("="),i=r[0],u=r[1],c=document.createElement("th");c.innerHTML=n.__tohtmlQ(i);const a=document.createElement("td");if("?("===u.substring(0,2)){const e=(u.substring(2)+")").split(")"),t=e[0],n=e[1],r=t.split("|"),s=document.createElement("select");s.name=i;for(const e of r){const t=document.createElement("option");t.value=e,t.text=e,s.appendChild(t)}const o=r.indexOf(n);o>=0&&(s.selectedIndex=o),a.appendChild(s)}else{const e=document.createElement("input");a.appendChild(e),e.id="nako3form_"+i,"?ÈÄÅ‰ø°"===u||"?submit"===u?(e.type="submit",e.value=u.substring(1),""!==i&&(e.name=i)):"?c"===u.substring(0,2)?(e.type="color",e.value=u.substring(2),e.name=i):(e.type="text",e.value=u,e.name=i)}const f=document.createElement("tr");f.appendChild(c),f.appendChild(a),o.appendChild(f)}return r.appendChild(o),r}},"„Éï„Ç©„Éº„É†ÂÖ•Âäõ‰∏ÄÊã¨ÂèñÂæó":{type:"func",josi:[["„ÅÆ","„Åã„Çâ"]],pure:!0,fn:function(e){"string"==typeof e&&(e=document.querySelector(e));const t={},n=e=>{if(e&&e.childNodes)for(let r=0;r<e.childNodes.length;r++){const s=e.childNodes[r];if(!s.tagName)return;const o=s.tagName.toLowerCase();if("input"!==o)"textarea"===o?t[s.name]=s.value:"select"===o&&(s.selectedIndex>=0?t[s.name]=s.options[s.selectedIndex].value:t[s.name]=""),n(s);else{if("checkbox"===s.type){t[s.name]=s.checked?s.value:"";continue}t[s.name]=s.value}}};return n(e),t}},"„ÉÜ„Éº„Éñ„É´‰ΩúÊàê":{type:"func",josi:[["„ÅÆ","„Åã„Çâ"]],pure:!0,fn:function(e,t){if("string"==typeof e){const t=[],n=e.split("\n");for(const e of n)t.push(e.split(","));e=t}const n=JSON.parse(JSON.stringify(t.__getSysVar("DOMÈÉ®ÂìÅ„Ç™„Éó„Ç∑„Éß„É≥")["„ÉÜ„Éº„Éñ„É´ËÉåÊôØËâ≤"]));for(let e=0;e<3;e++)n.push("");const r=n.shift(),s=t.__exec("DOMÈÉ®ÂìÅ‰ΩúÊàê",["table",t]);for(let o=0;o<e.length;o++){const i=o,u=e[i],c=document.createElement("tr");for(let e of u){e=""+e;const s=document.createElement(0===i?"th":"td");s.innerHTML=t.__tohtml(e),""!==r&&(s.style.backgroundColor=0===i?r:n[i%2],s.style.color=0===i?"white":"black"),e.match(/^(\+|-)?\d+(\.\d+)?$/)&&(s.style.textAlign="right"),c.appendChild(s)}s.appendChild(c)}return s}},"„Éû„Éº„É°„Ç§„Éâ‰ΩúÊàê":{type:"func",josi:[["„ÅÆ"]],pure:!0,asyncFn:!0,fn:async function(e,t){console.log("aaa");const n=t.__exec("DOMÈÉ®ÂìÅ‰ΩúÊàê",["div",t]);return n.classList.add("mermaid"),n.innerHTML=e,void 0===t.__v0.WINDOW.mermaid&&(console.log("try to load mermaid"),await t.__loadScript("https://cdn.jsdelivr.net/npm/mermaid@10.5.0/dist/mermaid.min.js"),console.log("loaded mermaid")),await t.__v0.WINDOW.mermaid.run(),n}}}},"./src/plugin_browser_geolocation.mjs":function(e,t,n){"use strict";n.r(t),t.default={"‰ΩçÁΩÆÊÉÖÂ†±ÂèñÂæóÊôÇ":{type:"func",josi:[["„ÅÆ","„Å´","„Å∏"]],pure:!0,fn:function(e,t){let n=e;if("string"==typeof n&&(n=t.__findVar(n)),!("geolocation"in navigator))throw new Error("Èñ¢Êï∞„Äé‰ΩçÁΩÆÊÉÖÂ†±ÂèñÂæóÊôÇ„Äè„ÅØ‰Ωø„Åà„Åæ„Åõ„Çì„ÄÇ");navigator.geolocation.getCurrentPosition((e=>{t.__setSysVar("ÂØæË±°",[e.coords.latitude,e.coords.longitude]),n(e)}))},return_none:!0},"‰ΩçÁΩÆÊÉÖÂ†±Áõ£Ë¶ñÊôÇ":{type:"func",josi:[["„ÅÆ","„Å´","„Å∏"]],pure:!0,fn:function(e,t){let n=e;if("string"==typeof n&&(n=t.__findVar(n)),!("geolocation"in navigator))throw new Error("Èñ¢Êï∞„Äé‰ΩçÁΩÆÊÉÖÂ†±Áõ£Ë¶ñÊôÇ„Äè„ÅØ‰Ωø„Åà„Åæ„Åõ„Çì„ÄÇ");return navigator.geolocation.watchPosition((e=>{t.__setSysVar("ÂØæË±°",[e.coords.latitude,e.coords.longitude]),n(e)}))},return_none:!1},"‰ΩçÁΩÆÊÉÖÂ†±Áõ£Ë¶ñÂÅúÊ≠¢":{type:"func",josi:[["„ÅÆ"]],pure:!0,fn:function(e,t){navigator.geolocation.clearWatch(e)},return_none:!0}}},"./src/plugin_browser_hotkey.mjs":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/hotkeys-js/index.js");t.default={"„Éõ„ÉÉ„Éà„Ç≠„ÉºÁôªÈå≤":{type:"func",josi:[["„Å´","„Åß"],["„Çí"]],pure:!0,fn:function(e,t,n){r(e,(function(e,r){e.preventDefault();n.__findFunc(t)(n)}))}},"„Éõ„ÉÉ„Éà„Ç≠„ÉºËß£Èô§":{type:"func",josi:[["„Çí","„ÅÆ"]],pure:!0,fn:function(e){r.unbind(e)}}}},"./src/plugin_browser_html.mjs":function(e,t,n){"use strict";n.r(t),t.default={"HTMLÂ§âÊèõ":{type:"func",josi:[["„Çí"]],pure:!0,fn:function(e){return String(e).replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;")}},"„ÇØ„É™„ÉÉ„Éó„Éú„Éº„ÉâË®≠ÂÆö":{type:"func",josi:[["„Çí"]],pure:!0,asyncFn:!0,fn:async function(e){if(navigator.clipboard)return void await navigator.clipboard.writeText(e);const t=document.createElement("div"),n=document.createElement("pre");n.style.webkitUserSelect="auto",n.style.userSelect="auto",t.appendChild(n).textContent=e,t.style.position="fixed",t.right="200%",document.body.appendChild(t),document.getSelection().selectAllChildren(t),document.execCommand("copy"),document.body.removeChild(t)},return_none:!0},"„ÇØ„É™„ÉÉ„Éó„Éú„Éº„ÉâÂèñÂæóÊôÇ":{type:"func",josi:[["„Çí"]],pure:!0,fn:function(e,t){if(!navigator.clipboard)throw new Error("Clipbard API„ÅåÂà©Áî®„Åß„Åç„Åæ„Åõ„Çì„ÄÇ");"string"==typeof e&&(e=t.__findFunc(e,"„ÇØ„É™„ÉÉ„Éó„Éú„Éº„ÉâÂèñÂæóÊôÇ"));navigator.clipboard.readText().then((n=>{t.__setSysVar("ÂØæË±°",n),e(t)}))}},"„ÇØ„É™„ÉÉ„Éó„Éú„Éº„ÉâÂèñÂæó":{type:"func",josi:[],pure:!0,asyncFn:!0,fn:async function(e){if(navigator.clipboard){return await navigator.clipboard.readText()}throw new Error("Clipbard API„ÅåÂà©Áî®„Åß„Åç„Åæ„Åõ„Çì„ÄÇ")}}}},"./src/plugin_browser_location.mjs":function(e,t,n){"use strict";n.r(t),t.default={"„Éñ„É©„Ç¶„Ç∂ÁßªÂãï":{type:"func",josi:[["„Å´","„Å∏"]],pure:!0,fn:function(e,t){window.location.href=e}},"„Éñ„É©„Ç¶„Ç∂Êàª":{type:"func",josi:[],pure:!0,fn:function(){window.history.back(-1)}},"„Éñ„É©„Ç¶„Ç∂URL":{type:"const",value:""}}},"./src/plugin_browser_speech.mjs":function(e,t,n){"use strict";n.r(t),t.default={"Ë©±":{type:"func",josi:[["„Å®","„Çí","„ÅÆ"]],pure:!0,fn:function(e,t){const n=t.__exec("Èü≥Â£∞ÂêàÊàêÁô∫Ë©±„Ç™„Éñ„Ç∏„Çß„ÇØ„ÉàÂèñÂæó",[e,t]);return window.speechSynthesis.speak(n),console.log("#Ë©±„Åô:",e),e}},"Ë©±ÁµÇ":{type:"func",josi:[["„Å®","„Çí","„ÅÆ"]],pure:!0,asyncFn:!0,fn:function(e,t){return new Promise(((n,r)=>{try{const r=t.__exec("Èü≥Â£∞ÂêàÊàêÁô∫Ë©±„Ç™„Éñ„Ç∏„Çß„ÇØ„ÉàÂèñÂæó",[e,t]);r.onend=()=>{n()},window.speechSynthesis.speak(r),console.log("#Ë©±„Åô:",e)}catch(e){r(e)}}))}},"Ë©±ÁµÇÊôÇ":{type:"func",josi:[["„Åß"],["„Å®","„Çí","„ÅÆ"]],pure:!0,fn:function(e,t,n){const r=n.__exec("Èü≥Â£∞ÂêàÊàêÁô∫Ë©±„Ç™„Éñ„Ç∏„Çß„ÇØ„ÉàÂèñÂæó",[t,n]);return r.onend=t=>{console.log("#Ë©±ÁµÇÊôÇ"),n.__setSysVar("ÂØæË±°„Ç§„Éô„É≥„Éà",t),e(n)},window.speechSynthesis.speak(r),console.log("#Ë©±„Åô:",t),t}},"Èü≥Â£∞ÂêàÊàêÁô∫Ë©±„Ç™„Éñ„Ç∏„Çß„ÇØ„ÉàÂèñÂæó":{type:"func",josi:[["„ÅÆ","„Åß"]],pure:!0,fn:function(e,t){let n=t.__getSysVar("Ë©±:Ë©±ËÄÖ");n||(n=t.__exec("Ë©±ËÄÖË®≠ÂÆö",["ja",t]));const r=new SpeechSynthesisUtterance(e);return r.voice=n,n&&(r.lang=n.lang),r.rate=t.__getSysVar("Ë©±ËÄÖÈÄüÂ∫¶"),r.pitch=t.__getSysVar("Ë©±ËÄÖÂ£∞È´ò"),r.volume=t.__getSysVar("Ë©±ËÄÖÈü≥Èáè"),r}},"Ë©±ËÄÖ‰∏ÄË¶ßÂèñÂæó":{type:"func",josi:[],pure:!0,fn:function(e){if(!("SpeechSynthesisUtterance"in window))throw new Error("Èü≥Â£∞ÂêàÊàêAPI„Å´ÂØæÂøú„Åó„Å¶„ÅÑ„Åæ„Åõ„Çì");return window.speechSynthesis.getVoices()}},"Ë©±ËÄÖË®≠ÂÆö":{type:"func",josi:[["„Å´","„Å∏"]],pure:!0,fn:function(e,t){if(!("SpeechSynthesisUtterance"in window))throw new Error("Èü≥Â£∞ÂêàÊàêAPI„Å´ÂØæÂøú„Åó„Å¶„ÅÑ„Åæ„Åõ„Çì");if("string"==typeof e){const n=window.speechSynthesis.getVoices();for(const r of n)if(r.lang.indexOf(e)>=0||r.name===e){const e=new SpeechSynthesisUtterance;return e.voice=r,e.lang=r.lang,t.__setSysVar("Ë©±:Ë©±ËÄÖ",r),console.log("#Ë©±ËÄÖ:",r.name),r}}if("object"==typeof e)return t.__setSysVar("Ë©±:Ë©±ËÄÖ",e),e}},"Ë©±ËÄÖÈÄüÂ∫¶":{type:"const",value:1},"Ë©±ËÄÖÂ£∞È´ò":{type:"const",value:1},"Ë©±ËÄÖÈü≥Èáè":{type:"const",value:1},"Ë©±ËÄÖË©≥Á¥∞Ë®≠ÂÆö":{type:"func",josi:[["„Åß","„Å´","„Å∏"]],pure:!0,fn:function(e,t){const n=(e,n)=>{"ÈÄüÂ∫¶"===e&&t.__setSysVar("Ë©±ËÄÖÈÄüÂ∫¶",n),"Â£∞È´ò"!==e&&"„Éî„ÉÉ„ÉÅ"!==e||t.__setSysVar("Ë©±ËÄÖÂ£∞È´ò",n),"Èü≥Èáè"===e&&t.__setSysVar("Ë©±ËÄÖÈü≥Èáè",n)};for(const t in e){n(t,e[t])}}}}},"./src/plugin_browser_storage.mjs":function(e,t,n){"use strict";n.r(t),t.default={"‰øùÂ≠ò":{type:"func",josi:[["„Çí"],["„Å´","„Å∏"]],pure:!0,fn:function(e,t,n){n.__exec("„É≠„Éº„Ç´„É´„Çπ„Éà„É¨„Éº„Ç∏‰øùÂ≠ò",[e,t,n])},return_none:!0},"Èñã":{type:"func",josi:[["„Çí","„Åã„Çâ","„ÅÆ"]],pure:!0,fn:function(e,t){return t.__exec("„É≠„Éº„Ç´„É´„Çπ„Éà„É¨„Éº„Ç∏Ë™≠",[e,t])},return_none:!1},"Ë™≠":{type:"func",josi:[["„Çí","„Åã„Çâ","„ÅÆ"]],pure:!0,fn:function(e,t){return t.__exec("„É≠„Éº„Ç´„É´„Çπ„Éà„É¨„Éº„Ç∏Ë™≠",[e,t])},return_none:!1},"Â≠òÂú®":{type:"func",josi:[["„Åå"]],pure:!0,fn:function(e){return null!==window.localStorage.getItem(e)},return_none:!1},"„É≠„Éº„Ç´„É´„Çπ„Éà„É¨„Éº„Ç∏‰øùÂ≠ò":{type:"func",josi:[["„Çí"],["„Å´","„Å∏"]],pure:!0,fn:function(e,t,n){let r=e;n.__getSysVar("‰øùÂ≠ò„Ç™„Éó„Ç∑„Éß„É≥")&&(n.__getSysVar("‰øùÂ≠ò„Ç™„Éó„Ç∑„Éß„É≥").indexOf("json")>=0?r=JSON.stringify(r):n.__getSysVar("‰øùÂ≠ò„Ç™„Éó„Ç∑„Éß„É≥")),window.localStorage[t]=r},return_none:!0},"„É≠„Éº„Ç´„É´„Çπ„Éà„É¨„Éº„Ç∏Ë™≠":{type:"func",josi:[["„Çí","„Åã„Çâ","„ÅÆ"]],pure:!0,fn:function(e,t){const n=window.localStorage[e];if(t.__getSysVar("‰øùÂ≠ò„Ç™„Éó„Ç∑„Éß„É≥")&&t.__getSysVar("‰øùÂ≠ò„Ç™„Éó„Ç∑„Éß„É≥").indexOf("json")>=0)try{return JSON.parse(n)}catch(t){console.log("„É≠„Éº„Ç´„É´„Çπ„Éà„É¨„Éº„Ç∏„Äé"+e+"„Äè„ÅÆË™≠„ÅøËæº„Åø„Å´Â§±Êïó")}return n},return_none:!1},"„É≠„Éº„Ç´„É´„Çπ„Éà„É¨„Éº„Ç∏„Ç≠„ÉºÂàóÊåô":{type:"func",josi:[],pure:!0,fn:function(e){const t=[];for(const e in window.localStorage)t.push(e);return t},return_none:!1},"„É≠„Éº„Ç´„É´„Çπ„Éà„É¨„Éº„Ç∏„Ç≠„ÉºÂâäÈô§":{type:"func",josi:[["„Çí","„ÅÆ"]],pure:!0,fn:function(e){window.localStorage.removeItem(e)},return_none:!0},"„É≠„Éº„Ç´„É´„Çπ„Éà„É¨„Éº„Ç∏ÂÖ®ÂâäÈô§":{type:"func",josi:[],pure:!0,fn:function(){window.localStorage.clear()},return_none:!0},"„É≠„Éº„Ç´„É´„Çπ„Éà„É¨„Éº„Ç∏ÊúâÂäπÁ¢∫Ë™ç":{type:"func",josi:[],pure:!0,fn:function(){return void 0!==window.localStorage},return_none:!1},"‰øùÂ≠ò„Ç™„Éó„Ç∑„Éß„É≥":{type:"const",value:"json"},"‰øùÂ≠ò„Ç™„Éó„Ç∑„Éß„É≥Ë®≠ÂÆö":{type:"func",josi:[["„Å´","„Å∏"]],pure:!0,fn:function(e,t){e=e.toUpperCase(e),t.__setSysVar("‰øùÂ≠ò„Ç™„Éó„Ç∑„Éß„É≥",e)},return_none:!0}}},"./src/plugin_browser_system.mjs":function(e,t,n){"use strict";n.r(t),t.default={"WNAKO„Éê„Éº„Ç∏„Éß„É≥":{type:"const",value:"?"},"ÁµÇ":{type:"func",josi:[],pure:!0,fn:function(e){if(!e||!e.__v0)throw new Error("__ÁµÇ„Çè„Çã__");if(e.__v0.forceClose=!0,!e.__v0.useDebug)throw new Error("__ÁµÇ„Çè„Çã__")},return_none:!0},"OSÂèñÂæó":{type:"func",josi:[],pure:!0,fn:function(){const e=window.navigator.userAgent.toLowerCase();return-1!==e.indexOf("windows")?"windows":-1!==e.indexOf("android")?"android":-1!==e.indexOf("iphone")?"iphone":-1!==e.indexOf("ipad")?"ipad":-1!==e.indexOf("mac os x")||-1!==e.indexOf("macintosh")?"darwin":-1!==e.indexOf("cros")?"chromeos":-1!==e.indexOf("ubuntu")?"ubuntu":-1!==e.indexOf("linux")?"linux":"unknown"}}}},"./src/plugin_browser_websocket.mjs":function(e,t,n){"use strict";n.r(t),t.default={"WSÊé•Á∂öÂÆå‰∫ÜÊôÇ":{type:"func",josi:[["„Çí"]],pure:!0,fn:function(e,t){t.__setSysVar("WS:ONOPEN",e)},return_none:!0},"WSÂèó‰ø°ÊôÇ":{type:"func",josi:[["„Çí"]],pure:!0,fn:function(e,t){t.__setSysVar("WS:ONMESSAGE",e)},return_none:!0},"WS„Ç®„É©„ÉºÁô∫ÁîüÊôÇ":{type:"func",josi:[["„Çí"]],pure:!0,fn:function(e,t){t.__setSysVar("WS:ONERROR",e)},return_none:!0},"WSÊé•Á∂ö":{type:"func",josi:[["„Å´","„Å∏","„ÅÆ"]],pure:!0,fn:function(e,t){const n=new WebSocket(e);return n.onopen=()=>{const e=t.__getSysVar("WS:ONOPEN");e&&e(t)},n.onerror=e=>{const n=t.__getSysVar("WS:ONERROR");n&&n(e,t),console.log("WS„Ç®„É©„Éº",e)},n.onmessage=e=>{t.__setSysVar("ÂØæË±°",e.data);const n=t.__getSysVar("WS:ONMESSAGE");n&&n(t)},t.__setSysVar("WS:SOCKET",n),n}},"WSÈÄÅ‰ø°":{type:"func",josi:[["„Çí","„Å®"]],pure:!0,fn:function(e,t){t.__getSysVar("WS:SOCKET").send(e)}},"WSÂàáÊñ≠":{type:"func",josi:[],pure:!0,fn:function(e){e.__getSysVar("WS:SOCKET").close()}}}},"./src/wnako3_editor.mjs":function(e,t,n){"use strict";n.r(t),n.d(t,{BackgroundTokenizer:function(){return w},EditorMarkers:function(){return b},LanguageFeatures:function(){return j},createParameterDeclaration:function(){return _},createParameterName:function(){return d},escapeHTML:function(){return y},findPluginName:function(){return h},getDocumentationHTML:function(){return m},getEditorTokens:function(){return p},getScope:function(){return l},setupEditor:function(){return N},tokenize:function(){return v}});var r=n("./core/src/nako_source_mapping.mjs"),s=n("./core/src/nako_errors.mjs"),o=n("./core/src/nako_indent.mjs"),i=n("./core/src/nako_prepare.mjs");const u=o.default.getBlockStructure,c=o.default.getIndent,a=o.default.countIndent,f=o.default.isIndentSyntaxEnabled;function l(e){switch(e.type){case"line_comment":return"comment.line";case"range_comment":return"comment.block";case"def_test":case"def_func":case"„Å®„ÅØ":case"„Å™„Çâ„Å∞":case"„Åß„Å™„Åë„Çå„Å∞":case"„Åì„Åì„Åã„Çâ":case"„Åì„Åì„Åæ„Åß":case"„ÇÇ„Åó":case"ÈÅï„Åà„Å∞":case"require":case"Âõû":case"Èñì":case"Áπ∞„ÇäËøî„Åô":case"ÂèçÂæ©":case"Êäú„Åë„Çã":case"Á∂ö„Åë„Çã":case"Êàª„Çã":case"ÂÖà„Å´":case"Ê¨°„Å´":case"‰ª£ÂÖ•":case"ÈÄêÊ¨°ÂÆüË°å":case"Êù°‰ª∂ÂàÜÂ≤ê":case"ÂèñËæº":case"„Ç®„É©„ÉºÁõ£Ë¶ñ":case"„Ç®„É©„Éº":case"Â§âÊï∞":case"ÂÆüË°åÈÄüÂ∫¶ÂÑ™ÂÖà":return"keyword.control";case"func":return"entity.name.function";case"number":return"constant.numeric";case"ÂÆö„ÇÅ„Çã":case"ÂÆöÊï∞":return"support.constant";case"shift_r0":case"shift_r":case"shift_l":case"gteq":case"lteq":case"noteq":case"eq":case"not":case"gt":case"lt":case"and":case"or":case"@":case"+":case"-":case"**":case"*":case"√∑√∑":case"/":case"%":case"^":case"&":return"keyword.operator";case"string":case"string_ex":return"string.other";case"word":return["„Åù„ÅÜ","„Åù„Çå","ÂõûÊï∞","ÂØæË±°„Ç≠„Éº","ÂØæË±°"].includes(e.value)?"variable.language":"variable.other";default:return"markup.other"}}function p(e,t,n,r,s){const o=l(e),i=m(e,t);return e.rawJosi&&n.length>=e.rawJosi.length&&r&&s?[{type:o,docHTML:i,value:n.slice(0,-e.rawJosi.length)},{type:o+".markup.underline",docHTML:i,value:n.slice(-e.josi.length)}]:[{type:o,docHTML:i,value:n}]}function h(e,t){for(const n of Object.keys(t.__module))if(Object.keys(t.__module[n]).includes(e))return n;return null}function d(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");return e.toString(26).split("").map((e=>t[parseInt(e,26)])).join("")}function _(e){const t=e.map(((e,t)=>e.map((e=>`${d(t)}${e}`)).join("|"))).join("„ÄÅ");return""!==t?`Ôºà${t}Ôºâ`:""}function y(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function m(e,t){const n=e=>`<span class="tooltip-plugin-name">${y(e)}</span>`;if("func"===e.type){const r=h(e.value+"",t)||(e.meta&&e.meta.file?e.meta.file:null),s=e.meta&&e.meta.josi?_(e.meta.josi):"";return r?y(s+e.value)+n(r):y(s+e.value)}if("word"===e.type){const r=h(e.value+"",t)||(e.meta&&e.meta.file?e.meta.file:null);if(r)return y(e.value+"")+n(r)}return null}const g=(e,t)=>[{type:"markup.other",value:t.getLine(e),docHTML:null}],k=(e,t)=>{const n=e.logger;try{return e.replaceLogger(),t()}finally{e.logger=n}};function v(e,t,n){const r=e.join("\n");t.reset({needToClearPlugin:!1});const s=k(t,(()=>t.lex(r,"main.nako3",void 0,!0)));s.commentTokens=s.commentTokens.filter((e=>"main.nako3"===e.file)),s.requireTokens=s.requireTokens.filter((e=>"main.nako3"===e.file)),s.tokens=s.tokens.filter((e=>"main.nako3"===e.file));for(const[e,{funclist:n}]of Object.entries(t.dependencies))for(const t of s.tokens)"word"===t.type&&"„Åù„Çå"!==t.value&&n[t.value]&&(t.type="func",t.meta={...n[t.value+""],file:e});const o=[...s.tokens,...s.commentTokens,...s.requireTokens].filter((e=>"eol"!==e.type&&"eof"!==e.type&&"number"==typeof e.startOffset&&"number"==typeof e.endOffset&&e.startOffset<e.endOffset));o.sort(((e,t)=>(e.startOffset||0)-(t.startOffset||0)));let i=0,u=0;const c=[];for(let s=0;s<e.length;s++){c.push([]);const a=i+e[s].length;let f=i;for(;u<o.length&&o[u].endOffset<=i;)u++;if(u<o.length&&o[u].startOffset<=i&&o[u].endOffset>=a)c[s].push(...p(o[u],t,e[s],o[u].endOffset<=a,n));else{for(u<o.length&&o[u].startOffset<=i&&(c[s].push(...p(o[u],t,r.slice(f,o[u].endOffset),!0,n)),f=o[u].endOffset,u++);u<o.length&&o[u].endOffset<a;)f<o[u].startOffset&&(c[s].push({type:"markup.other",docHTML:null,value:r.slice(f,o[u].startOffset)}),f=o[u].startOffset),c[s].push(...p(o[u],t,r.slice(f,o[u].endOffset),!0,n)),f=o[u].endOffset,u++;u<o.length&&o[u].startOffset<a?(f<o[u].startOffset&&(c[s].push({type:"markup.other",docHTML:null,value:r.slice(f,o[u].startOffset)}),f=o[u].startOffset),c[s].push(...p(o[u],t,r.slice(o[u].startOffset,a),o[u].endOffset<=a,n))):c[s].push({type:"markup.other",docHTML:null,value:r.slice(f,a)})}i+=e[s].length+1}return{editorTokens:c,lexerOutput:s}}class b{constructor(e,t,n,r){this.session=e,this.doc=t,this.AceRange=n,this.markers=[],this.hasAnnotations=!1,this.disable=r}static fromNullable(e,t,n,r,s){return null===t&&(t=0),null===n&&(n=e),null===r&&(r=s(n).length),e===n&&t===r&&r++,[e,t,n,r]}static fromOffset(e,t,n){const s=new r.OffsetToLineColumn(e),o=s.map(t,!1),i=s.map(n,!1);return[o.line,o.column,i.line,i.column]}static fromError(e,t,n){return"number"==typeof t.startOffset&&"number"==typeof t.endOffset?this.fromOffset(e,t.startOffset,t.endOffset):"number"==typeof t.line?this.fromNullable(t.line,null,null,null,n):this.fromNullable(0,null,null,null,n)}add(e,t,n,r,s,o){if(this.disable)return;const i=new this.AceRange(...b.fromNullable(e,t,n,r,(e=>this.doc.getLine(e))));this.markers.push(this.session.addMarker(i,"marker-"+("warn"===o?"yellow":"red"),"text",!1)),this.session.setAnnotations([{row:e,column:t,text:s,type:"warn"===o?"warning":"error"}]),this.hasAnnotations=!0}addByError(e,t,n){this.add(...b.fromError(e,t,(e=>this.doc.getLine(e))),t.message,n)}clear(){for(const e of this.markers)this.session.removeMarker(e);this.markers.length=0,this.hasAnnotations&&(this.session.clearAnnotations(),this.hasAnnotations=!1)}}class w{constructor(e,t,n,r,s){this.onUpdate=n,this.doc=e,this.dirty=!0,this.nako3=t,this.onCompileError=r,this.underlineJosi=s,this.lastLexerOutput=null,this.lines=this.doc.getAllLines().map((e=>[{type:"markup.other",value:e,docHTML:null}])),this.cache=null,this.deleted=!1,this.enabled=!0;const o=()=>{if(!this.deleted)if(this.dirty&&this.enabled){const e=Date.now();this.dirty=!1;const s=this.doc.getAllLines().join("\n");try{const e=Date.now(),r=v(this.doc.getAllLines(),t,this.underlineJosi);this.lastLexerOutput=r.lexerOutput,this.lines=r.editorTokens,this.cache={code:s,lines:JSON.stringify(this.lines)},n(0,this.doc.getLength()-1,Date.now()-e)}catch(e){r(s,e)}setTimeout(o,Math.max(100,Math.min(5e3,5*(Date.now()-e))))}else setTimeout(o,100)};setTimeout((()=>{o()}),0)}dispose(){this.deleted=!0}$updateOnChange(e){this.dirty=!0;const t=e.start.row,n=e.end.row;if(t===n)if("insert"===e.action&&this.lines[t]){const n=e.start.column,r=this.lines[t].filter((e=>"composition_placeholder"!==e.type)),s=[];let o=0,i=0;for(;o<r.length&&i+r[o].value.length<=n;)s.push(r[o]),i+=r[o].value.length,o++;for(o<r.length&&i<n?(s.push({type:r[o].type,value:r[o].value.slice(0,n-i),docHTML:null}),s.push({type:"markup.other",value:e.lines[0],docHTML:null}),s.push({type:r[o].type,value:r[o].value.slice(n-i),docHTML:null}),o++):s.push({type:"markup.other",value:e.lines[0],docHTML:null});o<r.length;)s.push(r[o]),o++;this.lines[t]=s}else this.lines[t]=g(t,this.doc);else"remove"===e.action?this.lines.splice(t,n-t+1,g(t,this.doc)):this.lines.splice(t,1,...Array(n-t+1).fill(null).map(((e,n)=>g(n+t,this.doc))))}getTokens(e){if(!this.lines[e]){let t=!1;if(this.enabled){const e=this.doc.getAllLines().join("\n");if(null!==this.cache&&this.cache.code===e)t=!0;else try{const n=v(this.doc.getAllLines(),this.nako3,this.underlineJosi);this.cache={code:e,lines:JSON.stringify(n.editorTokens)},t=!0}catch(e){e instanceof s.NakoError||console.error(e)}}t&&null!==this.cache?this.lines[e]=JSON.parse(this.cache.lines)[e]:this.lines[e]=g(e,this.doc)}return this.lines[e]}start(e){}fireUpdateEvent(e,t){}setDocument(e){}scheduleStart(){}setTokenizer(e){}stop(){}getState(e){return"start"}}class j{constructor(e,t){this.AceRange=e,this.nako3=t}static toggleCommentLines(e,{doc:t},n,r){const s=i.NakoPrepare.getInstance(),o=e=>{const t=c(e);if(t===e)return{type:"blank"};const n=(e=e.substring(t.length)).substring(0,2).split("").map((e=>s.convert1ch(e))).join("");return"#"===n.substring(0,1)?{type:"comment",start:t.length,len:1+(" "===e.charAt(1)?1:0)}:"//"===n?{type:"comment",start:t.length,len:2+(" "===e.charAt(2)?1:0)}:{type:"code"}},u=[];for(let e=n;e<=r;e++)u.push(e);if(!u.every((e=>"blank"===o(t.getLine(e)).type))&&u.every((e=>"code"!==o(t.getLine(e)).type)))for(const e of u){const n=o(t.getLine(e));"comment"===n.type&&t.removeInLine(e,n.start,n.start+n.len)}else{const e=Math.min(...u.map((e=>a(t.getLine(e)))));for(const n of u){const r=t.getLine(n);let s=r.length;for(let t=0;t<r.length;t++)if(a(r.slice(0,t))>=e){s=t;break}t.insertInLine({row:n,column:s},"// ")}}}static checkOutdent(e,t,n){return/^[ „ÄÄ„Éª\t]*„Åì„Åì„Åæ„Åß$/.test(t+n)}autoOutdent(e,{doc:t},n){if(0===n)return;const r=t.getLine(n-1);let s;if(j.isBlockStart(r))s=c(r);else{const e=this.getBlockStructure(t.getAllLines().join("\n")),r=e.parents[n];s=null!==r?e.spaces[r]:""}const o=c(t.getLine(n));t.replace(new this.AceRange(n,0,n,o.length),s)}static getNextLineIndent(e,t,n){return this.isBlockStart(t)?c(t)+n:c(t)}static isBlockStart(e){return/^[ „ÄÄ„Éª\t]*‚óè|(„Å™„Çâ„Å∞|„Å™„Åë„Çå„Å∞|„Åì„Åì„Åã„Çâ|Êù°‰ª∂ÂàÜÂ≤ê|ÈÅï„Åà„Å∞|Âõû|Áπ∞„ÇäËøî(„Åô|„Åó)|„ÅÆÈñì|ÂèçÂæ©|„Å®„ÅØ|„Å´„ÅØ|„Ç®„É©„ÉºÁõ£Ë¶ñ|„Ç®„É©„Éº„Å™„Çâ„Å∞|ÂÆüË°åÈÄüÂ∫¶ÂÑ™ÂÖà)„ÄÅ?\s*$/.test(e)}static getCompletionItems(e,t,n,r){const s=new Map,o=new Set,i=(e,n,r)=>{const i=s.get(e);if(i)i.meta.add(r);else{const i=t.split("").filter((e=>n.includes(e))).length;s.set(e,{value:n,meta:new Set([r]),score:i}),o.add(n)}};for(const e of Object.keys(n.__varslist[0])){if(e.startsWith("!"))continue;const t=n.funclist[e];if("object"!=typeof t||null===t)continue;const r=h(e,n)||"„Éó„É©„Ç∞„Ç§„É≥";"func"===t.type?i(_(t.josi)+e,e,r):i(e,e,r)}for(const[e,{funclist:t}]of Object.entries(n.dependencies))for(const[n,r]of Object.entries(t)){i((r&&"func"===r.type?_(r.josi):"")+n,n,e)}if(null!==r.lastLexerOutput)for(const t of r.lastLexerOutput.tokens){const r=t.value+"";if(t.line!==e&&!o.has(r))if("word"===t.type)i(r,r,"Â§âÊï∞");else if("func"===t.type){const e=n.funclist[r];i((e&&"func"===e.type?_(e.josi):"")+r,r,"Èñ¢Êï∞")}}return Array.from(s.entries()).map((([e,t])=>({caption:e,...t,meta:Array.from(t.meta).join(", ")})))}static getSnippets(e){const t=f(e),n=(e,n,r)=>t?{caption:e,meta:`‚á• ${n}`,score:1,snippet:r.replace(/\t*„Åì„Åì„Åæ„Åß(\n|$)/g,"").replace(/\t/g,"    ")}:{caption:e,meta:`‚á• ${n}`,score:1,snippet:r.replace(/\t/g,"    ")};return[n("if","„ÇÇ„Åó„Äú„Å™„Çâ„Å∞","„ÇÇ„Åó${1:1=1}„Å™„Çâ„Å∞\n\t${2:1„ÇíË°®Á§∫}\nÈÅï„Åà„Å∞\n\t${3:2„ÇíË°®Á§∫}\n„Åì„Åì„Åæ„Åß\n"),n("times","„ÄúÂõû","${1:3}Âõû\n\t${2:1„ÇíË°®Á§∫}\n„Åì„Åì„Åæ„Åß\n"),n("for","Áπ∞„ÇäËøî„Åô","${1:N}„Åß${2:1}„Åã„Çâ${3:3}„Åæ„ÅßÁπ∞„ÇäËøî„Åô\n\t${4:N„ÇíË°®Á§∫}\n„Åì„Åì„Åæ„Åß\n"),n("while","„Äú„ÅÆÈñì","${1:N<2„ÅÆÈñì}\n\tN=N+1\n„Åì„Åì„Åæ„Åß\n"),n("foreach","„Äú„ÇíÂèçÂæ©","${1:[1,2,3]}„ÇíÂèçÂæ©\n\t${2:ÂØæË±°„ÇíË°®Á§∫}\n„Åì„Åì„Åæ„Åß\n"),n("switch","„Äú„ÅßÊù°‰ª∂ÂàÜÂ≤ê","${1:N}„ÅßÊù°‰ª∂ÂàÜÂ≤ê\n\t${2:1}„Å™„Çâ„Å∞\n\t\t${3:1„ÇíË°®Á§∫}\n\t„Åì„Åì„Åæ„Åß\n\t${4:2}„Å™„Çâ„Å∞\n\t\t${5:2„ÇíË°®Á§∫}\n\t„Åì„Åì„Åæ„Åß\n\tÈÅï„Åà„Å∞\n\t\t${6:3„ÇíË°®Á§∫}\n\t„Åì„Åì„Åæ„Åß\n„Åì„Åì„Åæ„Åß\n"),n("function","‚óè„Äú„Å®„ÅØ","‚óèÔºà${1:A„Å®B„Çí}Ôºâ${2:Ë∂≥„Åô}„Å®„ÅØ\n\t${3:A+B„ÇíÊàª„Åô}\n„Åì„Åì„Åæ„Åß\n"),n("test","‚óè„ÉÜ„Çπ„Éà:„Äú„Å®„ÅØ","‚óè„ÉÜ„Çπ„Éà:${2:Ë∂≥„Åô}„Å®„ÅØ\n\t1„Å®2„ÇíË∂≥„Åô\n\t„Åù„Çå„Å®3„ÅåASSERTÁ≠â„Åó„ÅÑ\n„Åì„Åì„Åæ„Åß\n"),n("try","„Ç®„É©„ÉºÁõ£Ë¶ñ","„Ç®„É©„ÉºÁõ£Ë¶ñ\n\t${1:1„ÅÆ„Ç®„É©„ÉºÁô∫Áîü}\n„Ç®„É©„Éº„Å™„Çâ„Å∞\n\t${2:2„ÇíË°®Á§∫}\n„Åì„Åì„Åæ„Åß\n")]}static getCompletionPrefix(e,t){let n=null;if(0===e.length||!/[„ÅÅ-„Çìa-zA-Z„Ç°-„É∂„Éº\u3005\u4E00-\u9FCF]/.test(e[e.length-1]))return"";try{t.reset(),n=k(t,(()=>t.lex(e,"completion.nako3",void 0,!0))).tokens.filter((e=>"eol"!==e.type&&"eof"!==e.type))}catch(e){e instanceof s.NakoError||console.error(e)}if(null===n||0===n.length||!n[n.length-1].value)return"";const r=n[n.length-1].value+"";return/[„ÅÅ-„Çì]/.test(r[r.length-1])&&!/[„ÅÅ-„Çì]/.test(r[0])?"":r}getFoldWidget({doc:e},t,n){return j.isBlockStart(e.getLine(n))?"start":""}getFoldWidgetRange({doc:e},t,n){const r=this.getBlockStructure(e.getAllLines().join("\n")).pairs.find((e=>e[0]===n));return void 0!==r?new this.AceRange(r[0],e.getLine(r[0]).length,r[1]-1,e.getLine(r[1]-1).length):null}static getCodeLens(e){const t=[];for(const[n,r]of Array.from(e.getAllLines().entries())){const e=/^[ „ÄÄ„Éª\t]*‚óè„ÉÜ„Çπ„Éà:(.+?)(?:„Å®„ÅØ|$)/.exec(r);null!==e&&t.push({start:{row:n},command:{title:"„ÉÜ„Çπ„Éà„ÇíÂÆüË°å",id:"runTest",arguments:[e[1]]}})}return t}getBlockStructure(e){return this.blockStructure&&this.blockStructure.code===e||(this.blockStructure={code:e,data:u(e)}),this.blockStructure.data}}class S{constructor(e,t,n){this.editor=e,this.AceRange=t,this.UndoManager=n}newTab(e){return{content:e,cursor:{range:new this.AceRange(0,0,0,0),reversed:!1},scroll:{left:0,top:0},undoManger:new this.UndoManager}}getTab(){return{content:this.editor.getValue(),cursor:{range:this.editor.session.selection.getRange(),reversed:this.editor.session.selection.isBackwards()},scroll:{left:this.editor.session.getScrollLeft(),top:this.editor.session.getScrollTop()},undoManger:this.editor.session.getUndoManager()}}setTab(e){this.editor.setValue(e.content),this.editor.session.selection.setRange(e.cursor.range,e.cursor.reversed),this.editor.session.setScrollLeft(e.scroll.left),this.editor.session.setScrollTop(e.scroll.top),this.editor.session.setUndoManager(e.undoManger)}}class x{static save(e){try{const t={};for(const n of["syntaxHighlighting","keyboardHandler","theme","fontSize","wrap","useSoftTabs","tabSize","showInvisibles","enableLiveAutocompletion","indentedSoftWrap","underlineJosi"])t[n]=e.getOption(n);localStorage.setItem("nako3EditorOptions",JSON.stringify(t))}catch(e){return console.error(e),null}}static load(e){try{if(!window.localStorage)return null;const t=window.localStorage.getItem("nako3EditorOptions");if(null===t)return null;const n=JSON.parse(t);["ace/keyboard/vscode","ace/keyboard/emacs","ace/keyboard/sublime","ace/keyboard/vim"].includes(n.keyboardHandler)&&e.setOption("keyboardHandler",n.keyboardHandler),["ace/theme/xcode","ace/theme/monokai"].includes(n.theme)&&e.setOption("theme",n.theme),"number"==typeof n.fontSize&&e.setOption("fontSize",Math.min(48,Math.max(6,n.fontSize)));for(const t of["syntaxHighlighting","wrap","useSoftTabs","showInvisibles","enableLiveAutocompletion","indentedSoftWrap","underlineJosi"])"boolean"==typeof n[t]&&e.setOption(t,n[t]);"number"==typeof n.tabSize&&e.setOption("tabSize",Math.min(16,Math.max(0,n.tabSize)))}catch(e){return console.error(e),null}}static initPanel(e,t){const n=new e(t);if(this.done)return;this.done=!0;let r=!0;n.renderOptionGroup=e=>{if(r){for(const t of Object.keys(e))delete e[t];e["„Ç∑„É≥„Çø„ÉÉ„ÇØ„Çπ„Éè„Ç§„É©„Ç§„Éà"]={path:"syntaxHighlighting"},e["„Ç≠„Éº„Éê„Ç§„É≥„Éâ"]={path:"keyboardHandler",type:"select",items:[{caption:"VSCode",value:"ace/keyboard/vscode"},{caption:"Emacs",value:"ace/keyboard/emacs"},{caption:"Sublime",value:"ace/keyboard/sublime"},{caption:"Vim",value:"ace/keyboard/vim"}]},e["„Ç´„É©„Éº„ÉÜ„Éº„Éû"]={path:"theme",type:"select",items:[{caption:"„É©„Ç§„Éà",value:"ace/theme/xcode"},{caption:"„ÉÄ„Éº„ÇØ",value:"ace/theme/monokai"}]},e["ÊñáÂ≠ó„Çµ„Ç§„Ç∫"]={path:"fontSize",type:"number",defaultValue:16},e["Ë°å„ÅÆÊäò„ÇäËøî„Åó"]={path:"wrap",type:"select",items:[{caption:"„Å™„Åó",value:"off"},{caption:"„ÅÇ„Çä",value:"free"}]},e["„ÇΩ„Éï„Éà„Çø„Éñ"]=[{path:"useSoftTabs"},{ariaLabel:"Tab Size",path:"tabSize",type:"number",values:[2,3,4,8,16]}],e["Á©∫ÁôΩÊñáÂ≠ó„ÇíË°®Á§∫"]={path:"showInvisibles"},e["Â∏∏„Å´Ëá™ÂãïË£úÂÆå"]={path:"enableLiveAutocompletion"},e["Êäò„ÇäËøî„Åó„ÅüË°å„Çí„Ç§„É≥„Éá„É≥„Éà"]={path:"indentedSoftWrap"},e["Âä©Ë©û„Å´‰∏ãÁ∑ö„ÇíÂºï„Åè"]={path:"underlineJosi"},r=!1}else for(const t of Object.keys(e))delete e[t]},n.render();const s=e.prototype.render;e.prototype.render=function(...e){s.apply(this,...e),this.on("setOption",(()=>{console.log("Ë®≠ÂÆö„Çí‰øùÂ≠ò„Åó„Åæ„Åó„Åü„ÄÇ"),x.save(this.editor)}))}}}const O=[];let E=0;function N(e,t,n){const r=n.edit(e),s="string"==typeof e?document.getElementById(e):e;if(null===s)throw new Error(`[wnako3_editor] id„Åå ${e} „ÅÆHTMLË¶ÅÁ¥†„ÅØÂ≠òÂú®„Åó„Åæ„Åõ„Çì„ÄÇ`);const o=n.require("ace/range").Range,i=new b(r.session,r.session.bgTokenizer.doc,o,!!s.dataset.nako3DisableMarker);if(s.classList.contains("nako3_ace_mounted"))throw new Error("„Å™„Åß„Åó„ÅìË®ÄË™û„ÅÆ„Ç®„Éá„Ç£„Çø„ÅÆÂàùÊúüÂåñÂá¶ÁêÜ„ÇíÂêå‰∏Ä„ÅÆHTMLË¶ÅÁ¥†„Å´ÂØæ„Åó„Å¶Ë§áÊï∞ÂõûÈÅ©Áî®„Åó„Åæ„Åó„Åü„ÄÇ");s.setAttribute("lang","en"),s.classList.add("nako3_ace_mounted"),s.classList.add("nako3_editor");const u=s.dataset.nako3Readonly;u&&(s.classList.add("readonly"),r.setReadOnly(!0)),r.setFontSize(16);const c=e=>{const t=e.doc,n=t.getAllLines(),r=e.selection.getRange();t.removeFullLines(0,t.getLength()),t.insert({row:0,column:0},n.join("\n")),e.selection.setRange(r,!1)};n.require("ace/config").defineOptions(r.constructor.prototype,"editor",{syntaxHighlighting:{set:function(e){this.session.bgTokenizer.enabled=e,c(this.session)},initialValue:!0},underlineJosi:{set:function(e){this.session.bgTokenizer.underlineJosi=e,c(this.session)},initialValue:!0}}),r.setOptions({wrap:"free",indentedSoftWrap:!1,showPrintMargin:!1}),n.require("ace/keybindings/vscode"),r.setKeyboardHandler("ace/keyboard/vscode");const a=new(0,n.require("ace/tooltip").Tooltip)(r.container);n.require("ace/lib/event").addListener(r.renderer.content,"mouseout",(()=>{a.hide()})),r.on("mousemove",(e=>{const t=e.getDocumentPosition();if(t.column>=e.editor.session.getLine(t.row).length)return void a.hide();const n=e.editor.session.getTokenAt(t.row,t.column+1);null!==n&&n.docHTML?(a.setHtml(n.docHTML),a.show(null,e.clientX,e.clientY)):a.hide()})),r.session.on("change",(()=>{a.hide(),i.clear()})),r.on("guttermousedown",(e=>{const t=e.domEvent.target;if(-1===t.className.indexOf("ace_gutter-cell"))return;if(!r.isFocused())return;const n=e.getDocumentPosition().row,s=e.editor.editorId||0;-1===t.className.indexOf("ace_breakpoint")?(e.editor.session.setBreakpoint(n),window.postMessage({action:"breakpoint:on",row:n,editorId:s})):(e.editor.session.clearBreakpoint(n),window.postMessage({action:"breakpoint:off",row:n,editorId:s})),e.stop()}));const f=!!s.dataset.nako3ForceSyntaxHighlighting;let l=!0;const p=r.session.bgTokenizer,h=new w(r.session.bgTokenizer.doc,t,((e,t,n)=>{p._signal("update",{data:{first:e,last:t}}),n>220&&r.getOption("syntaxHighlighting")&&!u&&!f&&l&&(l=!1,N.classList.add("visible"),r.setOption("syntaxHighlighting",!1),setTimeout((()=>{N.classList.remove("visible")}),13e3))}),((e,t)=>{i.addByError(e,t,"error")}),r.getOption("underlineJosi"));r.setOptions({enableBasicAutocompletion:!0,enableSnippets:!0,enableLiveAutocompletion:!0});const d=E++;r.wnako3EditorId=d,O.push({getCompletions(e,n,r,s,o){if(e.wnako3EditorId!==d)o(null,[]);else{const e=j.getCompletionItems(r.row,s,t,h);if(e.some((e=>e.value===s)))return void o(null,[]);o(null,e)}}},{getCompletions(e,t,n,r,s){s(null,e.wnako3EditorId!==d?[]:j.getSnippets(e.session.doc.getAllLines().join("\n")))}}),n.require("ace/ext/language_tools").setCompleters(O),n.require("ace/autocomplete/util").getCompletionPrefix=e=>{const n=e.getCursorPosition();return j.getCompletionPrefix(e.session.doc.getLine(n.row).slice(0,n.column),t)};const _=new j(o,t),y=n.require("ace/lib/oop"),m=n.require("ace/mode/text").Mode,g=function(){this.HighlightRules=(new m).HighlightRules,this.foldingRules={getFoldWidget:_.getFoldWidget.bind(_),getFoldWidgetRange:_.getFoldWidgetRange.bind(_)}};y.inherits(g,m),g.prototype.toggleCommentLines=j.toggleCommentLines.bind(j),g.prototype.getNextLineIndent=j.getNextLineIndent.bind(j),g.prototype.checkOutdent=j.checkOutdent.bind(j),g.prototype.autoOutdent=_.autoOutdent.bind(_),r.session.setMode(new g),r.session.bgTokenizer.stop(),r.session.bgTokenizer=h,r.setTheme("ace/theme/xcode"),x.load(r);const k=n.require("ace/ext/options").OptionPanel;x.initPanel(k,r);const v=document.createElement("div");v.classList.add("button-container"),r.container.appendChild(v);const N=document.createElement("span");N.classList.add("slow-speed-message"),N.innerHTML="<span>„Ç®„Éá„Ç£„Çø„ÅÆ|ÂøúÁ≠îÈÄüÂ∫¶„Åå|‰Ωé‰∏ã„Åó„Åü„Åü„ÇÅ|„Ç∑„É≥„Çø„ÉÉ„ÇØ„Çπ|„Éè„Ç§„É©„Ç§„Éà„Çí|ÁÑ°ÂäπÂåñ|„Åó„Åæ„Åó„Åü„ÄÇ</span>".replace(/\|/g,"</span><span>"),v.appendChild(N);const M=[];try{const e=n.require("ace/ext/code_lens");r.setOption("enableCodeLens",!0),r.commands.addCommand({name:"runTest",exec:(e,t)=>{M.filter((e=>"test"===e.name)).forEach((e=>e.callback(t[0])))}}),e.registerCodeLensProvider(r,{provideCodeLenses:(e,t)=>{t(null,M.some((e=>"test"===e.name))?j.getCodeLens(e.doc):[])}})}catch(e){console.error(e)}const $=()=>{r.container.classList.remove("fullscreen"),r.renderer.setScrollMargin(0,0,0,0)},A=document.createElement("span");A.classList.add("editor-button"),A.innerText="ÂÖ®ÁîªÈù¢",A.addEventListener("click",(e=>{r.container.classList.contains("fullscreen")?$():(r.container.classList.add("fullscreen"),r.renderer.setScrollMargin(20,20,0,0)),e.preventDefault()})),v.appendChild(A);const T=document.createElement("span");T.classList.add("editor-button"),T.innerText="Ë®≠ÂÆö",T.addEventListener("click",(e=>{$(),r.execCommand("showSettingsMenu"),e.preventDefault()})),v.appendChild(T);const C=n.require("ace/undomanager").UndoManager,L=new S(r,o,C);s.dataset.nako3Resizable&&(new MutationObserver((()=>{r.resize()})).observe(r.container,{attributes:!0}),r.renderer.setScrollMargin(4,0,4,0),r.container.classList.add("resizable"));const F=()=>{h.dirty=!0};return{editor:r,editorMarkers:i,editorTabs:L,retokenize:F,run:e=>{const n=r.getValue(),s=e.preCode||"",o=t.replaceLogger();if(e.outputContainer){const t=e.outputContainer;o.addListener("info",(({html:e})=>{t||console.log(e),t.style.display="block",t.innerHTML+=e})),e.outputContainer.classList.add("nako3-output-container")}let u=e.file||"main.nako3";o.addListener("info",(({position:e,noColor:t,level:r})=>{!e||e.file!==u||"warn"!==r&&"error"!==r||i.addByError(n,{...e,message:t},r)}));return{promise:t.loadDependencies(s+n,u,s,e.localFiles||{}).then((async()=>{if(u||(u="main.nako3"),"test"===e.method)return t.test(s+n,u,s,e.testName);if("compile"===e.method)return t.compile(s+n,u,!1,s);{const e={resetEnv:!0,resetAll:!0,preCode:s};return await t.runAsync(s+n,u,e)}})).catch((e=>{console.error("[wnako3_editor]",e,t.__globalObj)})).then((async e=>{for(F();h.dirty;)await new Promise((e=>setTimeout(e,0)));return e})).catch((e=>{console.error("[wnako3_editor::run::promise::catch]",e)})),logger:o,code:n}},codeLensListeners:M}}t.default={tokenize:v,setupEditor:N,LanguageFeatures:j,EditorMarkers:b,BackgroundTokenizer:w}},"./src/wnako3mod.mjs":function(e,t,n){"use strict";n.r(t),n.d(t,{WebNakoCompiler:function(){return a}});var r=n("./core/src/nako3.mjs"),s=n("./core/src/nako_errors.mjs"),o=n("./src/wnako3_editor.mjs"),i=n("./src/nako_version.mjs"),u=n("./src/plugin_browser.mjs");const c=/^(„Å™„Åß„Åó„Åì|nako|nadesiko)3?$/;class a extends r.NakoCompiler{constructor(){super({useBasicPlugin:!0}),this.version=i.default.version,this.wnakoVersion=i.default,this.localFiles={},this.addPluginObject("PluginBrowser",u.default),this.addListener("beforeRun",(e=>{e.__varslist[0].set("„Éä„Éá„Ç∑„Ç≥Á®ÆÈ°û","wnako3"),e.__varslist[0].set("„Éä„Éá„Ç∑„Ç≥„Éê„Éº„Ç∏„Éß„É≥",i.default.version),e.__varslist[0].set("WNAKO„Éê„Éº„Ç∏„Éß„É≥",i.default.version)}))}async runNakoScript(){let e=0;const t=document.querySelectorAll("script");for(let n=0;n<t.length;n++){const r=t[n];if(r.type.match(c)){e++;const t=`${"object"==typeof window.location?window.location.href:"url_unknown"}#script${e}.nako3`,n=r.text;await this.loadDependencies(n,t),await this.runAsync(r.text,t)}}e>1&&console.log("ÂÆüË°å„Åó„Åü„Å™„Åß„Åó„Åì„ÅÆÂÄãÊï∞=",e)}async loadDependencies(e,t,n="",r={}){return this.localFiles=r||{},this._loadDependencies(e,t,n,this.getLoaderTool())}checkScriptTagParam(){const e=document.querySelectorAll("script");for(let t=0;t<e.length;t++){const n=e[t].src||"";if(n.indexOf("wnako3.js?run")>=0||n.indexOf("wnako3.js&run")>=0)return!0}return!1}setupEditor(e){return(0,o.setupEditor)(e,this,window.ace)}getLoaderTool(){return{readJs:this.readJs,readNako3:this.readNako3,resolvePath:this.resolvePath}}readJs(e,t){return this.localFiles&&this.localFiles[e]?{task:(async()=>()=>(Function(this.localFiles[e])(),{}))()}:{task:(async()=>{const n=("/"+e).split("/").pop()||"?",r=await fetch(e);if(!r.ok)throw new s.NakoImportError(`„Éï„Ç°„Ç§„É´„Äé${e}„Äè„ÅÆ„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ„Å´Â§±Êïó„Åó„Åæ„Åó„Åü: ${r.status} ${r.statusText}`,t.file,t.line);let o=await r.text();const i=`exportObject${Math.floor(1e6*Math.random())}`;if(o.includes("default export")&&(o=o.replace("default export",`;let ${i} = `),o+=`\n;navigator.nako3.addPluginObject('${n}', ${i});\n`),!o.includes("navigator.nako3.addPluginObject"))throw new s.NakoImportError(`„Éï„Ç°„Ç§„É´ ${e} „ÅÆ‰∏≠„Å´ÊñáÂ≠óÂàó "navigator.nako3.addPluginObject" „ÅåÂ≠òÂú®„Åó„Åæ„Åõ„Çì„ÄÇÁèæÂú®„ÄÅ„Éñ„É©„Ç¶„Ç∂Áâà„ÅÆ„Å™„Åß„Åó„ÅìË®ÄË™ûv3„ÅØËá™ÂãïÁôªÈå≤„Åô„Çã„Éó„É©„Ç∞„Ç§„É≥„ÅÆ„Åø„Çí„Çµ„Éù„Éº„Éà„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ`,t.file,t.line);const u=navigator,c=u.nako3;return()=>{const n=u,r=n.nako3;n.nako3=c;try{Function(o).apply(c.__globalObj)}catch(n){throw new s.NakoImportError(`„Éó„É©„Ç∞„Ç§„É≥ ${e} „ÅÆÂèñ„ÇäËæº„Åø„Å´Â§±Êïó: ${n instanceof Error?n.message:n+""}`,t.file,t.line)}finally{n.nako3=r}return{}}})()}}readNako3(e,t){return this.localFiles&&this.localFiles[e]?{task:(()=>new Promise(((t,n)=>{t(this.localFiles[e])})))()}:{task:(async()=>{const n=await fetch(e);if(!n.ok)throw new s.NakoImportError(`„Éï„Ç°„Ç§„É´ ${e} „ÅÆ„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ„Å´Â§±Êïó„Åó„Åæ„Åó„Åü: ${n.status} ${n.statusText}`,t.file,t.line);return await n.text()})()}}resolvePath(e,t,n){let r=e;if(r.match(/^https?:\/\//));else if(this.localFiles&&this.localFiles[e])r=this.localFiles[e];else try{r=new URL(e).pathname}catch(o){try{let t=function(e){const t=e.split("/");if(t&&t.length>1)return t.slice(0,t.length-1).join("/");return""}(n);if(""===t){const e=window.location.href.split("/");t="/"+e.slice(3,e.length-1).join("/")}r=function(e,t){const n=e.split("/"),r=t.split("/");for(const e of r)""!==e&&"."!==e&&(".."!==e?n.push(e):n.pop());return n.join("/")}(t,e)}catch(e){throw new s.NakoImportError(`Âèñ„ÇäËæº„ÅøÊñá„ÅÆÂºïÊï∞„Åß„Éë„Çπ„ÅåËß£Ê±∫„Åß„Åç„Åæ„Åõ„Çì„ÄÇhttps:// „Åã http:// „ÅßÂßã„Åæ„Çã„Ç¢„Éâ„É¨„Çπ„ÇíÊåáÂÆö„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ\n${e}`,t.file,t.line)}}const o=(e,t)=>{for(const n of t){if(e.endsWith(n))return!0;if(e.endsWith(n+".txt"))return!0}return!1},i=(r+"?").split("?")[0];if(o(i,[".js",".mjs"]))return{filePath:r,type:"js"};if(o(i,[".nako3",".nako"]))return{filePath:r,type:"nako3"};if(o(r,[".js",".mjs"]))return{filePath:r,type:"js"};if(o(r,[".nako3",".nako"]))return{filePath:r,type:"nako3"};throw new s.NakoImportError(`„Éï„Ç°„Ç§„É´„Äé${e}„Äè„ÅØÊã°ÂºµÂ≠ê„Åå(.nako3|.js|.js.txt|.mjs|.mjs.txt)‰ª•Â§ñ„Å™„ÅÆ„ÅßÂèñ„ÇäËæº„ÇÅ„Åæ„Åõ„Çì„ÄÇ`,t.file,t.line)}}}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](n,n.exports,__webpack_require__),n.exports}__webpack_require__.d=function(e,t){for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__={};!function(){"use strict";__webpack_require__.r(__webpack_exports__);var e=__webpack_require__("./src/wnako3mod.mjs");if("object"==typeof navigator&&!navigator.exportWNako3){const t=navigator.nako3=new e.WebNakoCompiler;window.addEventListener("DOMContentLoaded",(e=>{t.checkScriptTagParam()&&t.runNakoScript()}),!1)}}()})();
//# sourceMappingURL=wnako3.js.map